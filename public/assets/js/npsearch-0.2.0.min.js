function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(u){u.extend(u.fn,{validate:function(e){if(this.length){var n=u.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new u.validator(e,this[0]),u.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),u(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==u(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function e(){var e;return!n.settings.submitHandler||(n.submitButton&&(e=u("<input type='hidden'/>").attr("name",n.submitButton.name).val(u(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&e.remove(),!1)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,e()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):e():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t;return u(this[0]).is("form")?e=this.validate().form():(e=!0,t=u(this[0].form).validate(),this.each(function(){e=t.element(this)&&e})),e},removeAttrs:function(e){var n={},i=this;return u.each(e.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(e,t){var n,i,s,o,a,r,l=this[0];if(e)switch(n=u.data(l.form,"validator").settings,i=n.rules,s=u.validator.staticRules(l),e){case"add":u.extend(s,u.validator.normalizeRule(t)),delete s.messages,i[l.name]=s,t.messages&&(n.messages[l.name]=u.extend(n.messages[l.name],t.messages));break;case"remove":return t?(r={},u.each(t.split(/\s/),function(e,t){r[t]=s[t],delete s[t],"required"===t&&u(l).removeAttr("aria-required")}),r):(delete i[l.name],s)}return(o=u.validator.normalizeRules(u.extend({},u.validator.classRules(l),u.validator.attributeRules(l),u.validator.dataRules(l),u.validator.staticRules(l)),l)).required&&(a=o.required,delete o.required,o=u.extend({required:a},o),u(l).attr("aria-required","true")),o.remote&&(a=o.remote,delete o.remote,o=u.extend(o,{remote:a})),o}}),u.extend(u.expr[":"],{blank:function(e){return!u.trim(""+u(e).val())},filled:function(e){return!!u.trim(""+u(e).val())},unchecked:function(e){return!u(e).prop("checked")}}),u.validator=function(e,t){this.settings=u.extend(!0,{},u.validator.defaults,e),this.currentForm=t,this.init()},u.validator.format=function(n,e){return 1===arguments.length?function(){var e=u.makeArray(arguments);return e.unshift(n),u.validator.format.apply(this,e)}:(2<arguments.length&&e.constructor!==Array&&(e=u.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),u.each(e,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),n)},u.extend(u.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:u([]),errorLabelContainer:u([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(n):u(e).addClass(t).removeClass(n)},unhighlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(n):u(e).removeClass(t).addClass(n)}},setDefaults:function(e){u.extend(u.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:u.validator.format("Please enter no more than {0} characters."),minlength:u.validator.format("Please enter at least {0} characters."),rangelength:u.validator.format("Please enter a value between {0} and {1} characters long."),range:u.validator.format("Please enter a value between {0} and {1}."),max:u.validator.format("Please enter a value less than or equal to {0}."),min:u.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=u.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,""),i=t.settings;i[n]&&!this.is(i.ignore)&&i[n].call(t,this[0],e)}this.labelContainer=u(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||u(this.currentForm),this.containers=u(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};u.each(this.settings.groups,function(n,e){"string"==typeof e&&(e=e.split(/\s/)),u.each(e,function(e,t){i[t]=n})}),n=this.settings.rules,u.each(n,function(e,t){n[e]=u.validator.normalizeRule(t)}),u(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&u(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),u(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),u.extend(this.submitted,this.errorMap),this.invalid=u.extend({},this.errorMap),this.valid()||u(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t=this.clean(e),n=this.validationTargetFor(t),i=!0;return void 0===(this.lastElement=n)?delete this.invalid[t.name]:(this.prepareElement(n),this.currentElements=u(n),(i=!1!==this.check(n))?delete this.invalid[n.name]:this.invalid[n.name]=!0),u(e).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){for(var e in u.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=u.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){u.fn.resetForm&&u(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{u(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===u.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return u(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(u(this).rules()))&&(t[this.name]=!0)})},clean:function(e){return u(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return u(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=u([]),this.toHide=u([]),this.currentElements=u([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,n=u(e),i=e.type;return"radio"===i||"checkbox"===i?u("input[name='"+e.name+"']:checked").val():"number"===i&&void 0!==e.validity?!e.validity.badInput&&n.val():"string"==typeof(t=n.val())?t.replace(/\r/g,""):t},check:function(t){t=this.validationTargetFor(this.clean(t));var e,n,i,s=u(t).rules(),o=u.map(s,function(e,t){return t}).length,a=!1,r=this.elementValue(t);for(n in s){i={method:n,parameters:s[n]};try{if("dependency-mismatch"===(e=u.validator.methods[n].call(this,r,t,i.parameters))&&1===o){a=!0;continue}if(a=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,i),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e}}if(!a)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(e,t){return u(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||u(e).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,u.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t.method),i=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,t.parameters,e):i.test(n)&&(n=u.validator.format(n.replace(i,"{$1}"),t.parameters)),this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return u(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var n,i,s,o=this.errorsFor(e),a=this.idOrName(e),r=u(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(t)):(n=o=u("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,u(e)):n.insertAfter(e),o.is("label")?o.attr("for",a):0===o.parents("label[for='"+a+"']").length&&(s=o.attr("id"),r?r.match(new RegExp("\b"+s+"\b"))||(r+=" "+s):r=s,u(e).attr("aria-describedby",r),(i=this.groups[e.name])&&u.each(this.groups,function(e,t){t===i&&u("[name='"+e+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!t&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var t=this.idOrName(e),n=u(e).attr("aria-describedby"),i="label[for='"+t+"'], label[for='"+t+"'] *";return n&&(i=i+", #"+n.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return u(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return u("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!u(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!u.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(u(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(u(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return u.data(e,"previousValue")||u.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:u.extend(this.classRuleSettings,e)},classRules:function(e){var t={},n=u(e).attr("class");return n&&u.each(n.split(" "),function(){this in u.validator.classRuleSettings&&u.extend(t,u.validator.classRuleSettings[this])}),t},attributeRules:function(e){var t,n,i={},s=u(e),o=e.getAttribute("type");for(t in u.validator.methods)"required"===t?(""===(n=e.getAttribute(t))&&(n=!0),n=!!n):n=s.attr(t),/min|max/.test(t)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?i[t]=n:o===t&&"range"!==o&&(i[t]=!0);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var t,n,i={},s=u(e);for(t in u.validator.methods)void 0!==(n=s.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()))&&(i[t]=n);return i},staticRules:function(e){var t={},n=u.data(e.form,"validator");return n.settings.rules&&(t=u.validator.normalizeRule(n.settings.rules[e.name])||{}),t},normalizeRules:function(i,s){return u.each(i,function(e,t){if(!1!==t){if(t.param||t.depends){var n=!0;switch(typeof t.depends){case"string":n=!!u(t.depends,s.form).length;break;case"function":n=t.depends.call(s,s)}n?i[e]=void 0===t.param||t.param:delete i[e]}}else delete i[e]}),u.each(i,function(e,t){i[e]=u.isFunction(t)?t(s):t}),u.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),u.each(["rangelength","range"],function(){var e;i[this]&&(u.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(e=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(e[0]),Number(e[1])]))}),u.validator.autoCreateRanges&&(i.min&&i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),i.minlength&&i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(e){if("string"==typeof e){var t={};u.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,n){u.validator.methods[e]=t,u.validator.messages[e]=void 0!==n?n:u.validator.messages[e],t.length<3&&u.validator.addClassRules(e,u.validator.normalizeRule(e))},methods:{required:function(e,t,n){if(!this.depend(n,t))return"dependency-mismatch";if("select"===t.nodeName.toLowerCase()){var i=u(t).val();return i&&0<i.length}return this.checkable(t)?0<this.getLength(e,t):0<u.trim(e).length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,s=0,o=0,a=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(n=e.length-1;0<=n;n--)i=e.charAt(n),o=parseInt(i,10),a&&9<(o*=2)&&(o-=9),s+=o,a=!a;return s%10==0},minlength:function(e,t,n){var i=u.isArray(e)?e.length:this.getLength(u.trim(e),t);return this.optional(t)||n<=i},maxlength:function(e,t,n){var i=u.isArray(e)?e.length:this.getLength(u.trim(e),t);return this.optional(t)||i<=n},rangelength:function(e,t,n){var i=u.isArray(e)?e.length:this.getLength(u.trim(e),t);return this.optional(t)||i>=n[0]&&i<=n[1]},min:function(e,t,n){return this.optional(t)||n<=e},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(e,t,n){var i=u(n);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){u(t).valid()}),e===i.val()},remote:function(o,a,e){if(this.optional(a))return"dependency-mismatch";var r,t,l=this.previousValue(a);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),l.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=l.message,e="string"==typeof e&&{url:e}||e,l.old===o?l.valid:(l.old=o,(r=this).startRequest(a),(t={})[a.name]=o,u.ajax(u.extend(!0,{url:e,mode:"abort",port:"validate"+a.name,dataType:"json",data:t,context:r.currentForm,success:function(e){var t,n,i,s=!0===e||"true"===e;r.settings.messages[a.name].remote=l.originalMessage,s?(i=r.formSubmitted,r.prepareElement(a),r.formSubmitted=i,r.successList.push(a),delete r.invalid[a.name],r.showErrors()):(t={},n=e||r.defaultMessage(a,"remote"),t[a.name]=l.message=u.isFunction(n)?n(o):n,r.invalid[a.name]=!0,r.showErrors(t)),l.valid=s,r.stopRequest(a,s)}},e)),"pending")}}}),u.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var i,s={};u.ajaxPrefilter?u.ajaxPrefilter(function(e,t,n){var i=e.port;"abort"===e.mode&&(s[i]&&s[i].abort(),s[i]=n)}):(i=u.ajax,u.ajax=function(e){var t=("mode"in e?e:u.ajaxSettings).mode,n=("port"in e?e:u.ajaxSettings).port;return"abort"===t?(s[n]&&s[n].abort(),s[n]=i.apply(this,arguments),s[n]):i.apply(this,arguments)}),u.extend(u.fn,{validateDelegate:function(n,e,i){return this.bind(e,function(e){var t=u(e.target);return t.is(n)?i.apply(t,arguments):void 0})}})}),function(global){!function(l){"use strict";function r(e){var t,n,i,s,r,o=c(e||{}),a=(t=o,n=d("uploaderType"),i=d("endpointType"),n?(n=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase(),i?new qq[i]["FineUploader"+n](t):new qq["FineUploader"+n](t)):i?new qq[i].FineUploader(t):new qq.FineUploader(t));return u(a),s=a,r=o.callbacks={},l.each(s._options.callbacks,function(e,s){var o,a;o=(o=/^on(\w+)/.exec(e)[1]).substring(0,1).toLowerCase()+o.substring(1),a=p,r[e]=function(){var e,t,n=Array.prototype.slice.call(arguments),i=[];l.each(n,function(e,t){i.push(h(t))}),e=s.apply(this,n);try{t=a.triggerHandler(o,i)}catch(e){qq.log("Caught error in Fine Uploader jQuery event handler: "+e.message,"error")}return null!=e?e:t}}),s._options.callbacks=r,p}function n(e,t){var n=p.data("fineuploader");if(!t)return void 0===n?null:n[e];void 0===n&&(n={}),n[e]=t,p.data("fineuploader",n)}function u(e){return n("uploader",e)}function d(e,t){return n(e,t)}function c(e,t){var n,i;if(n=void 0===t?"basic"!==e.uploaderType?{element:p[0]}:{}:t,l.each(e,function(e,t){0<=l.inArray(e,s)?d(e,t):t instanceof l?n[e]=t[0]:l.isPlainObject(t)?(n[e]={},c(t,n[e])):l.isArray(t)?(i=[],l.each(t,function(e,t){var n={};t instanceof l?l.merge(i,t):l.isPlainObject(t)?(c(t,n),i.push(n)):i.push(t)}),n[e]=i):n[e]=t}),void 0===t)return n}function h(e){var t=e;return null==e||"object"!=typeof e||1!==e.nodeType&&9!==e.nodeType||!e.cloneNode||(t=l(e)),t}var p,s=["uploaderType","endpointType"];l.fn.fineUploader=function(i){var s=this,o=arguments,a=[];return this.each(function(e,t){if(p=l(t),u()&&(n=i,"string"===l.type(n)&&!n.match(/^_/)&&void 0!==u()[n])){if(a.push(function(e){var t=[];return c(Array.prototype.slice.call(arguments,1),t),h(u()[e].apply(u(),t))}.apply(s,o)),1===s.length)return!1}else"object"!=typeof i&&i?l.error("Method "+i+" does not exist on jQuery.fineUploader"):r.apply(s,o);var n}),1===a.length?a[0]:1<a.length?a:this}}(jQuery),function(r){"use strict";function l(e){e||(e={}),e.dropZoneElements=[c];var s,t=d(e);return s=t.callbacks={},r.each(new qq.DragAndDrop.callbacks,function(e,t){var n,i=e;n=c,s[e]=function(){var e=Array.prototype.slice.call(arguments);return n.triggerHandler(i,e)}}),u(new qq.DragAndDrop(t)),c}function u(e){return function(e,t){var n=c.data("fineUploaderDnd");if(!t)return void 0===n?null:n[e];void 0===n&&(n={}),n[e]=t,c.data("fineUploaderDnd",n)}("dndInstance",e)}function d(e,t){var n,i;if(n=void 0===t?{}:t,r.each(e,function(e,t){t instanceof r?n[e]=t[0]:r.isPlainObject(t)?(n[e]={},d(t,n[e])):r.isArray(t)?(i=[],r.each(t,function(e,t){t instanceof r?r.merge(i,t):i.push(t)}),n[e]=i):n[e]=t}),void 0===t)return n}var c;r.fn.fineUploaderDnd=function(i){var s=this,o=arguments,a=[];return this.each(function(e,t){if(c=r(t),u()&&(n=i,"string"===r.type(n)&&"dispose"===n&&void 0!==u()[n])){if(a.push(function(e){var t=[];return d(Array.prototype.slice.call(arguments,1),t),u()[e].apply(u(),t)}.apply(s,o)),1===s.length)return!1}else"object"!=typeof i&&i?r.error("Method "+i+" does not exist in Fine Uploader's DnD module."):l.apply(s,o);var n}),1===a.length?a[0]:1<a.length?a:this}}(jQuery);var qq=function(s){"use strict";return{hide:function(){return s.style.display="none",this},attach:function(e,t){return s.addEventListener?s.addEventListener(e,t,!1):s.attachEvent&&s.attachEvent("on"+e,t),function(){qq(s).detach(e,t)}},detach:function(e,t){return s.removeEventListener?s.removeEventListener(e,t,!1):s.attachEvent&&s.detachEvent("on"+e,t),this},contains:function(e){return!!e&&(s===e||(s.contains?s.contains(e):!!(8&e.compareDocumentPosition(s))))},insertBefore:function(e){return e.parentNode.insertBefore(s,e),this},remove:function(){return s.parentNode.removeChild(s),this},css:function(e){if(null==s.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=e.opacity&&"string"!=typeof s.style.opacity&&void 0!==s.filters&&(e.filter="alpha(opacity="+Math.round(100*e.opacity)+")"),qq.extend(s.style,e),this},hasClass:function(e,t){var n=new RegExp("(^| )"+e+"( |$)");return n.test(s.className)||!(!t||!n.test(s.parentNode.className))},addClass:function(e){return qq(s).hasClass(e)||(s.className+=" "+e),this},removeClass:function(e){var t=new RegExp("(^| )"+e+"( |$)");return s.className=s.className.replace(t," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(n,e){var t,i=[];return e&&s.querySelector?s.querySelector("."+n):s.querySelectorAll?s.querySelectorAll("."+n):(t=s.getElementsByTagName("*"),qq.each(t,function(e,t){qq(t).hasClass(n)&&i.push(t)}),e?i[0]:i)},getFirstByClass:function(e){return qq(s).getByClass(e,!0)},children:function(){for(var e=[],t=s.firstChild;t;)1===t.nodeType&&e.push(t),t=t.nextSibling;return e},setText:function(e){return s.innerText=e,s.textContent=e,this},clearText:function(){return qq(s).setText("")},hasAttribute:function(e){var t;return s.hasAttribute?!!s.hasAttribute(e)&&null==/^false$/i.exec(s.getAttribute(e)):void 0!==(t=s[e])&&null==/^false$/i.exec(t)}}},ZJ;!function(){"use strict";var xh;qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,i,s,o,a,r,l;return n=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),s=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),i=new Uint8Array(t),qq.each(n,function(e,t){i[e]=t.charCodeAt(0)}),o=t,a=s,r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,(l=r&&new r)?(l.append(o),l.getBlob(a)):new Blob([o],{type:a})},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,i=n.indexOf("{}");return qq.each(t,function(e,t){if(n=n.substring(0,i)+t+n.substring(i+2),(i=n.indexOf("{}",i+t.length))<0)return!1}),n},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,n){var t=function(e){var t=e.toLowerCase();return n?"file"!==t:"file"===t};return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&t(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&t(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&0<e.items.length&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){return(e.slice||e.mozSlice||e.webkitSlice).call(e,t,n)},qq.arrayBufferToHex=function(e){var i="",t=new Uint8Array(e);return qq.each(t,function(e,t){var n=t.toString(16);n.length<2&&(n="0"+n),i+=n}),i},qq.readBlobToHex=function(e,t,n){var i=qq.sliceBlob(e,t,t+n),s=new FileReader,o=new qq.Promise;return s.onload=function(){o.success(qq.arrayBufferToHex(s.result))},s.onerror=o.failure,s.readAsArrayBuffer(i),o},qq.extend=function(n,e,i){return qq.each(e,function(e,t){i&&qq.isObject(t)?(void 0===n[e]&&(n[e]={}),qq.extend(n[e],t,!0)):n[e]=t}),n},qq.override=function(n,e){var i={},t=e(i);return qq.each(t,function(e,t){void 0!==n[e]&&(i[e]=n[e]),n[e]=t}),n},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var i=e.length;for(n<0&&(n+=i);n<i;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return 0<=navigator.userAgent.indexOf("Edge")},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=(xh=document.createElement("div"),function(e){xh.innerHTML=e;var t=xh.firstChild;return xh.removeChild(t),t}),qq.each=function(e,t){var n;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&!1!==t(e.key(n),e.getItem(e.key(n)));n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&!1!==t(n,e[n]);n++);else if(qq.isString(e))for(n=0;n<e.length&&!1!==t(n,e.charAt(n));n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t(n,e[n]))break},qq.bind=function(t,n){if(qq.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return function(){var e=qq.extend([],i);return arguments.length&&(e=e.concat(Array.prototype.slice.call(arguments))),t.apply(n,e)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,i,t){var s=[],n="&",o=function(e,t){var n=i?/\[\]$/.test(i)?i:i+"["+t+"]":t;"undefined"!==n&&"undefined"!==t&&s.push("object"==typeof e?qq.obj2url(e,n,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(n)+"="+encodeURIComponent(e()):encodeURIComponent(n)+"="+encodeURIComponent(e))};return!t&&i?(n=/\?/.test(i)?/\?$/.test(i)?"":"&":"?",s.push(i),s.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&void 0!==e?qq.each(e,function(e,t){o(t,e)}):null!=e&&"object"==typeof e?qq.each(e,function(e,t){o(t,e)}):s.push(encodeURIComponent(i)+"="+encodeURIComponent(e)),i?s.join(n):s.join(n).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,n,i){return n||(n=new FormData),qq.each(e,function(e,t){e=i?i+"["+e+"]":e,qq.isObject(t)?qq.obj2FormData(t,n,e):qq.isFunction(t)?n.append(e,t()):n.append(e,t)}),n},qq.obj2Inputs=function(e,n){var i;return n||(n=document.createElement("form")),qq.obj2FormData(e,{append:function(e,t){(i=document.createElement("input")).setAttribute("name",e),i.setAttribute("value",t),n.appendChild(i)}}),n},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(0<t)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var t=[];return{dispose:function(){for(var e;(e=t.shift())&&e(),e;);},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(e){t.push(e)}}}}(),function(){"use strict";"function"==typeof define&&define.amd?define(function(){return qq}):"undefined"!=typeof module&&module.exports?module.exports=qq:global.qq=qq}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.15.4",qq.supportedFeatures=function(){"use strict";function e(){return!!window.XMLHttpRequest&&void 0!==qq.createXhrInstance().withCredentials}function t(){return void 0!==window.XDomainRequest}var n,i,s,o,a,r,l,u,d,c,h,p,f,m,g,v;return n=function(){var e,t=!0;try{(e=document.createElement("input")).type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}(),i=(o=n&&qq.isXhrUploadSupported())&&!qq.androidStock(),a=(s=o&&(("draggable"in(v=document.createElement("span"))||"ondragstart"in v&&"ondrop"in v)&&!qq.android()&&!qq.ios()))&&(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/),r=o&&qq.isFileChunkingSupported(),l=o&&r&&function(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}(),u=o&&(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/),d=n&&(void 0!==window.postMessage||o),h=e(),c=t(),p=!!e()||t(),f=void 0!==document.createElement("input").webkitdirectory,m=o&&void 0!==window.FileReader,g=!!o&&!qq.androidStock()&&!qq.iosChrome(),{ajaxUploading:o,blobUploading:i,canDetermineSize:o,chunking:r,deleteFileCors:p,deleteFileCorsXdr:c,deleteFileCorsXhr:h,dialogElement:!!window.HTMLDialogElement,fileDrop:s,folderDrop:a,folderSelection:f,imagePreviews:m,imageValidation:m,itemSizeValidation:o,pause:r,progressBar:g,resume:l,scaling:m&&i,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:n,uploadCors:d,uploadCustomHeaders:o,uploadNonMultipart:o,uploadViaPaste:u}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var n,i,s=[],o=[],t=[],a=0;qq.extend(this,{then:function(e,t){return 0===a?(e&&s.push(e),t&&o.push(t)):-1===a?t&&t.apply(null,i):e&&e.apply(null,n),this},done:function(e){return 0===a?t.push(e):e.apply(null,void 0===i?n:i),this},success:function(){return a=1,n=arguments,s.length&&qq.each(s,function(e,t){t.apply(null,n)}),t.length&&qq.each(t,function(e,t){t.apply(null,n)}),this},failure:function(){return a=-1,i=arguments,o.length&&qq.each(o,function(e,t){t.apply(null,i)}),t.length&&qq.each(t,function(e,t){t.apply(null,i)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,i),e.setAttribute("title",a.title),s.setMultiple(a.multiple,e),a.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),a.acceptFiles&&e.setAttribute("accept",a.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",a.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(e).css({height:"100%"}),a.element.appendChild(e),o.attach(e,"change",function(){a.onChange(e)}),o.attach(e,"mouseover",function(){qq(a.element).addClass(a.hoverClass)}),o.attach(e,"mouseout",function(){qq(a.element).removeClass(a.hoverClass)}),o.attach(e,"focus",function(){qq(a.element).addClass(a.focusClass)}),o.attach(e,"blur",function(){qq(a.element).removeClass(a.focusClass)}),e}var n,i,s=this,o=new qq.DisposeSupport,a={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};qq.extend(a,e),i=qq.getUniqueId(),qq(a.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return n},getButtonId:function(){return i},setMultiple:function(e,t){var n=t||this.getInput();a.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())?n.setAttribute("multiple",""):e?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(e){e!==a.acceptFiles&&n.setAttribute("accept",e)},reset:function(){n.parentNode&&qq(n).remove(),qq(a.element).removeClass(a.focusClass),n=null,n=t()}}),n=t()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(s){"use strict";var o=[],a={},r={},i={},l={};qq.extend(this,{addFile:function(e){var t=e.status||qq.status.SUBMITTING,n=o.push({name:e.name,originalName:e.name,uuid:e.uuid,size:null==e.size?-1:e.size,status:t})-1;return e.batchId&&(o[n].batchId=e.batchId,void 0===l[e.batchId]&&(l[e.batchId]=[]),l[e.batchId].push(n)),e.proxyGroupId&&(o[n].proxyGroupId=e.proxyGroupId,void 0===i[e.proxyGroupId]&&(i[e.proxyGroupId]=[]),i[e.proxyGroupId].push(n)),o[n].id=n,a[e.uuid]=n,void 0===r[t]&&(r[t]=[]),r[t].push(n),e.onBeforeStatusChange&&e.onBeforeStatusChange(n),s.onStatusChange(n,null,t),n},retrieve:function(e){return qq.isObject(e)&&o.length?void 0!==e.id?function(e){if(qq.isArray(e)){var n=[];return qq.each(e,function(e,t){n.push(o[t])}),n}return o[e]}(e.id):void 0!==e.uuid?function(e){if(qq.isArray(e)){var n=[];return qq.each(e,function(e,t){n.push(o[a[t]])}),n}return o[a[e]]}(e.uuid):e.status?(t=e.status,i=[],n=[].concat(t),qq.each(n,function(e,t){var n=r[t];void 0!==n&&qq.each(n,function(e,t){i.push(o[t])})}),i):void 0:qq.extend([],o,!0);var t,i,n},reset:function(){o=[],a={},r={},l={}},setStatus:function(e,t){var n=o[e].status,i=qq.indexOf(r[n],e);r[n].splice(i,1),o[e].status=t,void 0===r[t]&&(r[t]=[]),r[t].push(e),s.onStatusChange(e,n,t)},uuidChanged:function(e,t){var n=o[e].uuid;o[e].uuid=t,a[t]=e,delete a[n]},updateName:function(e,t){o[e].name=t},updateSize:function(e,t){o[e].size=t},setParentId:function(e,t){o[e].parentId=t},getIdsInProxyGroup:function(e){var t=o[e].proxyGroupId;return t?i[t]:[]},getIdsInBatch:function(e){return l[o[e].batchId]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var n=this;qq.each(e,function(e,t){n._addCannedFile(t)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var i=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,s=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},i,d)},this),o=qq.bind(function(e){this._handleNewFile(e,i,d)},this),a=qq.bind(function(e){var t=qq.canvasToBlob(e);this._handleNewFile({blob:t,name:this._options.blobs.defaultName+".png"},i,d)},this),r=qq.bind(function(e){var t=e.quality&&e.quality/100,n=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:n,name:e.name},i,d)},this),l=qq.bind(function(e){if(qq.isInput(e)&&qq.supportedFeatures.ajaxUploading){var t=Array.prototype.slice.call(e.files),n=this;qq.each(t,function(e,t){n._handleNewFile(t,i,d)})}else this._handleNewFile(e,i,d)},this),u=this,d=[];this._currentBatchId=i,e&&(qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e),qq.each(e,function(e,t){qq.isFileOrInput(t)?l(t):qq.isBlob(t)?s(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&r(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?a(t):u.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+d.length+" files."),this._prepareItemsForUpload(d,t,n))},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],n=this;qq.extend(e,this._storedIds),qq.each(e,function(e,t){n.cancel(t)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled||(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),1)))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,i,s){var o,a,r=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],a={customResizeFunction:s,maxSize:0<n?n:null,scale:0<n},!i&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?r.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,a).then(function(e){r.success(e)},function(e,t){r.failure({container:e,error:t||"Problem generating thumbnail"})})):r.failure({container:t,error:"Missing image generator module"}),r},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){return this._handler.getFile(e)||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&void 0!==t.parentId&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return 0<e?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(0<=qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){if(!this.getUploads({id:e}))throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var n="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(n),new qq.Error(n)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(t){var n=this;return this._uploadData.addFile({uuid:t.uuid,name:t.name,size:t.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(e){t.deleteFileEndpoint&&n.setDeleteFileEndpoint(t.deleteFileEndpoint,e),t.deleteFileParams&&n.setDeleteFileParams(t.deleteFileParams,e),t.thumbnailUrl&&(n._thumbnailUrls[e]=t.thumbnailUrl),n._netUploaded++,n._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var i=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(i.log,i),onDelete:function(e){i._onDelete(e),i._options.callbacks.onDelete(e)},onDeleteComplete:function(e,t,n){i._onDeleteComplete(e,t,n),i._options.callbacks.onDeleteComplete(e,t,n)}})},_createPasteHandler:function(){var t=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(t.log,t),pasteReceived:function(e){t._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(t._options.callbacks.onPasteReceived,t,e),onSuccess:qq.bind(t._handlePasteSuccess,t,e),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},i=e,s={},o=t,a=function(e){return qq.isObject(e)?qq.extend({},e):e},r=function(e,t){o&&qq.isObject(t)&&qq.extend(t,qq.isFunction(o)?o():o),s[e]&&qq.extend(t,s[e])};return{set:function(e,t){null==t?(n={},i=a(e)):n[t]=a(e)},get:function(e){var t;return t=null!=e&&n[e]?n[e]:a(i),r(e,t),a(t)},addReadOnly:function(e,t){qq.isObject(n)&&(null===e?qq.isFunction(t)?o=t:(o=o||{},qq.extend(o,t)):(s[e]=s[e]||{},qq.extend(s[e],t)))},remove:function(e){return delete n[e]},reset:function(){n={},s={},i=e}}},_createUploadDataTracker:function(){var i=this;return new qq.UploadData({getName:function(e){return i.getName(e)},getUuid:function(e){return i.getUuid(e)},getSize:function(e){return i.getSize(e)},onStatusChange:function(e,t,n){i._onUploadStatusChange(e,t,n),i._options.callbacks.onStatusChange(e,t,n),i._maybeAllComplete(e,n),i._totalProgress&&setTimeout(function(){i._totalProgress.onStatusChange(e,t,n)},0)}})},_createUploadButton:function(e){var t,n=this,i=e.accept||this._options.validation.acceptFiles,s=e.allowedExtensions||this._options.validation.allowedExtensions;return t=new qq.UploadButton({acceptFiles:i,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:!!qq.supportedFeatures.ajaxUploading&&!(n._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&n._isAllowedExtension(s,".mov"))&&(void 0===e.multiple?n._options.multiple:e.multiple),name:this._options.request.inputName,onChange:function(e){n._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){t.dispose()}),n._buttons.push(t),t},_createUploadHandler:function(e,t){var a=this,r={},n={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(a.log,a),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,n,i){n<0||i<0||(r[e]&&r[e].loaded===n&&r[e].total===i||(a._onProgress(e,t,n,i),a._options.callbacks.onProgress(e,t,n,i)),r[e]={loaded:n,total:i})},onComplete:function(e,t,n,i){delete r[e];var s,o=a.getUploads({id:e}).status;o!==qq.status.UPLOAD_SUCCESSFUL&&o!==qq.status.UPLOAD_FAILED&&((s=a._onComplete(e,t,n,i))instanceof qq.Promise?s.done(function(){a._options.callbacks.onComplete(e,t,n,i)}):a._options.callbacks.onComplete(e,t,n,i))},onCancel:function(e,t,n){var i=new qq.Promise;return a._handleCheckedCallback({name:"onCancel",callback:qq.bind(a._options.callbacks.onCancel,a,e,t),onFailure:i.failure,onSuccess:function(){n.then(function(){a._onCancel(e,t)}),i.success()},identifier:e}),i},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){a._onUpload(e,t),a._options.callbacks.onUpload(e,t)},onUploadChunk:function(e,t,n){a._onUploadChunk(e,n),a._options.callbacks.onUploadChunk(e,t,n)},onUploadChunkSuccess:function(e,t,n,i){a._options.callbacks.onUploadChunkSuccess.apply(a,arguments)},onResume:function(e,t,n){return a._options.callbacks.onResume(e,t,n)},onAutoRetry:function(e,t,n,i){return a._onAutoRetry.apply(a,arguments)},onUuidChanged:function(e,t){a.log("Server requested UUID change from '"+a.getUuid(e)+"' to '"+t+"'"),a.setUuid(e,t)},getName:qq.bind(a.getName,a),getUuid:qq.bind(a.getUuid,a),getSize:qq.bind(a.getSize,a),setSize:qq.bind(a._setSize,a),getDataByUuid:function(e){return a.getUploads({uuid:e})},isQueued:function(e){var t=a.getUploads({id:e}).status;return t===qq.status.QUEUED||t===qq.status.SUBMITTED||t===qq.status.UPLOAD_RETRYING||t===qq.status.PAUSED},getIdsInProxyGroup:a._uploadData.getIdsInProxyGroup,getIdsInBatch:a._uploadData.getIdsInBatch};return qq.each(this._options.request,function(e,t){n[e]=t}),n.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){n[e]=t}),new qq.UploadHandlerController(n,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];for(var t=-1;t++,999<(e/=1e3););return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var o=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(e,t){var n=t.multiple,i=qq.extend({},o._options.validation,!0),s=qq.extend({},t);void 0===n&&(n=o._options.multiple),s.validation&&qq.extend(i,t.validation,!0),qq.extend(s,{multiple:n,validation:i},!0),o._initExtraButton(s)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var t,n,i=e;if(i instanceof qq.BlobProxy&&(i=i.referenceBlob),i&&!qq.isBlob(i)){if(qq.isFile(i))return i.qqButtonId;if("input"===i.tagName.toLowerCase()&&"file"===i.type.toLowerCase())return i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=i.getElementsByTagName("input"),qq.each(t,function(e,t){if("file"===t.getAttribute("type"))return n=t,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var n=this,i=[];return qq.each(e,function(e,t){i.push(n._getValidationDescriptor(t))}),i},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e=this._options.camera.button,n=e?this._getButtonId(e):this._defaultButtonId,i=this._options;n&&n!==this._defaultButtonId&&(i=this._extraButtonSpecs[n]),i.multiple=!1,null===i.validation.acceptFiles?i.validation.acceptFiles="image/*;capture=camera":i.validation.acceptFiles+=",image/*;capture=camera",qq.each(this._buttons,function(e,t){if(t.getButtonId()===n)return t.setMultiple(i.multiple),t.setAcceptFiles(i.acceptFiles),!1})}},_handleCheckedCallback:function(t){var n=this,e=t.callback();return qq.isGenericPromise(e)?(this.log(t.name+" - waiting for "+t.name+" promise to be fulfilled for "+t.identifier),e.then(function(e){n.log(t.name+" promise success for "+t.identifier),t.onSuccess(e)},function(){t.onFailure?(n.log(t.name+" promise failure for "+t.identifier),t.onFailure()):n.log(t.name+" promise failure for "+t.identifier)})):(!1!==e?t.onSuccess(e):t.onFailure?(this.log(t.name+" - return value was 'false' for "+t.identifier+".  Invoking failure callback."),t.onFailure()):this.log(t.name+" - return value was 'false' for "+t.identifier+".  Will not proceed."),e)},_handleNewFile:function(e,t,n){var i=this,s=qq.getUniqueId(),o=-1,a=qq.getFilename(e),r=e.blob||e,l=this._customNewFileHandler?this._customNewFileHandler:qq.bind(i._handleNewFileGeneric,i);!qq.isInput(r)&&0<=r.size&&(o=r.size),l(r,a,s,o,n,t,this._options.request.uuidName,{uploadData:i._uploadData,paramsStore:i._paramsStore,addFileToHandler:function(e,t){i._handler.add(e,t),i._netUploadedOrQueued++,i._trackButton(e)}})},_handleNewFileGeneric:function(e,t,n,i,s,o){var a=this._uploadData.addFile({uuid:n,name:t,size:i,batchId:o});this._handler.add(a,e),this._trackButton(a),this._netUploadedOrQueued++,s.push({id:a,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],i=t;null==i&&(i=this._options.paste.defaultName),i+="."+n,this.addFiles({name:i,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,n,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled||this._options.cors.expected&&!qq.supportedFeatures.deleteFileCorsXhr&&(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr))},_isAllowedExtension:function(e,i){var s=!1;return!e.length||(qq.each(e,function(e,t){if(qq.isString(t)){var n=new RegExp("\\."+t+"$","i");if(null!=i.match(n))return s=!0,!1}}),s)},_itemError:function(e,t,n){function i(e,t){a=a.replace(e,t)}var s,o,a=this._options.messages[e],r=[],l=[].concat(t),u=l[0],d=this._getButtonId(n),c=this._getValidationBase(d);return qq.each(c.allowedExtensions,function(e,t){qq.isString(t)&&r.push(t)}),s=r.join(", ").toLowerCase(),i("{file}",this._options.formatFileName(u)),i("{extensions}",s),i("{sizeLimit}",this._formatSize(c.sizeLimit)),i("{minSizeLimit}",this._formatSize(c.minSizeLimit)),null!==(o=a.match(/(\{\w+\})/g))&&qq.each(o,function(e,t){i(t,l[e])}),this._options.callbacks.onError(null,u,a,void 0),a},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,i=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===i&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,i){if(!n.success)if(i&&200!==i.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+i.status,i);else{var s=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,s,i)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,i,s,o,a){var r=this;if(i.length>s)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=r._getValidationDescriptor(i[s]),t=r._getButtonId(i[s].file),n=r._getButton(t);r._handleCheckedCallback({name:"onValidate",callback:qq.bind(r._options.callbacks.onValidate,r,e,n),onSuccess:qq.bind(r._onValidateCallbackSuccess,r,i,s,o,a),onFailure:qq.bind(r._onValidateCallbackFailure,r,i,s,o,a),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;s<i.length;s++)r._fileOrBlobRejected(i[s].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,i,s){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e,t,n)){var a=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),s?s(e):o._handler.retry(e)},a),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,n=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),!1!==this._options.callbacks.onManualRetry(e,t)&&(0<n&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&0<=n&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,i){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),!0===n[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,i),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e),n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else 0<e.value.length&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,n,i){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,i)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var i,s=this.getUuid(e);return t&&(i=qq.bind(t,this,e,s,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:i||qq.bind(this._deleteHandler.sendDelete,this,e,s,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var n=this;qq.each(e,function(e,t){n._fileOrBlobRejected(t.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,i,s){var o,a=this._currentItemLimit,r=this._netUploadedOrQueued;0===a||r<=a?0<t.length?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],s),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,i),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,i),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,r).replace(/\{itemLimit\}/g,a),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,i){var s=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,s,n,i)},_onValidateCallbackSuccess:function(e,t,n,i){var s=this,o=t+1,a=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],a).then(function(){s._upload(e[t].id,n,i),s._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,i)},function(){s._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,i)})},_prepareItemsForUpload:function(e,t,n){if(0!==e.length){var i=this._getValidationDescriptors(e),s=this._getButtonId(e[0].file),o=this._getButton(s);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,i,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,i,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})}else this._itemError("noFilesError")},_preventLeaveInProgress:function(){var t=this;this._disposeSupport.attach(window,"beforeunload",function(e){if(t.getInProgress())return(e=e||window.event).returnValue=t._options.messages.onLeave,t._options.messages.onLeave})},_refreshSessionData:function(){var n=this,e=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(e,{cors:this._options.cors}),e.log=qq.bind(this.log,this),e.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(e)),setTimeout(function(){n._session.refresh().then(function(e,t){n._sessionRequestComplete(),n._options.callbacks.onSessionRequestComplete(e,!0,t)},function(e,t){n._options.callbacks.onSessionRequestComplete(e,!1,t)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e,t,n){var i=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&i.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;(t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)))&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var i=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,i),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,i),onFailure:qq.bind(this._fileOrBlobRejected,this,e,i),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);(t=this.getUploads({status:qq.status.SUBMITTING}).length)&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,i=e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file,s=t.name,o=t.size,a=this._getButtonId(e.file),r=this._getValidationBase(a),l=new qq.Promise;return l.then(function(){},function(){n._fileOrBlobRejected(e.id,s)}),qq.isFileOrInput(i)&&!this._isAllowedExtension(r.allowedExtensions,s)?(this._itemError("typeError",s,i),l.failure()):this._options.validation.allowEmpty||0!==o?0<o&&r.sizeLimit&&o>r.sizeLimit?(this._itemError("sizeError",s,i),l.failure()):0<o&&o<r.minSizeLimit?(this._itemError("minSizeError",s,i),l.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(i)?new qq.ImageValidation(i,qq.bind(n.log,n)).validate(r.image).then(l.success,function(e){n._itemError(e+"ImageError",s,i),l.failure()}):l.success(),l):(this._itemError("emptyError",s,i),l.failure())},_wrapCallbacks:function(){var s,n,i;for(i in n=function(e,t,n){var i;try{return t.apply(s,n)}catch(t){i=t.message||t.toString(),s.log("Caught exception in '"+e+"' callback - "+i,"error")}},(s=this)._options.callbacks)!function(){var e,t;e=i,t=s._options.callbacks[e],s._options.callbacks[e]=function(){return n(e,t,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var n=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",params:{},paramsInBody:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,i){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,i){},onResume:function(e,t,n){},onProgress:function(e,t,n,i){},onTotalProgress:function(e,t){},onError:function(e,t,n,i){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){},onStatusChange:function(e,t,n){},onSessionRequestComplete:function(e,t,n){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:2e6,success:{endpoint:null}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){var t=n._uploadData.retrieve({id:e});return t&&t.size||0})),this._currentItemLimit=this._options.validation.itemLimit},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";function L(e){return R.cors.expected&&void 0===e.withCredentials}function I(e,t){var n,i=A[e].xhr;return i||(i=t||(R.cors.expected?((window.XMLHttpRequest||window.ActiveXObject)&&void 0===(n=qq.createXhrInstance()).withCredentials&&((n=new XDomainRequest).onload=function(){},n.onerror=function(){},n.ontimeout=function(){},n.onprogress=function(){}),n):qq.createXhrInstance()),A[e].xhr=i),i}function a(e){var t=qq.indexOf(u,e),n=R.maxConnections;delete A[e],u.splice(t,1),u.length>=n&&t<n&&l(u[n-1])}function F(e,t){var n,i=I(e),s=R.method,o=!0===t;a(e),o?T(s+" request for "+e+" has failed","error"):L(i)||(n=i.status,0<=qq.indexOf(R.successfulResponseCodes[R.method],n))||(o=!0,T(s+" request for "+e+" has failed - response code "+i.status,"error")),R.onComplete(e,i,o)}function l(e,t){var n,i,s,o,a,r,l,u,d,c,h,p,f,m,g,v,_,y,q,b,C,E,w=I(e,t),S=R.method,k=(o=A[i=e].additionalParams,a=R.mandatedParams,R.paramsStore.get&&(s=R.paramsStore.get(i)),o&&qq.each(o,function(e,t){(s=s||{})[e]=t}),a&&qq.each(a,function(e,t){(s=s||{})[e]=t}),s),D=A[e].payload;return R.onSend(e),q=k,b=A[y=e].additionalQueryParams,C=R.endpointStore.get(y),null!=(E=A[y].addToPath)&&(C+="/"+E),x&&q&&(C=qq.obj2url(q,C)),b&&(C=qq.obj2url(b,C)),n=C,L(w)?(w.onload=(_=e,function(){F(_)}),w.onerror=(v=e,function(){F(v,!0)})):w.onreadystatechange=(g=e,function(){4===I(g).readyState&&F(g)}),f=e,(m=R.onProgress)&&(I(f).upload.onprogress=function(e){e.lengthComputable&&m(f,e.loaded,e.total)}),w.open(S,n,!0),R.cors.expected&&R.cors.sendCredentials&&!L(w)&&(w.withCredentials=!0),l=I(r=e),u=R.customHeaders,d=A[r].additionalHeaders||{},c=R.method,h={},L(l)||(R.acceptHeader&&l.setRequestHeader("Accept",R.acceptHeader),R.allowXRequestedWithAndCacheControl&&(R.cors.expected&&0<=qq.indexOf(["GET","POST","HEAD"],R.method)&&(p=!1,qq.each(p,function(e,t){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],t)<0)return p=!0,!1}),!p)||(l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Cache-Control","no-cache"))),!R.contentType||"POST"!==c&&"PUT"!==c||l.setRequestHeader("Content-Type",R.contentType),qq.extend(h,qq.isFunction(u)?u(r):u),qq.extend(h,d),qq.each(h,function(e,t){l.setRequestHeader(e,t)})),T("Sending "+S+" request for "+e),D?w.send(D):x||!k?w.send():k&&R.contentType&&0<=R.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")?w.send(qq.obj2url(k,"")):k&&R.contentType&&0<=R.contentType.toLowerCase().indexOf("application/json")?w.send(JSON.stringify(k)):w.send(k),w}var T,x,u=[],A={},R={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onProgress:null};if(qq.extend(R,e),T=R.log,qq.indexOf(R.validMethods,R.method)<0)throw new Error("'"+R.method+"' is not a supported method for this type of request!");x="GET"===R.method||"DELETE"===R.method,qq.extend(this,{initTransport:function(t){var n,i,s,o,a,r;return{withPath:function(e){return n=e,this},withParams:function(e){return i=e,this},withQueryParams:function(e){return r=e,this},withHeaders:function(e){return s=e,this},withPayload:function(e){return o=e,this},withCacheBuster:function(){return a=!0,this},send:function(e){return a&&0<=qq.indexOf(["GET","DELETE"],R.method)&&(i.qqtimestamp=(new Date).getTime()),function(e,t,n,i,s,o,a){if(A[e]={addToPath:n,additionalParams:i,additionalQueryParams:s,additionalHeaders:o,payload:a},u.push(e)<=R.maxConnections)return l(e,t)}(t,e,n,i,r,s,o)}}},canceled:function(e){a(e)}})},qq.UploadHandler=function(e){"use strict";var t=e.proxy,i={},s=t.onCancel,o=t.getName;qq.extend(this,{add:function(e,t){i[e]=t,i[e].temp={}},cancel:function(e){var t=this,n=new qq.Promise;s(e,o(e),n).then(function(){t.isValid(e)&&(i[e].canceled=!0,t.expunge(e)),n.success()})},expunge:function(e){delete i[e]},getThirdPartyFileId:function(e){return i[e].key},isValid:function(e){return void 0!==i[e]},reset:function(){i={}},_getFileState:function(e){return i[e]},_setThirdPartyFileId:function(e,t){i[e].key=t},_wasCanceled:function(e){return!!i[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var i,r,l,n,s=this,o=!1,u=!1,d={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,n,i){},onComplete:function(e,t,n,i){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,i){},onAutoRetry:function(e,t,n,i){},onResume:function(e,t,n){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){}},c={done:function(e,t,n,i){var s=l._getChunkData(e,t);l._getFileState(e).attemptingResume=!1,delete l._getFileState(e).temp.chunkProgress[t],l._getFileState(e).loaded+=s.size,d.onUploadChunkSuccess(e,l._getChunkDataForCallback(s),n,i)},finalize:function(i){var s=d.getSize(i),o=d.getName(i);r("All chunks have been uploaded for "+i+" - finalizing...."),l.finalizeChunks(i).then(function(e,t){r("Finalize successful for "+i);var n=p.normalizeResponse(e,!0);d.onProgress(i,o,s,s),l._maybeDeletePersistedChunkData(i),p.cleanup(i,n,t)},function(e,t){var n=p.normalizeResponse(e,!1);r("Problem finalizing chunks for file ID "+i+" - "+n.error,"error"),n.reset&&c.reset(i),d.onAutoRetry(i,o,n,t)||p.cleanup(i,n,t)})},handleFailure:function(e,n,t,i){var s=d.getName(n);r("Chunked upload request failed for "+n+", chunk "+e),l.clearCachedChunk(n,e);var o,a=p.normalizeResponse(t,!1);a.reset?c.reset(n):0<=(o=qq.indexOf(l._getFileState(n).chunking.inProgress,e))&&(l._getFileState(n).chunking.inProgress.splice(o,1),l._getFileState(n).chunking.remaining.unshift(e)),l._getFileState(n).temp.ignoreFailure||(u&&(l._getFileState(n).temp.ignoreFailure=!0,r(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(l._getXhrs(n))),JSON.stringify(l._getFileState(n).chunking.inProgress))),qq.each(l._getXhrs(n),function(e,t){r(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",n,e,t.readyState)),t.abort(),t._cancelled=!0}),l.moveInProgressToRemaining(n),h.free(n,!0)),d.onAutoRetry(n,s,a,i)||p.cleanup(n,a,i))},hasMoreParts:function(e){return!!l._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=l._getFileState(e).chunking.remaining.shift();return t>=l._getTotalChunks(e)&&(t=null),t},reset:function(e){r("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),l._maybeDeletePersistedChunkData(e),l.reevaluateChunking(e),l._getFileState(e).loaded=0},sendNext:function(o){var e=d.getSize(o),t=d.getName(o),a=c.nextPart(o),n=l._getChunkData(o,a),i=l._getFileState(o).attemptingResume,s=l._getFileState(o).chunking.inProgress||[];null==l._getFileState(o).loaded&&(l._getFileState(o).loaded=0),i&&!1===d.onResume(o,t,n)&&(c.reset(o),a=c.nextPart(o),n=l._getChunkData(o,a),i=!1),null==a&&0===s.length?c.finalize(o):(r(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",o,a,n.start+1,n.end,e)),d.onUploadChunk(o,t,l._getChunkDataForCallback(n)),s.push(a),l._getFileState(o).chunking.inProgress=s,u&&h.open(o,a),u&&h.available()&&l._getFileState(o).chunking.remaining.length&&c.sendNext(o),0===n.blob.size?(r(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",a,o),"error"),c.handleFailure(a,o,"File is no longer available",null)):l.uploadChunk(o,a,i).then(function(e,t){r("Chunked upload request succeeded for "+o+", chunk "+a),l.clearCachedChunk(o,a);var n=l._getFileState(o).chunking.inProgress||[],i=p.normalizeResponse(e,!0),s=qq.indexOf(n,a);r(qq.format("Chunk {} for file {} uploaded successfully.",a,o)),c.done(o,a,i,t),0<=s&&n.splice(s,1),l._maybePersistChunkedState(o),c.hasMoreParts(o)||0!==n.length?c.hasMoreParts(o)?c.sendNext(o):r(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",o,JSON.stringify(n))):c.finalize(o)},function(e,t){c.handleFailure(a,o,e,t)}).done(function(){l.clearXhr(o,a)}))}},h={_open:[],_openChunks:{},_waiting:[],available:function(){var e=d.maxConnections,n=0,i=0;return qq.each(h._openChunks,function(e,t){n++,i+=t.length}),e-(h._open.length-n+i)},free:function(e,t){var n,i=!t,s=qq.indexOf(h._waiting,e),o=qq.indexOf(h._open,e);delete h._openChunks[e],p.getProxyOrBlob(e)instanceof qq.BlobProxy&&(r("Generated blob upload has ended for "+e+", disposing generated blob."),delete l._getFileState(e).file),0<=s?h._waiting.splice(s,1):i&&0<=o&&(h._open.splice(o,1),0<=(n=h._waiting.shift())&&(h._open.push(n),p.start(n)))},getWaitingOrConnected:function(){var n=[];return qq.each(h._openChunks,function(e,t){t&&t.length&&n.push(parseInt(e))}),qq.each(h._open,function(e,t){h._openChunks[t]||n.push(parseInt(t))}),n=n.concat(h._waiting)},isUsingConnection:function(e){return 0<=qq.indexOf(h._open,e)},open:function(e,t){return null==t&&h._waiting.push(e),!!h.available()&&(null==t?(h._waiting.pop(),h._open.push(e)):((n=h._openChunks[e]||[]).push(t),h._openChunks[e]=n),!0);var n},reset:function(){h._waiting=[],h._open=[]}},a=function(s,o){l._getFileState(s).loaded=0,r("Sending simple upload request for "+s),l.uploadFile(s).then(function(e,t){r("Simple upload request succeeded for "+s);var n=p.normalizeResponse(e,!0),i=d.getSize(s);d.onProgress(s,o,i,i),p.maybeNewUuid(s,n),p.cleanup(s,n,t)},function(e,t){r("Simple upload request failed for "+s);var n=p.normalizeResponse(e,!1);d.onAutoRetry(s,o,n,t)||p.cleanup(s,n,t)})},p={cancel:function(e){r("Cancelling "+e),d.paramsStore.remove(e),h.free(e)},cleanup:function(e,t,n){var i=d.getName(e);d.onComplete(e,i,t,n),l._getFileState(e)&&l._clearXhrs&&l._clearXhrs(e),h.free(e)},getProxyOrBlob:function(e){return l.getProxy&&l.getProxy(e)||l.getFile&&l.getFile(e)},initHandler:function(){(l=new(t?qq[t]:qq.traditional)[(qq.supportedFeatures.ajaxUploading?"Xhr":"Form")+"UploadHandler"](d,{getDataByUuid:d.getDataByUuid,getName:d.getName,getSize:d.getSize,getUuid:d.getUuid,log:r,onCancel:d.onCancel,onProgress:d.onProgress,onUuidChanged:d.onUuidChanged}))._removeExpiredChunkingRecords&&l._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return d.isQueued(e)},maybeDefer:function(n,e){return e&&!l.getFile(n)&&e instanceof qq.BlobProxy?(d.onUploadPrep(n),r("Attempting to generate a blob on-demand for "+n),e.create().then(function(e){r("Generated an on-demand blob for "+n),l.updateBlob(n,e),d.setSize(n,e.size),l.reevaluateChunking(n),p.maybeSendDeferredFiles(n)},function(e){var t={};e&&(t.error=e),r(qq.format("Failed to generate blob for ID {}.  Error message: {}.",n,e),"error"),d.onComplete(n,d.getName(n),qq.extend(t,i),null),p.maybeSendDeferredFiles(n),h.free(n)}),!1):p.maybeSendDeferredFiles(n)},maybeSendDeferredFiles:function(n){var e=d.getIdsInProxyGroup(n),i=!1;return e&&e.length?(r("Maybe ready to upload proxy group file "+n),qq.each(e,function(e,t){if(p.isDeferredEligibleForUpload(t)&&l.getFile(t))i=t===n,p.now(t);else if(p.isDeferredEligibleForUpload(t))return!1})):(i=!0,p.now(n)),i},maybeNewUuid:function(e,t){void 0!==t.newUuid&&d.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var n=e;return qq.isObject(e)||(n={},qq.isString(e)&&!t&&(n.error=e)),n.success=t,n},now:function(e){var t=d.getName(e);if(!s.isValid(e))throw new qq.Error(e+" is not a valid file ID to upload!");d.onUpload(e,t),o&&l._shouldChunkThisFile(e)?c.sendNext(e):a(e,t)},start:function(e){var t=p.getProxyOrBlob(e);return t?p.maybeDefer(e,t):(p.now(e),!0)}};qq.extend(this,{add:function(e,t){l.add.apply(this,arguments)},upload:function(e){return!!h.open(e)&&p.start(e)},retry:function(e){return u&&(l._getFileState(e).temp.ignoreFailure=!1),h.isUsingConnection(e)?p.start(e):s.upload(e)},cancel:function(e){var t=l.cancel(e);qq.isGenericPromise(t)?t.then(function(){p.cancel(e)}):!1!==t&&p.cancel(e)},cancelAll:function(){var e,t=h.getWaitingOrConnected();if(t.length)for(e=t.length-1;0<=e;e--)s.cancel(t[e]);h.reset()},getFile:function(e){return l.getProxy&&l.getProxy(e)?l.getProxy(e).referenceBlob:l.getFile&&l.getFile(e)},isProxied:function(e){return!(!l.getProxy||!l.getProxy(e))},getInput:function(e){if(l.getInput)return l.getInput(e)},reset:function(){r("Resetting upload handler"),s.cancelAll(),h.reset(),l.reset()},expunge:function(e){if(s.isValid(e))return l.expunge(e)},isValid:function(e){return l.isValid(e)},getResumableFilesData:function(){return l.getResumableFilesData?l.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(s.isValid(e))return l.getThirdPartyFileId(e)},pause:function(e){return!!(s.isResumable(e)&&l.pause&&s.isValid(e)&&l.pause(e))&&(h.free(e),l.moveInProgressToRemaining(e),!0)},isResumable:function(e){return!!l.isResumable&&l.isResumable(e)}}),qq.extend(d,e),r=d.log,o=d.chunking.enabled&&qq.supportedFeatures.chunking,u=o&&d.chunking.concurrent.enabled,(n={})[d.preventRetryParam]=!0,i=n,p.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var n={};qq.extend({log:function(e,t){}},e),qq.extend(this,{receiveMessage:function(e,t){window.postMessage?n[e]=qq(window).attach("message",function(e){t(e.data)}):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var t=n[e];t&&t()}}})},qq.FormUploadHandler=function(e){"use strict";function r(e){return e.split("_")[0]}var t=e.options,l=this,n=e.proxy,i=qq.getUniqueId(),u={},d={},c={},h=t.isCors,s=t.inputName,p=n.getUuid,f=n.log,m=new qq.WindowReceiveMessage({log:f});qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(n){return{add:function(e,t){n.add(e,{input:t}),t.setAttribute("name",s),t.parentNode&&qq(t).remove()},expunge:function(e){(function(e){delete d[e],h&&(clearTimeout(c[e]),delete c[e],m.stopReceivingMessages(e));var t=document.getElementById(l._getIframeName(e));t&&(t.setAttribute("src","javascript:false;"),qq(t).remove())})(e),n.expunge(e)},isValid:function(e){return n.isValid(e)&&void 0!==l._getFileState(e).input}}}),qq.extend(this,{getInput:function(e){return l._getFileState(e).input},_attachLoadEvent:function(e,t){var n,i,s,o,a;h?(s=t,o=(i=e).id,a=r(o),u[p(a)]=s,d[a]=qq(i).attach("load",function(){l.getInput(a)&&(f("Received iframe load event for CORS upload request (iframe name "+o+")"),c[o]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+o;f(e,"error"),s({error:e})},1e3))}),m.receiveMessage(o,function(e){f("Received the following window message: '"+e+"'");var t,n=(r(o),l._parseJsonResponse(e)),i=n.uuid;i&&u[i]?(f("Handling response for iframe name "+o),clearTimeout(c[o]),delete c[o],l._detachLoadEvent(o),t=u[i],delete u[i],m.stopReceivingMessages(o),t(n)):i||f("'"+e+"' does not contain a UUID - ignoring.")})):d[e.id]=qq(e).attach("load",function(){if(f("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){f("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),n={success:!1}}t(n)}})},_createIframe:function(e){return t=l._getIframeName(e),(n=qq.toElement("<iframe src='javascript:false;' name='"+t+"' />")).setAttribute("id",t),n.style.display="none",document.body.appendChild(n),n;var t,n},_detachLoadEvent:function(e){void 0!==d[e]&&(d[e](),delete d[e])},_getIframeName:function(e){return e+"_"+i},_initFormForUpload:function(e){var t=e.method,n=e.endpoint,i=e.params,s=e.paramsInBody,o=e.targetName,a=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),r=n;return s?qq.obj2Inputs(i,a):r=qq.obj2url(i,n),a.setAttribute("action",r),a.setAttribute("target",o),a.style.display="none",document.body.appendChild(a),a},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){f("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function t(i){qq.each(p._getXhrs(i),function(e,t){var n=p._getAjaxRequester(i,e);t.onreadystatechange=null,t.upload.onprogress=null,t.abort(),n&&n.canceled&&n.canceled(i)})}var p=this,o=e.options.namespace,n=e.proxy,d=e.options.chunking,s=e.options.resume,i=d&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,a=s&&e.options.resume.enabled&&i&&qq.supportedFeatures.resume,r=n.getName,f=n.getSize,l=n.getUuid,u=n.getEndpoint,c=n.getDataByUuid,h=n.onUuidChanged,m=n.onProgress,g=n.log;qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(n){return{add:function(e,t){if(qq.isFile(t)||qq.isBlob(t))n.add(e,{file:t});else{if(!(t instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");n.add(e,{proxy:t})}p._initTempState(e),a&&p._maybePrepareForResume(e)},expunge:function(e){t(e),p._maybeDeletePersistedChunkData(e),p._clearXhrs(e),n.expunge(e)}}}),qq.extend(this,{clearCachedChunk:function(e,t){delete p._getFileState(e).temp.cachedChunks[t]},clearXhr:function(e,t){var n=p._getFileState(e).temp;n.xhrs&&delete n.xhrs[t],n.ajaxRequesters&&delete n.ajaxRequesters[t]},finalizeChunks:function(e,t){var n=p._getTotalChunks(e)-1,i=p._getXhr(e,n);return t?(new qq.Promise).success(t(i),i):(new qq.Promise).success({},i)},getFile:function(e){return p.isValid(e)&&p._getFileState(e).file},getProxy:function(e){return p.isValid(e)&&p._getFileState(e).proxy},getResumableFilesData:function(){var i=[];return p._iterateResumeRecords(function(e,t){p.moveInProgressToRemaining(null,t.chunking.inProgress,t.chunking.remaining);var n={name:t.name,remaining:t.chunking.remaining,size:t.size,uuid:t.uuid};t.key&&(n.key=t.key),i.push(n)}),i},isResumable:function(e){return!!d&&p.isValid(e)&&!p._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,n){var i=t||p._getFileState(e).chunking.inProgress,s=n||p._getFileState(e).chunking.remaining;i&&(g(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(i))),i.reverse(),qq.each(i,function(e,t){s.unshift(t)}),i.length=0)},pause:function(e){if(p.isValid(e))return g(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,r(e))),p._getFileState(e).paused=!0,t(e),!0},reevaluateChunking:function(e){if(d&&p.isValid(e)){var t,n,i=p._getFileState(e);if(delete i.chunking,i.chunking={},1<(t=p._getTotalChunks(e))||d.mandatory){for(i.chunking.enabled=!0,i.chunking.parts=t,i.chunking.remaining=[],n=0;n<t;n++)i.chunking.remaining.push(n);p._initTempState(e)}else i.chunking.enabled=!1}},updateBlob:function(e,t){p.isValid(e)&&(p._getFileState(e).file=t)},_clearXhrs:function(e){var t=p._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return p._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){var n=null==t?-1:t;return p._getFileState(e).temp.ajaxRequesters[n]},_getChunkData:function(e,t){var n=d.partSize,i=f(e),s=p.getFile(e),o=n*t,a=i<=o+n?i:o+n,r=p._getTotalChunks(e),l=this._getFileState(e).temp.cachedChunks,u=l[t]||qq.sliceBlob(s,o,a);return{part:t,start:o,end:a,count:r,blob:l[t]=u,size:a-o}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t=r(e),n=f(e),i=d.partSize,s=u(e);return qq.format("qq{}resume{}-{}-{}-{}-{}",o,"5.0",t,n,i,s)},_getMimeType:function(e){return p.getFile(e).type},_getPersistableData:function(e){return p._getFileState(e).chunking},_getTotalChunks:function(e){if(d){var t=f(e),n=d.partSize;return Math.ceil(t/n)}},_getXhr:function(e,t){var n=null==t?-1:t;return p._getFileState(e).temp.xhrs[n]},_getXhrs:function(e){return p._getFileState(e).temp.xhrs},_iterateResumeRecords:function(n){a&&qq.each(localStorage,function(e,t){0===e.indexOf(qq.format("qq{}resume",o))&&n(e,JSON.parse(t))})},_initTempState:function(e){p._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){p._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return!!(a&&p.isResumable(e)&&((t=p._getLocalStorageId(e))&&localStorage.getItem(t)))&&(localStorage.removeItem(t),!0)},_maybePrepareForResume:function(e){var t,n,i=p._getFileState(e);a&&void 0===i.key&&(t=p._getLocalStorageId(e),(n=localStorage.getItem(t))&&(n=JSON.parse(n),c(n.uuid)?p._markNotResumable(e):(g(qq.format("Identified file with ID {} and name of {} as resumable.",e,r(e))),h(e,n.uuid),i.key=n.key,i.chunking=n.chunking,i.loaded=n.loaded,i.attemptingResume=!0,p.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var t,n,i=p._getFileState(e);if(a&&p.isResumable(e)){t=p._getLocalStorageId(e),n={name:r(e),size:f(e),uuid:l(e),key:i.key,chunking:i.chunking,loaded:i.loaded,lastUpdated:Date.now()};try{localStorage.setItem(t,JSON.stringify(n))}catch(t){g(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,t.toString()),"warn")}}},_registerProgressHandler:function(u,d,c){var e=p._getXhr(u,d),h=r(u),t={simple:function(e,t){var n=f(u);m(u,h,e===t?n:n<=e?n-1:e,n)},chunked:function(e,t){var n=p._getFileState(u).temp.chunkProgress,i=p._getFileState(u).loaded,s=e,o=t,a=f(u),r=s-(o-c),l=i;n[d]=r,qq.each(n,function(e,t){l+=t}),m(u,h,l,a)}};e.upload.onprogress=function(e){e.lengthComputable&&t[null==c?"simple":"chunked"](e.loaded,e.total)}},_registerXhr:function(e,t,n,i){var s=null==t?-1:t,o=p._getFileState(e).temp;return o.xhrs=o.xhrs||{},o.ajaxRequesters=o.ajaxRequesters||{},o.xhrs[s]=n,i&&(o.ajaxRequesters[s]=i),n},_removeExpiredChunkingRecords:function(){var i=s.recordsExpireIn;p._iterateResumeRecords(function(e,t){var n=new Date(t.lastUpdated);n.setDate(n.getDate()+i),n.getTime()<=Date.now()&&(g("Removing expired resume record with key "+e),localStorage.removeItem(e))})},_shouldChunkThisFile:function(e){var t=p._getFileState(e);return t.chunking||p.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";var s,o={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};qq.extend(o,e),s=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:o.method,endpointStore:o.endpointStore,paramsStore:o.paramsStore,mandatedParams:"POST"===o.method.toUpperCase()?{_method:"DELETE"}:{},maxConnections:o.maxConnections,customHeaders:function(e){return o.customHeaders.get(e)},log:o.log,onSend:o.onDelete,onComplete:o.onDeleteComplete,cors:o.cors})),qq.extend(this,{sendDelete:function(e,t,n){var i=n||{};o.log("Submitting delete file request for "+e),"DELETE"===o.method?s.initTransport(e).withPath(t).withParams(i).send():(i[o.uuidParamName]=t,s.initTransport(e).withParams(i).send())}})},function(){function q(m,e,t,n,g){var i,s,o,a,r,l,u,d,c,h,p,f,v,_,y=m.naturalWidth,q=m.naturalHeight,b=n.width,C=n.height,E=t.getContext("2d"),w=new qq.Promise;return E.save(),n.resize?(s={blob:e,canvas:t,image:m,imageHeight:q,imageWidth:y,orientation:n.orientation,resize:n.resize,targetHeight:C,targetWidth:b},o=s.blob,a=s.image,r=s.imageHeight,l=s.imageWidth,u=s.orientation,d=new qq.Promise,c=s.resize,h=document.createElement("canvas"),p=h.getContext("2d"),f=s.canvas,v=s.targetHeight,_=s.targetWidth,S(h,l,r,u),f.height=v,f.width=_,p.drawImage(a,0,0),c({blob:o,height:v,image:a,sourceCanvas:h,targetCanvas:f,width:_}).then(function(){f.qqImageRendered&&f.qqImageRendered(),d.success()},d.failure),d):(qq.supportedFeatures.unlimitedScaledImageSize||(i=function(e){if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(5241e3<e.origHeight*e.origWidth)return{newHeight:Math.round(Math.sqrt(e.origHeight/e.origWidth*5241e3)),newWidth:Math.round(Math.sqrt(e.origWidth/e.origHeight*5241e3))}}({origWidth:b,origHeight:C}))&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",b,C,i.newWidth,i.newHeight),"warn"),b=i.newWidth,C=i.newHeight),S(t,b,C,n.orientation),qq.ios()?function(){var e,t,n,i,s;n=(e=m).naturalWidth,i=e.naturalHeight,s=document.createElement("canvas"),1048576<n*i&&(s.width=s.height=1,(t=s.getContext("2d")).drawImage(e,1-n,0),0===t.getImageData(0,0,1,1).data[3])&&(y/=2,q/=2);var o,a,r,l=1024,u=document.createElement("canvas"),d=g?function(e,t,n){var i,s,o,a=document.createElement("canvas"),r=0,l=n,u=n;for(a.width=1,a.height=n,(i=a.getContext("2d")).drawImage(e,0,0),s=i.getImageData(0,0,1,n).data;r<u;)0===s[4*(u-1)+3]?l=u:r=u,u=l+r>>1;return 0==(o=u/n)?1:o}(m,0,q):1,c=Math.ceil(l*b/y),h=Math.ceil(l*C/q/d),p=0,f=0;for(u.width=u.height=l,o=u.getContext("2d");p<q;){for(r=a=0;a<y;)o.clearRect(0,0,l,l),o.drawImage(m,-a,-p),E.drawImage(u,0,0,l,l,r,f,c,h),a+=l,r+=c;p+=l,f+=h}E.restore(),u=o=null}():E.drawImage(m,0,0,b,C),t.qqImageRendered&&t.qqImageRendered(),w.success(),w)}function S(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var s=e.getContext("2d");switch(i){case 2:s.translate(t,0),s.scale(-1,1);break;case 3:s.translate(t,n),s.rotate(Math.PI);break;case 4:s.translate(0,n),s.scale(1,-1);break;case 5:s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:s.rotate(.5*Math.PI),s.translate(0,-n);break;case 7:s.rotate(.5*Math.PI),s.translate(t,-n),s.scale(-1,1);break;case 8:s.rotate(-.5*Math.PI),s.translate(-t,0)}}function e(n,e){var i=this;window.Blob&&n instanceof Blob&&function(){var e=new Image,t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!t)throw Error("No createObjectURL function found to create blob url");e.src=t.createObjectURL(n),i.blob=n,n=e}(),n.naturalWidth||n.naturalHeight||(n.onload=function(){var n=i.imageLoadListeners;n&&(i.imageLoadListeners=null,setTimeout(function(){for(var e=0,t=n.length;e<t;e++)n[e]()},0))},n.onerror=e,this.imageLoadListeners=[]),this.srcImage=n}e.prototype.render=function(t,e){e=e||{};var n,i,s,o,a,r,l,u,d,c=this,h=this.srcImage.naturalWidth,p=this.srcImage.naturalHeight,f=e.width,m=e.height,g=e.maxWidth,v=e.maxHeight,_=!this.blob||"image/jpeg"===this.blob.type,y=t.tagName.toLowerCase();this.imageLoadListeners?this.imageLoadListeners.push(function(){c.render(t,e)}):(f&&!m?m=p*f/h<<0:m&&!f?f=h*m/p<<0:(f=h,m=p),g&&g<f&&(m=p*(f=g)/h<<0),v&&v<m&&(f=h*(m=v)/p<<0),n={width:f,height:m},qq.each(e,function(e,t){n[e]=t}),"img"===y?(d=t.src,(i=c.srcImage,s=c.blob,o=n,a=_,r=document.createElement("canvas"),l=o.mime||"image/jpeg",u=new qq.Promise,q(i,s,r,o,a).then(function(){u.success(r.toDataURL(l,o.quality||.8))}),u).then(function(e){t.src=e,d===t.src&&t.onload()})):"canvas"===y&&q(this.srcImage,this.blob,t,n,_),"function"==typeof this.onrender&&this.onrender(t))},qq.MegaPixImage=e}(),qq.ImageGenerator=function(c){"use strict";function r(e){return"img"===e.tagName.toLowerCase()}function l(e){return"canvas"===e.tagName.toLowerCase()}function u(e){var t=e.split("/"),n=t[t.length-1].split("?")[0],i=qq.getExtension(n);switch(i=i&&i.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function d(e){var t,n,i,s=document.createElement("a");return s.href=e,t=s.protocol,i=s.port,n=s.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||n.toLowerCase()!==window.location.hostname.toLowerCase()||i!==window.location.port&&!qq.ie()}function h(e,t){var n,i,s,o,a=r(e)||l(e);return r(e)?(o=t,(s=e).onload=function(){s.onload=null,s.onerror=null,o.success(s)},s.onerror=function(){s.onload=null,s.onerror=null,c("Problem drawing thumbnail!","error"),o.failure(s,"Problem drawing thumbnail!")}):l(e)?(i=t,(n=e).qqImageRendered=function(){i.success(n)}):(t.failure(e),c(qq.format("Element container of type {} is not supported!",e.tagName),"error")),a}function p(e,t,n,i,s){var o=new Image,a=new qq.Promise;h(o,a),d(e)&&(o.crossOrigin="anonymous"),o.src=e,a.then(function(){h(t,n),new qq.MegaPixImage(o).render(t,{maxWidth:i,maxHeight:i,mime:u(e),resize:s})},n.failure)}function f(e,t,n,i){h(t,n),qq(t).css({maxWidth:i+"px",maxHeight:i+"px"}),t.src=e}function m(e,t,n){var i,s=new qq.Promise,o=n.scale,a=o?n.maxSize:null;return o&&r(t)?(i=document.createElement("canvas")).getContext&&i.getContext("2d")?d(e)&&void 0===(new Image).crossOrigin?f(e,t,s,a):p(e,t,s,a):f(e,t,s,a):l(t)?p(e,t,s,a):h(t,s)&&(t.src=e),s}qq.extend(this,{generate:function(e,t,n){return qq.isString(e)?(c("Attempting to update thumbnail based on server response."),m(e,t,n||{})):(c("Attempting to draw client-side image preview."),s=e,o=t,a=n||{},r=new qq.Promise,i=new qq.Identify(s,c),l=a.maxSize,u=null==a.orient||a.orient,d=function(){o.onerror=null,o.onload=null,c("Could not render preview, file may be too large!","error"),r.failure(o,"Browser cannot render image!")},i.isPreviewable().then(function(n){var e={parse:function(){return(new qq.Promise).success()}},t=u?new qq.Exif(s,c):e,i=new qq.MegaPixImage(s,d);h(o,r)&&t.parse().then(function(e){var t=e&&e.Orientation;i.render(o,{maxWidth:l,maxHeight:l,orientation:t,mime:n,resize:a.customResizeFunction})},function(e){c(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",e)),i.render(o,{maxWidth:l,maxHeight:l,mime:n,resize:a.customResizeFunction})})},function(){c("Not previewable"),r.failure(o,"Not previewable")}),r);var s,o,a,r,i,l,u,d}}),this._testing={},this._testing.isImg=r,this._testing.isCanvas=l,this._testing.isCrossOrigin=d,this._testing.determineMimeOfFileName=u},qq.Exif=function(u,c){"use strict";function h(e){for(var t=0,n=0;0<e.length;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function e(){var t=new qq.Promise;return qq.readBlobToHex(u,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):function i(e,t){var s=e,o=t;return void 0===s&&(s=2,o=new qq.Promise),qq.readBlobToHex(u,s,4).then(function(e){var t,n=/^ffe([0-9])/.exec(e);n?"1"!==n[1]?(t=parseInt(e.slice(4,8),16),i(s+t+2,o)):o.success(s):o.failure("No EXIF header to be found!")}),o}().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}var p=[274],f={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){var r=new qq.Promise,l=function(e){c(qq.format("EXIF header parse failed: '{}' ",e)),r.failure(e)};return e().then(function(a){var e,t;c(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===u.name?"blob":u.name)),(e=a,t=new qq.Promise,qq.readBlobToHex(u,e+10,2).then(function(e){t.success("4949"===e)}),t).then(function(o){var e,t,n;c(qq.format("EXIF Byte order is {} endian",o?"little":"big")),(e=a,t=o,n=new qq.Promise,qq.readBlobToHex(u,e+18,2).then(function(e){if(t)return n.success(h(e));n.success(parseInt(e,16))}),n).then(function(e){var t,n,i,s;c(qq.format("Found {} APP1 directory entries",e)),(t=a,n=e,i=t+20,s=12*n,qq.readBlobToHex(u,i,s)).then(function(e){var l,t,u,d,n=function(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}(e),i=(l=o,t=n,u=qq.extend([],p),d={},qq.each(t,function(e,t){var n,i,s,o=t.slice(0,4),a=l?h(o):parseInt(o,16),r=u.indexOf(a);if(0<=r&&(i=f[a].name,s=f[a].bytes,n=t.slice(16,16+2*s),d[i]=l?h(n):parseInt(n,16),u.splice(r,1)),0===u.length)return!1}),d);c("Successfully parsed some EXIF tags"),r.success(i)},l)},l)},l)},l),r}}),this._testing={},this._testing.parseLittleEndian=h},qq.Identify=function(s,l){"use strict";qq.extend(this,{isPreviewable:function(){var e=this,a=new qq.Promise,r=!1,t=void 0===s.name?"blob":s.name;return l(qq.format("Attempting to determine if {} can be rendered in this browser",t)),l("First pass: check type attribute of blob object."),this.isPreviewableSync()?(l("Second pass: check for magic bytes in file header."),qq.readBlobToHex(s,0,4).then(function(o){qq.each(e.PREVIEWABLE_MIME_TYPES,function(e,t){if(n=o,i=!1,s=[].concat(t),qq.each(s,function(e,t){if(0===n.indexOf(t))return i=!0,!1}),i)return("image/tiff"!==e||qq.supportedFeatures.tiffPreviews)&&(r=!0,a.success(e)),!1;var n,i,s}),l(qq.format("'{}' is {} able to be rendered in this browser",t,r?"":"NOT")),r||a.failure()},function(){l("Error reading file w/ name '"+t+"'.  Not able to be rendered in this browser."),a.failure()})):a.failure(),a},isPreviewableSync:function(){var e=s.type,t=0<=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),e),n=!1,i=void 0===s.name?"blob":s.name;return t&&(n="image/tiff"!==e||qq.supportedFeatures.tiffPreviews),!n&&l(i+" is not previewable in this browser per the blob's type attr"),n}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(o,a){"use strict";this.validate=function(i){var n,e,s,r=new qq.Promise;return a("Attempting to validate image."),e=i,s=!1,qq.each(e,function(e,t){if(0<t)return s=!0,!1}),s?(n=new qq.Promise,new qq.Identify(o,a).isPreviewable().then(function(){var e=new Image,t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;t?(e.onerror=function(){a("Cannot determine dimensions for image.  May be too large.","error"),n.failure()},e.onload=function(){n.success({width:this.width,height:this.height})},e.src=t.createObjectURL(o)):(a("No createObjectURL function available to generate image URL!","error"),n.failure())},n.failure),n).then(function(e){var t,o,a,n=(t=i,o=e,qq.each(t,function(e,t){if(0<t){var n=/(max|min)(Width|Height)/.exec(e),i=n[2].charAt(0).toLowerCase()+n[2].slice(1),s=o[i];switch(n[1]){case"min":if(s<t)return a=e,!1;break;case"max":if(t<s)return a=e,!1}}}),a);n?r.failure(n):r.success()},r.success):r.success(),r}},qq.Session=function(e){"use strict";function s(e,t,n,i){var s=!1;(t=t&&function(e){if(qq.isArray(e))return!0;o.log("Session response is not an array.","error")}(e))&&qq.each(e,function(e,t){if(null==t.uuid)s=!0,o.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)s=!0,o.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return o.addFileRecord(t),!0}catch(e){s=!0,o.log(e.message,"error")}return!1}),i[t&&!s?"success":"failure"](e,n)}var o={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};qq.extend(o,e,!0),this.refresh=function(){var i=new qq.Promise,e=qq.extend({},o);return new qq.SessionAjaxRequester(qq.extend(e,{onComplete:function(e,t,n){s(e,t,n,i)}})).queryServer(),i}},qq.SessionAjaxRequester=function(e){"use strict";var t,s={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,n){},log:function(e,t){}};qq.extend(s,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return s.endpoint}},customHeaders:s.customHeaders,log:s.log,onComplete:function(e,t,n){var i=null;if(null!=t.responseText)try{i=qq.parseJson(t.responseText)}catch(e){s.log("Problem parsing session response: "+e.message,"error"),n=!0}s.onComplete(i,!n,t)},cors:s.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},s.params);s.log("Session query request."),t.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,r){"use strict";var l=e.customResizer,n=e.sendOriginal,u=e.orient,d=e.defaultType,c=e.defaultQuality/100,h=e.failureText,p=e.includeExif,f=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&0<f.length,getFileRecords:function(e,i,t){var s=this,o=[],a=t.blob?t.blob:t;return new qq.Identify(a,r).isPreviewableSync()?(qq.each(f,function(e,t){var n=s._determineOutputType({defaultType:d,requestedType:t.type,refType:a.type});o.push({uuid:qq.getUniqueId(),name:s._getName(i,{name:t.name,type:n,refType:a.type}),blob:new qq.BlobProxy(a,qq.bind(s._generateScaledImage,s,{customResizeFunction:l,maxSize:t.maxSize,orient:u,type:n,quality:c,failedText:h,includeExif:p,log:r}))})}),o.push({uuid:e,name:i,size:a.size,blob:n?a:null})):o.push({uuid:e,name:i,size:a.size,blob:a}),o},handleNewFile:function(e,t,n,i,s,o,a,r){var l,u=(e.qqButtonId||e.blob&&e.blob.qqButtonId,[]),d=null,c=r.addFileToHandler,h=r.uploadData,p=r.paramsStore,f=qq.getUniqueId();qq.each(this.getFileRecords(n,t,e),function(e,t){var n,i=t.size;t.blob instanceof qq.BlobProxy&&(i=-1),n=h.addFile({uuid:t.uuid,name:t.name,size:i,batchId:o,proxyGroupId:f}),t.blob instanceof qq.BlobProxy?u.push(n):d=n,t.blob?(c(n,t.blob),s.push({id:n,file:t.blob})):h.setStatus(n,qq.status.REJECTED)}),null!==d&&(qq.each(u,function(e,t){var n={qqparentuuid:h.retrieve({id:d}).uuid,qqparentsize:h.retrieve({id:d}).size};n[a]=h.retrieve({id:t}).uuid,h.setParentId(t,d),p.addReadOnly(t,n)}),u.length&&((l={})[a]=h.retrieve({id:d}).uuid,p.addReadOnly(d,l)))}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(t,e,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var i=new qq.Promise,s=n.log,o=n.getFile(t),a=n.uploadData.retrieve({id:t}),r=a&&a.name,l=a&&a.uuid,u={customResizer:e.customResizer,sendOriginal:!1,orient:e.orient,defaultType:e.type||null,defaultQuality:e.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:e.maxSize}]},d=new qq.Scaler(u,s);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var e=d.getFileRecords(l,r,o)[0];e&&e.blob instanceof qq.BlobProxy?e.blob.create().then(i.success,i.failure):(s(t+" is not a scalable image!","error"),i.failure())},this)():(i.failure(),s("Could not generate requested scaled image for "+t+".  Scaling is either not possible in this browser, or the file could not be located.","error")),i},_determineOutputType:function(e){"use strict";var t=e.requestedType,n=e.defaultType,i=e.refType;return n||t?t&&0<=qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)?"image/tiff"===t?qq.supportedFeatures.tiffPreviews?t:n:t:n:"image/jpeg"!==i?"image/png":i},_getName:function(e,t){"use strict";var n=e.lastIndexOf("."),i=t.type||"image/png",s=t.refType,o="",a=qq.getExtension(e),r="";return t.name&&t.name.trim().length&&(r=" ("+t.name+")"),0<=n?(o=e.substr(0,n),s!==i&&(a=i.split("/")[1]),o+=r+"."+a):o=e+r,o},_getSortedSizes:function(e){"use strict";return(e=qq.extend([],e)).sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,i){"use strict";var s=this,t=e.customResizeFunction,o=e.log,n=e.maxSize,a=e.orient,r=e.type,l=e.quality,u=e.failedText,d=e.includeExif&&"image/jpeg"===i.type&&"image/jpeg"===r,c=new qq.Promise,h=new qq.ImageGenerator(o),p=document.createElement("canvas");return o("Attempting to generate scaled version for "+i.name),h.generate(i,p,{maxSize:n,orient:a,customResizeFunction:t}).then(function(){var t=p.toDataURL(r,l),n=function(){o("Success generating scaled version for "+i.name);var e=qq.dataUriToBlob(t);c.success(e)};d?s._insertExifHeader(i,t,o).then(function(e){t=e,n()},function(){o("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),n()}):n()},function(){o("Failed attempt to generate scaled version for "+i.name,"error"),c.failure(u)}),c},_insertExifHeader:function(e,t,n){"use strict";var i=new FileReader,s=new qq.Promise,o="";return i.onload=function(){o=i.result,s.success(qq.ExifRestorer.restore(o,t))},i.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),s.failure()},i.readAsDataURL(e),s},_dataUriToBlob:function(e){"use strict";var t,n,i,s;return t=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),s=new Uint8Array(i),qq.each(t,function(e,t){s[e]=t.charCodeAt(0)}),this._createBlob(i,n)},_createBlob:function(e,t){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=(ZJ={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){for(var t,n,i,s,o,a="",r="",l="",u=0;i=(t=e[u++])>>2,s=(3&t)<<4|(n=e[u++])>>4,o=(15&n)<<2|(r=e[u++])>>6,l=63&r,isNaN(n)?o=l=64:isNaN(r)&&(l=64),a=a+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=r="",i=s=o=l="",u<e.length;);return a},restore:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),s=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(s)},exifManipulation:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},getExifArray:function(e){for(var t,n=0;n<e.length;n++)if(255==(t=e[n])[0]&225==t[1])return t;return[]},insertExif:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),s=i.indexOf(255,3),o=i.slice(0,s),a=i.slice(s),r=o;return(r=r.concat(t)).concat(a)},slice2Segments:function(e){for(var t=0,n=[];!(255==e[t]&218==e[t+1]);){if(255==e[t]&216==e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,s=e.slice(t,i);n.push(s),t=i}if(t>e.length)break}return n},decode64:function(e){var t,n,i,s,o="",a="",r=0,l=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(r++))<<2|(i=this.KEY_STR.indexOf(e.charAt(r++)))>>4,n=(15&i)<<4|(s=this.KEY_STR.indexOf(e.charAt(r++)))>>2,o=(3&s)<<6|(a=this.KEY_STR.indexOf(e.charAt(r++))),l.push(t),64!=s&&l.push(n),64!=a&&l.push(o),t=n=o="",i=s=a="",r<e.length;);return l}},ZJ),qq.TotalProgress=function(n,i){"use strict";var o={},a=0,r=0,s=-1,l=-1,u=function(e,t){e===s&&t===l||n(e,t),s=e,l=t},d=function(e){var t=i(e);0<t&&(c(e,0,t),o[e]={loaded:0,total:t})},c=function(e,t,n){var i=o[e]?o[e].loaded:0,s=o[e]?o[e].total:0;-1===t&&-1===n?(a-=i,r-=s):(t&&(a+=t-i),n&&(r+=n-s)),u(a,r)};qq.extend(this,{onAllComplete:function(e,t,n){var i,s,o;(0===t.length||(i=t,s=n,o=!0,qq.each(i,function(e,t){if(0<=qq.indexOf(s,t))return o=!1}),o))&&(u(r,r),this.reset())},onStatusChange:function(e,t,n){var i;n===qq.status.CANCELED||n===qq.status.REJECTED?(c(i=e,-1,-1),delete o[i]):n===qq.status.SUBMITTING&&d(e)},onIndividualProgress:function(e,t,n){c(e,t,n),o[e]={loaded:t,total:n}},onNewSize:function(e){d(e)},reset:function(){o={},r=a=0}})},qq.PasteSupport=function(e){"use strict";var s,t;s={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(s,e),t=qq(s.targetElement).attach("paste",function(e){var t=e.clipboardData;t&&qq.each(t.items,function(e,t){if((i=t).type&&0===i.type.indexOf("image/")){var n=t.getAsFile();s.callbacks.pasteReceived(n)}var i})}),qq.extend(this,{reset:function(){t&&t()}})},qq.FormSupport=function(e,t,n){"use strict";function i(e,t){if(!e.checkValidity||e.checkValidity())return!0;n("Form did not pass validation checks - will not upload.","error"),t()}var s,o,a,r,l=this,u=e.interceptSubmit,d=e.element,c=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:c,attachedToForm:!1,getFormInputsAsObject:function(){return null==d?null:l._form2Obj(d)}}),(s=d)&&(qq.isString(s)&&(s=document.getElementById(s)),s&&(n("Attaching to form element."),(r=s).getAttribute("action")&&(l.newEndpoint=r.getAttribute("action")),u&&(a=(o=s).submit,qq(o).attach("submit",function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,i(o,a)&&t()}),o.submit=function(){i(o,a)&&t()}))),d=s,this.attachedToForm=!!d},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";var a={},r=function(e){return t=e.type,!(!(0<=qq.indexOf(["checkbox","radio"],t.toLowerCase()))||e.checked)||e.disabled&&"hidden"!==e.type.toLowerCase();var t};return qq.each(e.elements,function(e,t){if((qq.isInput(t,!0)||"textarea"===t.tagName.toLowerCase())&&(o=t.type,qq.indexOf(["button","image","reset","submit"],o.toLowerCase())<0)&&!r(t))a[t.name]=t.value;else if("select"===t.tagName.toLowerCase()&&!r(t)){var n=(i=t,s=null,qq.each(qq(i).children(),function(e,t){if("option"===t.tagName.toLowerCase()&&t.selected)return s=t.value,!1}),s);null!==n&&(a[t.name]=n)}var i,s,o}),a}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(c,e){"use strict";var h=this,p=e.getName,f=e.getUuid,m=e.log;this.uploadFile=function(n){var e,t,i,s,o,a,r,l=h.getInput(n),u=h._createIframe(n),d=new qq.Promise;return t=n,i=u,s=c.paramsStore.get(t),o="get"===c.method.toLowerCase()?"GET":"POST",a=c.endpointStore.get(t),r=p(t),s[c.uuidName]=f(t),s[c.filenameParam]=r,(e=h._initFormForUpload({method:o,endpoint:a,params:s,paramsInBody:c.paramsInBody,targetName:i.name})).appendChild(l),h._attachLoadEvent(u,function(e){m("iframe loaded");var t=e||function(e,t){var n,i,s;try{s=(i=t.contentDocument||t.contentWindow.document).body.innerHTML,m("converting iframe's innerHTML to JSON"),m("innerHTML = "+s),s&&s.match(/^<pre/i)&&(s=i.body.firstChild.firstChild.nodeValue),n=h._parseJsonResponse(s)}catch(e){m("Error when attempting to parse form upload response ("+e.message+")","error"),n={success:!1}}return n}(0,u);h._detachLoadEvent(n),c.cors.expected||qq(u).remove(),t.success?d.success(t):d.failure(t)}),m("Sending upload request for "+n),e.submit(),qq(e).remove(),d},qq.extend(this,new qq.FormUploadHandler({options:{isCors:c.cors.expected,inputName:c.inputName},proxy:{onCancel:c.onCancel,getName:p,getUuid:f,log:m}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(p,e){"use strict";var f=this,m=e.getName,g=e.getSize,u=e.getUuid,o=e.log,v=p.forceMultipart||p.paramsInBody,a=new qq.traditional.AllChunksDoneAjaxRequester({cors:p.cors,endpoint:p.chunking.success.endpoint,log:o}),_=function(t,n){var i=new qq.Promise;return n.onreadystatechange=function(){if(4===n.readyState){var e=s(t,n);e.success?i.success(e.response,n):i.failure(e.response,n)}},i},s=function(e,t){var n,i,s;return o("xhr - server response received for "+e),o("responseText = "+t.responseText),n=r(!0,t),{success:(i=t,s=n,!(qq.indexOf([200,201,202,203,204],i.status)<0||!s.success||s.reset)),response:n}},r=function(e,t){var n={};try{o(qq.format("Received response status {} with body: {}",t.status,t.responseText)),n=qq.parseJson(t.responseText)}catch(t){e&&o("Error when attempting to parse xhr response text ("+t.message+")","error")}return n},n=function(e){var t,n,i,s,o=new qq.Promise;return a.complete(e,f._createXhr(e),(t=e,n=p.paramsStore.get(t),i=m(t),s=g(t),n[p.uuidName]=u(t),n[p.filenameParam]=i,n[p.totalFileSizeName]=s,n[p.chunking.paramNames.totalParts]=f._getTotalChunks(t),n),p.customHeaders.get(e)).then(function(e){o.success(r(!1,e),e)},function(e){o.failure(r(!1,e),e)}),o},y=function(e,t,n,i){var s=new FormData,o=p.method,a=p.endpointStore.get(i),r=m(i),l=g(i);return e[p.uuidName]=u(i),e[p.filenameParam]=r,v&&(e[p.totalFileSizeName]=l),p.paramsInBody||(v||(e[p.inputName]=r),a=qq.obj2url(e,a)),t.open(o,a,!0),p.cors.expected&&p.cors.sendCredentials&&(t.withCredentials=!0),v?(p.paramsInBody&&qq.obj2FormData(e,s),s.append(p.inputName,n),s):n},q=function(e,n){var t=p.customHeaders.get(e),i=f.getFile(e);n.setRequestHeader("Accept","application/json"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Cache-Control","no-cache"),v||(n.setRequestHeader("Content-Type","application/octet-stream"),n.setRequestHeader("X-Mime-Type",i.type)),qq.each(t,function(e,t){n.setRequestHeader(e,t)})};qq.extend(this,{uploadChunk:function(e,t,n){var i,s,o,a,r,l,u,d,c=f._getChunkData(e,t),h=f._createXhr(e,t);return g(e),i=_(e,h),f._registerProgressHandler(e,t,c.size),o=p.paramsStore.get(e),r=o,l=c,u=g(a=e),d=m(a),r[p.chunking.paramNames.partIndex]=l.part,r[p.chunking.paramNames.partByteOffset]=l.start,r[p.chunking.paramNames.chunkSize]=l.size,r[p.chunking.paramNames.totalParts]=l.count,r[p.totalFileSizeName]=u,v&&(r[p.filenameParam]=d),n&&(o[p.resume.paramNames.resuming]=!0),s=y(o,h,c.blob,e),q(e,h),h.send(s),i},uploadFile:function(e){var t,n,i,s,o=f.getFile(e);return n=f._createXhr(e),f._registerProgressHandler(e),t=_(e,n),i=p.paramsStore.get(e),s=y(i,n,o,e),q(e,n),n.send(s),t}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},p),proxy:qq.extend({getEndpoint:p.endpointStore.get},e)})),qq.override(this,function(t){return{finalizeChunks:function(e){return p.chunking.success.endpoint?n(e):t.finalizeChunks(e,qq.bind(r,this,!0))}}})},qq.traditional.AllChunksDoneAjaxRequester=function(e){"use strict";var o,a={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(e,t){}},r={},t={get:function(e){return a.endpoint}};qq.extend(a,e),o=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST"],method:"POST",endpointStore:t,allowXRequestedWithAndCacheControl:!1,cors:a.cors,log:a.log,onComplete:function(e,t,n){var i=r[e];delete r[e],n?i.failure(t):i.success(t)}})),qq.extend(this,{complete:function(e,t,n,i){var s=new qq.Promise;return a.log("Submitting All Chunks Done request for "+e),r[e]=s,o.initTransport(e).withParams(n).withHeaders(i).send(t),s}})},qq.DragAndDrop=function(e){"use strict";function a(s){var o=new qq.Promise;return s.isFile?s.file(function(e){var t=s.name,n=s.fullPath,i=n.indexOf(t);"/"===(n=n.substr(0,i)).charAt(0)&&(n=n.substr(1)),e.qqPath=n,u.push(e),o.success()},function(e){r.callbacks.dropLog("Problem parsing '"+s.fullPath+"'.  FileError code "+e.code+".","error"),o.failure()}):s.isDirectory&&function n(i,e,s,t){var o=t||new qq.Promise,a=e||i.createReader();return a.readEntries(function(e){var t=s?s.concat(e):e;e.length?setTimeout(function(){n(i,a,t,o)},0):o.success(t)},o.failure),o}(s).then(function(e){var n=e.length;qq.each(e,function(e,t){a(t).done(function(){0===(n-=1)&&o.success()})}),e.length||o.success()},function(e){r.callbacks.dropLog("Problem parsing '"+s.fullPath+"'.  FileError code "+e.code+".","error"),o.failure()}),o}function i(t){var o=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:"qq-hidezones",element:t,onEnter:function(e){qq(t).addClass(r.classes.dropActive),e.stopPropagation()},onLeaveNotDescendants:function(e){qq(t).removeClass(r.classes.dropActive)},onDrop:function(e){var t,n,i,s;(t=e.dataTransfer,n=o,i=[],s=new qq.Promise,r.callbacks.processingDroppedFiles(),n.dropDisabled(!0),1<t.files.length&&!r.allowMultipleItems?(r.callbacks.processingDroppedFilesComplete([]),r.callbacks.dropError("tooManyFilesError",""),n.dropDisabled(!1),s.failure()):(u=[],qq.isFolderDropSupported(t)?qq.each(t.items,function(e,t){var n=t.webkitGetAsEntry();n&&(n.isFile?u.push(t.getAsFile()):i.push(a(n).done(function(){i.pop(),0===i.length&&s.success()})))}):u=t.files,0===i.length&&s.success()),s).then(function(){var e,t,n;e=u,t=o,n=Array.prototype.slice.call(e),r.callbacks.dropLog("Grabbed "+e.length+" dropped files."),t.dropDisabled(!1),r.callbacks.processingDroppedFilesComplete(n,t.getElement())},function(){r.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return d.addDisposer(function(){o.dispose()}),qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).hide(),l.push(o),o}function s(e){var n;return qq.each(e.dataTransfer.types,function(e,t){if("Files"===t)return n=!0,!1}),n}var r,o,n,l=[],u=[],d=new qq.DisposeSupport;r={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(r,e,!0),o=r.dropZoneElements,n=function(){setTimeout(function(){qq.each(o,function(e,t){qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).hide(),qq(t).removeClass(r.classes.dropActive)})},10)},qq.each(o,function(e,t){var n=i(t);o.length&&qq.supportedFeatures.fileDrop&&d.attach(document,"dragenter",function(e){!n.dropDisabled()&&s(e)&&qq.each(o,function(e,t){t instanceof HTMLElement&&qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).css({display:"block"})})})}),d.attach(document,"dragleave",function(e){var t;t=e,(qq.safari()?t.x<0||t.y<0:0===t.x&&0===t.y)&&n()}),d.attach(qq(document).children()[0],"mouseenter",function(e){n()}),d.attach(document,"drop",function(e){s(e)&&(e.preventDefault(),n())}),d.attach(document,"qq-hidezones",n),qq.extend(this,{setupExtraDropzone:function(e){r.dropZoneElements.push(e),i(e)},removeDropzone:function(e){var t,n=r.dropZoneElements;for(t in n)if(n[t]===e)return n.splice(t,1)},dispose:function(){d.dispose(),qq.each(l,function(e,t){t.dispose()})}})},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e,t){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";function n(e){if(!qq.supportedFeatures.fileDrop)return!1;var t,n=e.dataTransfer,i=qq.safari();return t=!(!qq.ie()||!qq.supportedFeatures.fileDrop)||"none"!==n.effectAllowed,n&&t&&(n.files&&n.files.length||!i&&n.types.contains&&n.types.contains("Files")||n.types.includes&&n.types.includes("Files"))}function t(e){return void 0!==e&&(o=e),o}var i,s,o,a,r=new qq.DisposeSupport;i={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(i,e),s=i.element,a||(function(){return qq.safari()||qq.firefox()&&qq.windows()}?r.attach(document,"dragover",function(e){e.preventDefault()}):r.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),a=!0),r.attach(s,"dragover",function(e){if(n(e)){var t=qq.ie()&&qq.supportedFeatures.fileDrop?null:e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault()}}),r.attach(s,"dragenter",function(e){if(!t()){if(!n(e))return;i.onEnter(e)}}),r.attach(s,"dragleave",function(e){if(n(e)){i.onLeave(e);var t=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(t)||i.onLeaveNotDescendants(e)}}),r.attach(s,"drop",function(e){if(!t()){if(!n(e))return;e.preventDefault(),e.stopPropagation(),i.onDrop(e),function(){function e(){(t=document.createEvent("Event")).initEvent(i.HIDE_ZONES_EVENT_NAME,!0,!0)}var t;if(window.CustomEvent)try{t=new CustomEvent(i.HIDE_ZONES_EVENT_NAME)}catch(t){e()}else e();document.dispatchEvent(t)}()}}),qq.extend(this,{dropDisabled:function(e){return t(e)},dispose:function(){r.dispose()},getElement:function(){return s}}),this._testing={},this._testing.isValidFileDrag=n},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(e){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){if(this._dnd)return this._dnd.removeDropzone(e)},getItemByFileId:function(e){if(!this._templating.isHiddenForever(e))return this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(e,t){var n=this._options.formatFileName(t);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(e,n)},pauseUpload:function(e){var t=this._parent.prototype.pauseUpload.apply(this,arguments);return t&&this._templating.uploadPaused(e),t},continueUpload:function(e){var t=this._parent.prototype.continueUpload.apply(this,arguments);return t&&this._templating.uploadContinued(e),t},getId:function(e){return this._templating.getFileId(e)},getDropTarget:function(e){return this.getFile(e).qqDropTarget}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var i=this,e=this._options.dragAndDrop.extraDropzones,t=this._templating,n=t.getDropZone();return n&&e.push(n),new qq.DragAndDrop({dropZoneElements:e,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){t.showDropProcessing()},processingDroppedFilesComplete:function(e,n){t.hideDropProcessing(),qq.each(e,function(e,t){t.qqDropTarget=n}),e.length&&i.addFiles(e,null,null)},dropError:function(e,t){i._itemError(e,t)},dropLog:function(e,t){i.log(e,t)}}})},_bindFileButtonsClickEvent:function(){var n=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(e,t){n.log(e,t)},onDeleteFile:function(e){n.deleteFile(e)},onCancel:function(e){n.cancel(e)},onRetry:function(e){n.retry(e)},onPause:function(e){n.pauseUpload(e)},onContinue:function(e){n.continueUpload(e)},onGetName:function(e){return n.getName(e)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var n=this,s=this._templating;return{templating:s,log:function(e,t){n.log(e,t)},onGetUploadStatus:function(e){return n.getUploads({id:e}).status},onGetName:function(e){return n.getName(e)},onSetName:function(e,t){n.setName(e,t)},onEditingStatusChange:function(e,t){var n=qq(s.getEditInput(e)),i=qq(s.getFileContainer(e));t?(n.addClass("qq-editing"),s.hideFilename(e),s.hideEditIcon(e)):(n.removeClass("qq-editing"),s.showFilename(e),s.showEditIcon(e)),i.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(e,t,n){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&n!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e)),t===qq.status.UPLOAD_RETRYING&&n===qq.status.UPLOADING?(this._templating.hideRetry(e),this._templating.setStatusText(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)):n===qq.status.UPLOAD_FAILED&&this._templating.hidePause(e)},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onAllComplete:function(e,t){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(e,t){var n=this.getFile(e);n&&n.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(e,{qqpath:n.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,n,i){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,n,i),0===i||100===Math.round(n/i*100)?(this._templating.hideCancel(e),this._templating.hidePause(e),this._templating.hideProgress(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,n,i)},_onTotalProgress:function(e,t){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(e,t)},_onComplete:function(t,e,n,i){function s(e){r&&(a.setStatusText(t),qq(r).removeClass(l._classes.retrying),a.hideProgress(t),l.getUploads({id:t}).status!==qq.status.UPLOAD_FAILED&&a.hideCancel(t),a.hideSpinner(t),e.success?l._markFileAsSuccessful(t):(qq(r).addClass(l._classes.fail),a.showCancel(t),a.isRetryPossible()&&!l._preventRetries[t]&&(qq(r).addClass(l._classes.retryable),a.showRetry(t)),l._controlFailureTextDisplay(t,e)))}var o=this._parent.prototype._onComplete.apply(this,arguments),a=this._templating,r=a.getFileContainer(t),l=this;return o instanceof qq.Promise?o.done(function(e){s(e)}):s(n),o},_markFileAsSuccessful:function(e){var t=this._templating;this._isDeletePossible()&&t.showDeleteButton(e),qq(t.getFileContainer(e)).addClass(this._classes.success),this._maybeUpdateThumbnail(e)},_onUploadPrep:function(e){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(e)},_onUpload:function(e,t){var n=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),n},_onUploadChunk:function(e,t){this._parent.prototype._onUploadChunk.apply(this,arguments),0<t.partIndex&&this._handler.isResumable(e)&&this._templating.allowPause(e)},_onCancel:function(e,t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(e){var t,n,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._options.retry.showAutoRetryNote&&(t=this._autoRetries[e],n=this._options.retry.maxAutoAttempts,i=(i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,t)).replace(/\{maxAuto\}/g,n),this._templating.setStatusText(e,i),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),this._templating.showRetry(e),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(e,t,n){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(e,t,n){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),n?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e,t,n){this._templating.hideDeleteButton(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e,t,n){var i,s=this.getName(e),o=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,s),a=(this.getUuid(e),arguments),r=this;i=this._options.showConfirm(o),qq.isGenericPromise(i)?i.then(function(){r._sendDeleteRequest.apply(r,a)}):!1!==i&&r._sendDeleteRequest.apply(r,a)},_addToList:function(e,t,n){var i,s,o=0,a=this._handler.isProxied(e)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(1<this._totalFilesInBatch&&0<this._filesInBatchAddedToUi&&(o=this._filesInBatchAddedToUi-1),i={index:o}),n||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(s=this.getUploads({id:e}),this._handledProxyGroup=this._handledProxyGroup||s.proxyGroupId,s.proxyGroupId===this._handledProxyGroup&&s.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),n?(this._templating.addFileToCache(e,this._options.formatFileName(t),i,a),this._templating.updateThumbnail(e,this._thumbnailUrls[e],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(e,this._options.formatFileName(t),i,a),this._templating.generatePreview(e,this.getFile(e),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(n||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,n){var i=this.getSize(e),s=this._formatSize(i);0<=i&&(void 0!==t&&void 0!==n&&(s=this._formatProgress(t,n)),this._templating.updateSize(e,s))},_formatProgress:function(e,t){function n(e,t){i=i.replace(e,t)}var i=this._options.text.formatProgress;return n("{percent}",Math.round(e/t*100)),n("{total_size}",this._formatSize(t)),i},_controlFailureTextDisplay:function(e,t){var n,i,s;n=this._options.failedUploadTextDisplay.mode,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?((s=t[i])||(s=this._options.text.failUpload),this._templating.setStatusText(e,s),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,s)):"default"===n?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(e)},_itemError:function(e,t,n){var i=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(i)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var n=this;this._options.callbacks.onPasteReceived=function(){var e=n._options.paste.namePromptMessage,t=n._options.paste.defaultName;return n._options.showPrompt(e,t)}},_fileOrBlobRejected:function(e,t){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e,t,n){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e];this.getUploads({id:e}).status===qq.status.DELETED||!t&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(e,t,this._options.thumbnails.customResizer)},_addCannedFile:function(e){var t=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(t,this.getName(t),!0),this._templating.hideSpinner(t),this._templating.hideCancel(t),this._markFileAsSuccessful(t),t},_setSize:function(e,t){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(e,this._formatSize(t))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(e,t){"use strict";var n=this;this._parent=t?qq[t].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(e){if(n._templating.hasDialog("alert"))return n._templating.showDialog("alert",e);setTimeout(function(){window.alert(e)},0)},showConfirm:function(e){return n._templating.hasDialog("confirm")?n._templating.showDialog("confirm",e):window.confirm(e)},showPrompt:function(e,t){return n._templating.hasDialog("prompt")?n._templating.showDialog("prompt",e,t):window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";var c,h,p,f,m,g,v,_,t,n,i,y={content:document.createDocumentFragment(),map:{}},q=!1,l=0,s=!1,o=[],b=-1,C={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},E={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},u={},a=new qq.Promise,w=new qq.Promise,d=function(t){var n=new qq.Promise;return w.then(function(e){K(e,t),t.src?n.success():(t.src=e.src,t.onload=function(){t.onload=null,z(t),n.success()})},function(){H(t),n.success()}),n},S=function(){if(o.length){s=!0;var e=o.shift();e.update?G(e):V(e)}else s=!1},r=function(e){return B(T(e),E.cancel)},k=function(e){return B(T(e),E.continueButton)},D=function(e){return B(m,E[e+"Dialog"])},L=function(e){return B(T(e),E.deleteButton)},I=function(){return B(m,E.dropProcessing)},F=function(e){return B(T(e),E.editNameIcon)},T=function(e){return y.map[e]||qq(g).getFirstByClass("qq-file-id-"+e)},x=function(e){return B(T(e),E.file)},A=function(e){return B(T(e),E.pause)},R=function(e){return null==e?B(m,E.totalProgressBarContainer)||B(m,E.totalProgressBar):B(T(e),E.progressBarContainer)||B(T(e),E.progressBar)},P=function(e){return B(T(e),E.retry)},M=function(e){return B(T(e),E.size)},N=function(e){return B(T(e),E.spinner)},B=function(e,t){return e&&qq(e).getFirstByClass(t)},O=function(e){return v&&B(T(e),E.thumbnail)},H=function(e){e&&qq(e).addClass(C.classes.hide)},K=function(e,t){var n=e.style.maxWidth,i=e.style.maxHeight;i&&n&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:n,maxHeight:i})},$=function(e,t){var n=u[e]||(new qq.Promise).failure(),i=new qq.Promise;return a.then(function(e){n.then(function(){i.success()},function(){K(e,t),t.onload=function(){t.onload=null,i.success()},t.src=e.src,z(t)})}),i},V=function(e){var s=e.id,o=e.optFileOrBlob,a=o&&o.qqThumbnailId,t=O(s),r={customResizeFunction:e.customResizeFunction,maxSize:b,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?t?C.limits.maxThumbs&&C.limits.maxThumbs<=l?($(s,t),S()):d(t).done(function(){var e,t,n,i;u[s]=new qq.Promise,u[s].done(function(){setTimeout(S,C.limits.timeBetweenThumbs)}),null!=a?Q(s,a):(t=o,n=r,i=O(e=s),c("Generating new thumbnail for "+e),t.qqThumbnailId=e,C.imageGenerator.generate(t,i,n).then(function(){l++,z(i),u[e].success()},function(){u[e].failure(),C.placeholders.waitUntilUpdate||$(e,i)}))}):S():t&&(d(t),S())},G=function(e){var t=e.id,n=e.thumbnailUrl,i=e.showWaitingImg,s=O(t),o={customResizeFunction:e.customResizeFunction,scale:_,maxSize:b};if(s)if(n){if(!(C.limits.maxThumbs&&C.limits.maxThumbs<=l))return i&&d(s),C.imageGenerator.generate(n,s,o).then(function(){z(s),l++,setTimeout(S,C.limits.timeBetweenThumbs)},function(){$(t,s),setTimeout(S,C.limits.timeBetweenThumbs)});$(t,s),S()}else $(t,s),S()},U=function(e,t){var n=R(e),i=null==e?E.totalProgressBar:E.progressBar;n&&!qq(n).hasClass(i)&&(n=qq(n).getFirstByClass(i)),n&&(qq(n).css({width:t+"%"}),n.setAttribute("aria-valuenow",t))},z=function(e){e&&qq(e).removeClass(C.classes.hide)},Q=function(e,t){var n=O(e),i=O(t);c(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",e,t,t)),u[t].then(function(){l++,u[e].success(),c(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",t,e)),n.src=i.src,z(n)},function(){u[e].failure(),C.placeholders.waitUntilUpdate||$(e,n)})};qq.extend(C,e),c=C.log,qq.supportedFeatures.imagePreviews||(C.limits.timeBetweenThumbs=0,C.limits.maxThumbs=0),m=C.containerEl,v=void 0!==C.imageGenerator,f=function(){var e,t,n,i,s,o,a,r,l,u,d;if(c("Parsing template"),null==C.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(C.templateIdOrEl)){if(null===(e=document.getElementById(C.templateIdOrEl)))throw new Error(qq.format("Cannot find template script at ID '{}'!",C.templateIdOrEl));t=e.innerHTML}else{if(void 0===C.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");t=C.templateIdOrEl.innerHTML}if(t=qq.trimStr(t),(i=document.createElement("div")).appendChild(qq.toElement(t)),d=qq(i).getFirstByClass(E.uploader),C.button&&(o=qq(i).getFirstByClass(E.button))&&qq(o).remove(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(l=qq(i).getFirstByClass(E.dropProcessing))&&qq(l).remove(),(a=qq(i).getFirstByClass(E.drop))&&!qq.DragAndDrop&&(c("DnD module unavailable.","info"),qq(a).remove()),qq.supportedFeatures.fileDrop?qq(d).hasAttribute("qq-drop-area-text")&&a&&(u=qq(a).getFirstByClass(E.dropText))&&qq(u).remove():(d.removeAttribute("qq-drop-area-text"),a&&qq(a).hasAttribute("qq-hide-dropzone")&&qq(a).css({display:"none"})),r=qq(i).getFirstByClass(E.thumbnail),v?r&&(b=0<(b=parseInt(r.getAttribute("qq-max-size")))?b:null,_=qq(r).hasAttribute("qq-server-scale")):r&&qq(r).remove(),v=v&&r,h=0<qq(i).getByClass(E.editFilenameInput).length,p=0<qq(i).getByClass(E.retry).length,null==(n=qq(i).getFirstByClass(E.list)))throw new Error("Could not find the file list container in the template!");return s=n.children[0].cloneNode(!0),n.innerHTML="",i.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),c("Template parsing complete"),{template:i,fileTemplate:s}}(),t=C.placeholders.thumbnailNotAvailable,n=C.placeholders.waitingForThumbnail,i={maxSize:b,scale:_},v&&(t?C.imageGenerator.generate(t,new Image,i).then(function(e){a.success(e)},function(){a.failure(),c("Problem loading 'not available' placeholder image at "+t,"error")}):a.failure(),n?C.imageGenerator.generate(n,new Image,i).then(function(e){w.success(e)},function(){w.failure(),c("Problem loading 'waiting for thumbnail' placeholder image at "+n,"error")}):w.failure()),qq.extend(this,{render:function(){c("Rendering template in DOM."),l=0,m.appendChild(f.template.cloneNode(!0)),H(I()),this.hideTotalProgress(),g=C.fileContainerEl||B(m,E.list),c("Template rendering complete")},renderFailure:function(e){var t=qq.toElement(e);m.innerHTML="",m.appendChild(t)},reset:function(){this.render()},clearFiles:function(){g.innerHTML=""},disableCancel:function(){q=!0},addFile:function(e,t,n,i,s){var o,a,r,l,u,d=f.fileTemplate.cloneNode(!0),c=B(d,E.file),h=B(m,E.uploader),p=s?y.content:g;s&&(y.map[e]=d),qq(d).addClass("qq-file-id-"+e),h.removeAttribute("qq-drop-area-text"),c&&(qq(c).setText(t),c.setAttribute("title",t)),d.setAttribute("qq-file-id",e),n?(a=d,r=n.index,u=(l=p).firstChild,0<r&&(u=qq(l).children()[r].nextSibling),l.insertBefore(a,u)):p.appendChild(d),i?(d.style.display="none",qq(d).addClass("qq-hidden-forever")):(H(R(e)),H(M(e)),H(L(e)),H(P(e)),H(A(e)),H(k(e)),q&&this.hideCancel(e),(o=O(e))&&!o.src&&w.then(function(e){o.src=e.src,e.style.maxHeight&&e.style.maxWidth&&qq(o).css({maxHeight:e.style.maxHeight,maxWidth:e.style.maxWidth}),z(o)}))},addFileToCache:function(e,t,n,i){this.addFile(e,t,n,i,!0)},addCacheToDom:function(){g.appendChild(y.content),y.content=document.createDocumentFragment(),y.map={}},removeFile:function(e){qq(T(e)).remove()},getFileId:function(e){var t=e;if(t){for(;null==t.getAttribute("qq-file-id");)t=t.parentNode;return parseInt(t.getAttribute("qq-file-id"))}},getFileList:function(){return g},markFilenameEditable:function(e){var t=x(e);t&&qq(t).addClass(C.classes.editable)},updateFilename:function(e,t){var n=x(e);n&&(qq(n).setText(t),n.setAttribute("title",t))},hideFilename:function(e){H(x(e))},showFilename:function(e){z(x(e))},isFileName:function(e){return qq(e).hasClass(E.file)},getButton:function(){return C.button||B(m,E.button)},hideDropProcessing:function(){H(I())},showDropProcessing:function(){z(I())},getDropZone:function(){return B(m,E.drop)},isEditFilenamePossible:function(){return h},hideRetry:function(e){H(P(e))},isRetryPossible:function(){return p},showRetry:function(e){z(P(e))},getFileContainer:function(e){return T(e)},showEditIcon:function(e){var t=F(e);t&&qq(t).addClass(C.classes.editable)},isHiddenForever:function(e){return qq(T(e)).hasClass("qq-hidden-forever")},hideEditIcon:function(e){var t=F(e);t&&qq(t).removeClass(C.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(E.editNameIcon,!0)},getEditInput:function(e){return B(T(e),E.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(E.editFilenameInput,!0)},updateProgress:function(e,t,n){var i,s=R(e);s&&0<n&&(100===(i=Math.round(t/n*100))?H(s):z(s),U(e,i))},updateTotalProgress:function(e,t){this.updateProgress(null,e,t)},hideProgress:function(e){var t=R(e);t&&H(t)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(e){U(e,0),this.hideTotalProgress(e)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(e){if(!q){var t=r(e);t&&qq(t).removeClass(C.classes.hide)}},hideCancel:function(e){H(r(e))},isCancel:function(e){return qq(e).hasClass(E.cancel,!0)},allowPause:function(e){z(A(e)),H(k(e))},uploadPaused:function(e){this.setStatusText(e,C.text.paused),this.allowContinueButton(e),H(N(e))},hidePause:function(e){H(A(e))},isPause:function(e){return qq(e).hasClass(E.pause,!0)},isContinueButton:function(e){return qq(e).hasClass(E.continueButton,!0)},allowContinueButton:function(e){z(k(e)),H(A(e))},uploadContinued:function(e){this.setStatusText(e,""),this.allowPause(e),z(N(e))},showDeleteButton:function(e){z(L(e))},hideDeleteButton:function(e){H(L(e))},isDeleteButton:function(e){return qq(e).hasClass(E.deleteButton,!0)},isRetry:function(e){return qq(e).hasClass(E.retry,!0)},updateSize:function(e,t){var n=M(e);n&&(z(n),qq(n).setText(t))},setStatusText:function(e,t){var n=B(T(e),E.statusText);n&&(null==t?qq(n).clearText():qq(n).setText(t))},hideSpinner:function(e){qq(T(e)).removeClass("qq-in-progress"),H(N(e))},showSpinner:function(e){qq(T(e)).addClass("qq-in-progress"),z(N(e))},generatePreview:function(e,t,n){this.isHiddenForever(e)||(o.push({id:e,customResizeFunction:n,optFileOrBlob:t}),!s&&S())},updateThumbnail:function(e,t,n,i){this.isHiddenForever(e)||(o.push({customResizeFunction:i,update:!0,id:e,thumbnailUrl:t,showWaitingImg:n}),!s&&S())},hasDialog:function(e){return qq.supportedFeatures.dialogElement&&!!D(e)},showDialog:function(e,t,n){var i=D(e),s=B(i,E.dialogMessage),o=i.getElementsByTagName("INPUT")[0],a=B(i,E.dialogCancelButton),r=B(i,E.dialogOkButton),l=new qq.Promise,u=function(){a.removeEventListener("click",d),r&&r.removeEventListener("click",c),l.failure()},d=function(){a.removeEventListener("click",d),i.close()},c=function(){i.removeEventListener("close",u),r.removeEventListener("click",c),i.close(),l.success(o&&o.value)};return i.addEventListener("close",u),a.addEventListener("click",d),r&&r.addEventListener("click",c),o&&(o.value=n),s.textContent=t,i.showModal(),l}})},qq.UiEventHandler=function(e,t){"use strict";function n(e){i.attach(e,s.eventType,function(e){var t=(e=e||window.event).target||e.srcElement;s.onHandled(t,e)})}var i=new qq.DisposeSupport,s={eventType:"click",attachTo:null,onHandled:function(e,t){}};qq.extend(this,{addHandler:function(e){n(e)},dispose:function(){i.dispose()}}),qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return i}}),qq.extend(s,e),s.attachTo&&n(s.attachTo)},qq.FileButtonsClickHandler=function(e){"use strict";var a={templating:null,log:function(e,t){},onDeleteFile:function(e){},onCancel:function(e){},onRetry:function(e){},onPause:function(e){},onContinue:function(e){},onGetName:function(e){}},t={cancel:function(e){a.onCancel(e)},retry:function(e){a.onRetry(e)},deleteButton:function(e){a.onDeleteFile(e)},pause:function(e){a.onPause(e)},continueButton:function(e){a.onContinue(e)}};qq.extend(a,e),a.eventType="click",a.onHandled=function(s,o){qq.each(t,function(e,t){var n,i=e.charAt(0).toUpperCase()+e.slice(1);if(a.templating["is"+i](s))return n=a.templating.getFileId(s),qq.preventDefault(o),a.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",a.onGetName(n),n)),t(n),!1})},a.attachTo=a.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(a,{}))},qq.FilenameClickHandler=function(e){"use strict";var i={},s={templating:null,log:function(e,t){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(e){},onGetName:function(e){}};qq.extend(s,e),s.eventType="click",s.onHandled=function(e,t){if(s.templating.isFileName(e)||s.templating.isEditIcon(e)){var n=s.templating.getFileId(e);s.onGetUploadStatus(n)===qq.status.SUBMITTED&&(s.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",s.onGetName(n),n)),qq.preventDefault(t),i.handleFilenameEdit(n,e,!0))}},qq.extend(this,new qq.FilenameEditHandler(s,i))},qq.FilenameInputFocusInHandler=function(e,i){"use strict";var s={templating:null,onGetUploadStatus:function(e){},log:function(e,t){}};i||(i={}),s.eventType="focusin",s.onHandled=function(e,t){if(s.templating.isEditInput(e)){var n=s.templating.getFileId(e);s.onGetUploadStatus(n)===qq.status.SUBMITTED&&(s.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",s.onGetName(n),n)),i.handleFilenameEdit(n,e))}},qq.extend(s,e),qq.extend(this,new qq.FilenameEditHandler(s,i))},qq.FilenameInputFocusHandler=function(e){"use strict";e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))},qq.FilenameEditHandler=function(e,c){"use strict";function h(e,t){var n,i,s,o=e.value;void 0!==o&&0<qq.trimStr(o).length&&(i=t,s=p.onGetName(i),void 0!==(n=qq.getExtension(s))&&(o=o+"."+n),p.onSetName(t,o)),p.onEditingStatusChange(t,!1)}var p={templating:null,log:function(e,t){},onGetUploadStatus:function(e){},onGetName:function(e){},onSetName:function(e,t){},onEditingStatusChange:function(e,t){}};qq.extend(p,e),p.attachTo=p.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(p,c)),qq.extend(c,{handleFilenameEdit:function(e,t,n){var i,s,o,a,r,l,u,d=p.templating.getEditInput(e);p.onEditingStatusChange(e,!0),d.value=(r=e,l=p.onGetName(r),0<(u=l.lastIndexOf("."))&&(l=l.substr(0,u)),l),n&&d.focus(),o=d,a=e,c.getDisposeSupport().attach(o,"blur",function(){h(o,a)}),i=d,s=e,c.getDisposeSupport().attach(i,"keyup",function(e){13===(e.keyCode||e.which)&&h(i,s)})}})}}(window);var _get=function e(t,n,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,n);if(void 0===s){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in s)return s.value;var a=s.get;return void 0!==a?a.call(i):void 0},_createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();window.cash=function(){function o(e,t){return t=t||E,x.test(e)?t.getElementsByClassName(e.slice(1)):R.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e)}function a(e){if(!C){var t=(C=E.implementation.createHTMLDocument(null)).createElement("base");t.href=E.location.href,C.head.appendChild(t)}return C.body.innerHTML=e,C.body.childNodes}function u(e){"loading"!==E.readyState?e():E.addEventListener("DOMContentLoaded",e)}function n(e,t){if(!e)return this;if(e.cash&&e!==w)return e;var n,i=e,s=0;if(F(e))i=T.test(e)?E.getElementById(e.slice(1)):A.test(e)?a(e):o(e,t);else if(I(e))return u(e),this;if(!i)return this;if(i.nodeType||i===w)this[0]=i,this.length=1;else for(n=this.length=i.length;s<n;s++)this[s]=i[s];return this}function r(e,t){return new n(e,t)}function l(e,t){for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);}function s(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function e(t){return F(t)?s:t.cash?function(e){return t.is(e)}:function(e,t){return e===t}}function d(e){return r(S.call(e).filter(function(e,t,n){return n.indexOf(e)===t}))}function c(e){return e[M]=e[M]||{}}function h(e,t,n){return c(e)[t]=n}function p(e,t){var n=c(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:r(e).attr("data-"+t)),n[t]}function f(e){return F(e)&&e.match(N)}function m(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function g(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function v(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function i(e,t){return parseInt(w.getComputedStyle(e[0],null)[t],10)||0}function _(t,n,e){var i,s=p(t,"_cashEvents"),o=s&&s[n];o&&(e?(t.removeEventListener(n,e),0<=(i=o.indexOf(e))&&o.splice(i,1)):(l(o,function(e){t.removeEventListener(n,e)}),o=[]))}function y(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function q(e){var t,n,i,s=e.type;if(!s)return null;switch(s.toLowerCase()){case"select-one":return 0<=(i=(n=e).selectedIndex)?n.options[i].value:null;case"select-multiple":return t=[],l(e.options,function(e){e.selected&&t.push(e.value)}),t.length?t:null;case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function b(t,n,i){var e=F(n);e||!n.length?l(t,e?function(e){return e.insertAdjacentHTML(i?"afterbegin":"beforeend",n)}:function(e,t){return function(e,t,n){if(n){var i=e.childNodes[0];e.insertBefore(t,i)}else e.appendChild(t)}(e,0===t?n:n.cloneNode(!0),i)}):l(n,function(e){return b(t,e,i)})}var C,E=document,w=window,t=Array.prototype,S=t.slice,k=t.filter,D=t.push,L=function(){},I=function(e){return typeof e==typeof L&&e.call},F=function(e){return"string"==typeof e},T=/^#[\w-]*$/,x=/^\.[\w-]*$/,A=/<.+>/,R=/^\w+$/,P=r.fn=r.prototype=n.prototype={cash:!0,length:0,push:D,splice:t.splice,map:t.map,init:n};Object.defineProperty(P,"constructor",{value:r}),r.parseHTML=a,r.noop=L,r.isFunction=I,r.isString=F,r.extend=P.extend=function(e){e=e||{};var t=S.call(arguments),n=t.length,i=1;for(1===t.length&&(e=this,i=0);i<n;i++)if(t[i])for(var s in t[i])t[i].hasOwnProperty(s)&&(e[s]=t[i][s]);return e},r.extend({merge:function(e,t){for(var n=+t.length,i=e.length,s=0;s<n;i++,s++)e[i]=t[s];return e.length=i,e},each:l,matches:s,unique:d,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var M=r.uid="_cash"+Date.now();P.extend({data:function(t,n){if(F(t))return void 0===n?p(this[0],t):this.each(function(e){return h(e,t,n)});for(var e in t)this.data(e,t[e]);return this},removeData:function(s){return this.each(function(e){return n=s,void((i=c(t=e))?delete i[n]:t.dataset?delete t.dataset[n]:r(t).removeAttr("data-"+name));var t,n,i})}});var N=/\S+/g;P.extend({addClass:function(e){var i=f(e);return i?this.each(function(t){var n=" "+t.className+" ";l(i,function(e){g(t,e,n)})}):this},attr:function(t,n){if(t){if(F(t))return void 0===n?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each(function(e){e.setAttribute?e.setAttribute(t,n):e[t]=n});for(var e in t)this.attr(e,t[e]);return this}},hasClass:function(e){var t=!1,n=f(e);return n&&n.length&&this.each(function(e){return!(t=m(e,n[0]))}),t},prop:function(t,n){if(F(t))return void 0===n?this[0][t]:this.each(function(e){e[t]=n});for(var e in t)this.prop(e,t[e]);return this},removeAttr:function(t){return this.each(function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]})},removeClass:function(e){if(!arguments.length)return this.attr("class","");var n=f(e);return n?this.each(function(t){l(n,function(e){v(t,e)})}):this},removeProp:function(t){return this.each(function(e){delete e[t]})},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var i=f(e);return i?this.each(function(t){var n=" "+t.className+" ";l(i,function(e){m(t,e)?v(t,e):g(t,e,n)})}):this}}),P.extend({add:function(e,t){return d(r.merge(this,r(e,t)))},each:function(e){return l(this,e),this},eq:function(e){return r(this.get(e))},filter:function(t){if(!t)return this;var n=I(t)?t:e(t);return r(k.call(this,function(e){return n(e,t)}))},first:function(){return this.eq(0)},get:function(e){return void 0===e?S.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?r(e)[0]:this[0],n=e?this:r(t).parent().children();return S.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var B,O,H,K,$=(H=/(?:^\w|[A-Z]|\b\w)/g,K=/[\s-_]+/g,function(e){return e.replace(H,function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()}).replace(K,"")}),V=(B={},O=document.createElement("div").style,function(t){if(t=$(t),B[t])return B[t];var e=t.charAt(0).toUpperCase()+t.slice(1);return l((t+" "+["webkit","moz","ms","o"].join(e+" ")+e).split(" "),function(e){if(e in O)return B[e]=t=B[t]=e,!1}),B[t]});r.prefixedProp=V,r.camelCase=$,P.extend({css:function(t,n){if(F(t))return t=V(t),1<arguments.length?this.each(function(e){return e.style[t]=n}):w.getComputedStyle(this[0])[t];for(var e in t)this.css(e,t[e]);return this}}),l(["Width","Height"],function(t){var e=t.toLowerCase();P[e]=function(){return this[0].getBoundingClientRect()[e]},P["inner"+t]=function(){return this[0]["client"+t]},P["outer"+t]=function(e){return this[0]["offset"+t]+(e?i(this,"margin"+("Width"===t?"Left":"Top"))+i(this,"margin"+("Width"===t?"Right":"Bottom")):0)}}),P.extend({off:function(t,n){return this.each(function(e){return _(e,t,n)})},on:function(a,n,r,l){var i;if(!F(a)){for(var e in a)this.on(e,n,a[e]);return this}return I(n)&&(r=n,n=null),"ready"===a?(u(r),this):(n&&(i=r,r=function(e){for(var t=e.target;!s(t,n);){if(t===this||null===t)return t=!1;t=t.parentNode}t&&i.call(t,e)}),this.each(function(e){var t,n,i,s,o=r;l&&(o=function(){r.apply(this,arguments),_(e,a,o)}),n=a,i=o,(s=p(t=e,"_cashEvents")||h(t,"_cashEvents",{}))[n]=s[n]||[],s[n].push(i),t.addEventListener(n,i)}))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:u,trigger:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!1),n=this.extend(n,t),this.each(function(e){return e.dispatchEvent(n)})}}}),P.extend({serialize:function(){var s="";return l(this[0].elements||this,function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var t=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var n=q(e);null!==n&&l(n,function(e){s+=y(t,e)});break;default:var i=q(e);null!==i&&(s+=y(t,i))}}}),s.substr(1)},val:function(t){return void 0===t?q(this[0]):this.each(function(e){return e.value=t})}}),P.extend({after:function(e){return r(e).insertAfter(this),this},append:function(e){return b(this,e),this},appendTo:function(e){return b(r(e),this),this},before:function(e){return r(e).insertBefore(this),this},clone:function(){return r(this.map(function(e){return e.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each(function(e){return e.innerHTML=t})},insertAfter:function(e){var s=this;return r(e).each(function(e,t){var n=e.parentNode,i=e.nextSibling;s.each(function(e){n.insertBefore(0===t?e:e.cloneNode(!0),i)})}),this},insertBefore:function(e){var s=this;return r(e).each(function(t,n){var i=t.parentNode;s.each(function(e){i.insertBefore(0===n?e:e.cloneNode(!0),t)})}),this},prepend:function(e){return b(this,e,!0),this},prependTo:function(e){return b(r(e),this,!0),this},remove:function(){return this.each(function(e){if(e.parentNode)return e.parentNode.removeChild(e)})},text:function(t){return void 0===t?this[0].textContent:this.each(function(e){return e.textContent=t})}});var G=E.documentElement;return P.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+w.pageYOffset-G.clientTop,left:e.left+w.pageXOffset-G.clientLeft}},offsetParent:function(){return r(this[0].offsetParent)}}),P.extend({children:function(t){var n=[];return this.each(function(e){D.apply(n,e.children)}),n=d(n),t?n.filter(function(e){return s(e,t)}):n},closest:function(e){return!e||this.length<1?r():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(t){if(!t)return!1;var n=!1,i=e(t);return this.each(function(e){return!(n=i(e,t))}),n},find:function(t){if(!t||t.nodeType)return r(t&&this.has(t).length?t:null);var n=[];return this.each(function(e){D.apply(n,o(t,e))}),d(n)},has:function(t){var e=F(t)?function(e){return 0!==o(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return r(this[0].nextElementSibling)},not:function(t){if(!t)return this;var n=e(t);return this.filter(function(e){return!n(e,t)})},parent:function(){var t=[];return this.each(function(e){e&&e.parentNode&&t.push(e.parentNode)}),d(t)},parents:function(t){var n,i=[];return this.each(function(e){for(n=e;n&&n.parentNode&&n!==E.body.parentNode;)n=n.parentNode,(!t||t&&s(n,t))&&i.push(n)}),d(i)},prev:function(){return r(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),n=this[0];return t.filter(function(e){return e!==n})}}),r}();var Component=function(){function s(e,t,n){_classCallCheck(this,s),t instanceof Element||console.error(Error(t+" is not an HTML Element"));var i=e.getInstance(t);i&&i.destroy(),this.el=t,this.$el=cash(t)}return _createClass(s,null,[{key:"init",value:function(e,t,n){var i=null;if(t instanceof Element)i=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var s=[],o=0;o<t.length;o++)s.push(new e(t[o],n));i=s}return i}}]),s}();!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),"function"==typeof define&&define.amd?define("M",[],function(){return M}):"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=M),exports.default=M),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1;var docHandleKeydown=function(e){e.which===M.keys.TAB&&(M.tabPressed=!0)},docHandleKeyup=function(e){e.which===M.keys.TAB&&(M.tabPressed=!1)};document.addEventListener("keydown",docHandleKeydown),document.addEventListener("keyup",docHandleKeyup),M.initializeJqueryWrapper=function(i,s,o){jQuery.fn[s]=function(t){if(i.prototype[t]){var n=Array.prototype.slice.call(arguments,1);if("get"===t.slice(0,3)){var e=this.first()[0][o];return e[t].apply(e,n)}return this.each(function(){var e=this[o];e[t].apply(e,n)})}if("object"==typeof t||!t)return i.init(this,t),this;jQuery.error("Method "+t+" does not exist on jQuery."+s)}},M.AutoInit=function(e){var t=e||document.body,n={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n)M[i].init(n[i])},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),n=!1;return t.add(t.parents()).each(function(){if("fixed"===$(this).css("position"))return n=!0,!1}),n},M.checkWithinContainer=function(e,t,n){var i={top:!1,right:!1,bottom:!1,left:!1},s=e.getBoundingClientRect(),o=e.scrollLeft,a=e.scrollTop,r=t.left-o,l=t.top-a;return(r<s.left+n||r<n)&&(i.left=!0),(r+t.width>s.right-n||r+t.width>window.innerWidth-n)&&(i.right=!0),(l<s.top+n||l<n)&&(i.top=!0),(l+t.height>s.bottom-n||l+t.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(e,t,n,i){var s={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(t).overflow,a=t.getBoundingClientRect(),r=Math.min(a.height,window.innerHeight),l=Math.min(a.width,window.innerWidth),u=e.getBoundingClientRect(),d=t.scrollLeft,c=t.scrollTop,h=n.left-d,p=n.top-c,f=n.top+u.height-c;return s.spaceOnRight=o?window.innerWidth-(u.left+n.width):l-(h+n.width),s.spaceOnRight<0&&(s.left=!1),s.spaceOnLeft=o?u.right-n.width:h-n.width+u.width,s.spaceOnLeft<0&&(s.right=!1),s.spaceOnBottom=o?window.innerHeight-(u.top+n.height+i):r-(p+n.height+i),s.spaceOnBottom<0&&(s.top=!1),s.spaceOnTop=o?u.bottom-(n.height+i):f-(n.height-i),s.spaceOnTop<0&&(s.bottom=!1),s},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=(t=e.getAttribute("href"))?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var getTime=Date.now||function(){return(new Date).getTime()};M.throttle=function(n,i,s){var o=void 0,a=void 0,r=void 0,l=null,u=0;s||(s={});var d=function(){u=!1===s.leading?0:getTime(),l=null,r=n.apply(o,a),o=a=null};return function(){var e=getTime();u||!1!==s.leading||(u=e);var t=i-(e-u);return o=this,a=arguments,t<=0?(clearTimeout(l),l=null,u=e,r=n.apply(o,a),o=a=null):l||!1===s.trailing||(l=setTimeout(d,t)),r}};var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,n){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var i=0,s={next:function(){if(i<t.length){var e=i++;return{value:n(e,t[e]),done:!1}}return s.next=function(){return{done:!0,value:void 0}},s.next()}};return s[Symbol.iterator]=function(){return s},s},$jscomp.polyfill=function(e,t,n,i){if(t){for(n=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var s=e[i];s in n||(n[s]={}),n=n[s]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6-impl","es3");var $jscomp$this=this,NS;M.anime=function(){function s(e){if(!T.col(e))try{return document.querySelectorAll(e)}catch(e){}}function b(e,t){for(var n=e.length,i=2<=arguments.length?t:void 0,s=[],o=0;o<n;o++)if(o in e){var a=e[o];t.call(i,a,o,e)&&s.push(a)}return s}function d(e){return e.reduce(function(e,t){return e.concat(T.arr(t)?d(t):t)},[])}function o(e){return T.arr(e)?e:(T.str(e)&&(e=s(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function a(e,t){return e.some(function(e){return e===t})}function r(e){var t,n={};for(t in e)n[t]=e[t];return n}function c(e,t){var n,i=r(e);for(n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function h(e,t){var n,i=r(e);for(n in t)i[n]=T.und(e[n])?t[n]:e[n];return i}function l(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function u(e,t){return T.fnc(e)?e(t.target,t.id,t.total):e}function C(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function p(e,t){return T.dom(e)&&a(F,t)?"transform":T.dom(e)&&(e.getAttribute(t)||T.svg(e)&&e[t])?"attribute":T.dom(e)&&"transform"!==t&&C(e,t)?"css":null!=e[t]?"object":void 0}function f(e,t){switch(p(e,t)){case"transform":return function(e,n){var t,i=-1<(t=n).indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0,i=-1<n.indexOf("scale")?1:0+i;if(!(e=e.style.transform))return i;for(var s=[],o=[],a=[],r=/(\w+)\((.+?)\)/g;s=r.exec(e);)o.push(s[1]),a.push(s[2]);return(e=b(a,function(e,t){return o[t]===n})).length?e[0]:i}(e,t);case"css":return C(e,t);case"attribute":return e.getAttribute(t)}return e[t]||0}function m(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=l(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+i;case"-":return t-e+i;case"*":return t*e+i}}function g(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function n(e){e=e.points;for(var t,n=0,i=0;i<e.numberOfItems;i++){var s=e.getItem(i);0<i&&(n+=g(t,s)),t=s}return n}function v(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return g({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return n(e);case"polygon":var t=e.points;return n(e)+g(t.getItem(t.numberOfItems-1),t.getItem(0))}}function E(t,n){function e(e){return e=void 0===e?0:e,t.el.getPointAtLength(1<=n+e?n+e:0)}var i=e(),s=e(-1),o=e(1);switch(t.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI}}function _(e,t){var n,i=/-?\d*\.?\d+/g;if(n=T.pth(e)?e.totalLength:e,T.col(n))if(T.rgb(n)){var s=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=s?"rgba("+s[1]+",1)":n}else n=T.hex(n)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+(e=parseInt(t[1],16))+","+parseInt(t[2],16)+","+(t=parseInt(t[3],16))+",1)"}(n):T.hsl(n)?function(e){function t(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}s=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),e=parseInt(s[1])/360;var n=parseInt(s[2])/100,i=parseInt(s[3])/100,s=s[4]||1;if(0==n)i=n=e=i;else{var o=i<.5?i*(1+n):i+n-i*n,a=2*i-o,i=t(a,o,e+1/3),n=t(a,o,e);e=t(a,o,e-1/3)}return"rgba("+255*i+","+255*n+","+255*e+","+s+")"}(n):void 0;else s=(s=l(n))?n.substr(0,n.length-s.length):n,n=t&&!/\s/g.test(n)?s+t:s;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:T.str(e)||t?n.split(i):[]}}function y(e){return b(e=e?d(T.arr(e)?e.map(o):o(e)):[],function(e,t,n){return n.indexOf(e)===t})}function q(e,n){var t=r(n);if(T.arr(e)){var i=e.length;2!==i||T.obj(e[0])?T.fnc(n.duration)||(t.duration=n.duration/i):e={value:e}}return o(e).map(function(e,t){return t=t?0:n.delay,e=T.obj(e)&&!T.pth(e)?e:{value:e},T.und(e.delay)&&(e.delay=t),e}).map(function(e){return h(e,t)})}function w(o,a){var r;return o.tweens.map(function(e){var t=(e=function(e,t){var n,i={};for(n in e){var s=u(e[n],t);T.arr(s)&&1===(s=s.map(function(e){return u(e,t)})).length&&(s=s[0]),i[n]=s}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(e,a)).value,n=f(a.target,o.name),i=r?r.to.original:n,i=T.arr(t)?t[0]:i,s=m(T.arr(t)?t[1]:t,i),n=l(s)||l(i)||l(n);return e.from=_(i,n),e.to=_(s,n),e.start=r?r.end:o.offset,e.end=e.start+e.delay+e.duration,e.easing=function(e){return T.arr(e)?x.apply(this,e):A[e]}(e.easing),e.elasticity=(1e3-Math.min(Math.max(e.elasticity,1),999))/1e3,e.isPath=T.pth(t),e.isColor=T.col(e.from.original),e.isColor&&(e.round=1),r=e})}function S(t,e,n,i){var s="delay"===t;return e.length?(s?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):s?i.delay:n.offset+i.delay+i.duration}function i(e){var t,n,i,s,o=c(L,e),a=c(I,e),r=(n=e.targets,(i=y(n)).map(function(e,t){return{target:e,id:t,total:i.length}})),l=[],u=h(o,a);for(t in e)u.hasOwnProperty(t)||"targets"===t||l.push({name:t,offset:u.offset,tweens:q(e[t],a)});return s=l,e=b(d(r.map(function(i){return s.map(function(e){var t=p(i.target,e.name);if(t){var n=w(e,i);e={type:t,property:e.name,animatable:i,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else e=void 0;return e})})),function(e){return!T.und(e)}),h(o,{children:[],animatables:r,animations:e,duration:S("duration",e,o,a),delay:S("delay",e,o,a)})}function k(e){function d(){return window.Promise&&new Promise(function(e){return _=e})}function c(e){return q.reversed?q.duration-e:e}function h(t){for(var e=0,n={},i=q.animations,s=i.length;e<s;){var o=i[e],a=o.animatable,r=(l=o.tweens)[c=l.length-1];c&&(r=b(l,function(e){return t<e.end})[0]||r);for(var l=Math.min(Math.max(t-r.start-r.delay,0),r.duration)/r.duration,u=isNaN(l)?1:r.easing(l,r.elasticity),l=r.to.strings,d=r.round,c=[],h=void 0,h=r.to.numbers.length,p=0;p<h;p++){var f=void 0,f=r.to.numbers[p],m=r.from.numbers[p],f=r.isPath?E(r.value,u*f):m+u*(f-m);d&&(r.isColor&&2<p||(f=Math.round(f*d)/d)),c.push(f)}if(r=l.length)for(h=l[0],u=0;u<r;u++)d=l[u+1],p=c[u],isNaN(p)||(h=d?h+(p+d):h+(p+" "));else h=c[0];R[o.type](a.target,o.property,h,n,a.id),o.currentValue=h,e++}if(e=Object.keys(n).length)for(i=0;i<e;i++)D||(D=C(document.body,"transform")?"transform":"-webkit-transform"),q.animatables[i].target.style[D]=n[i].join(" ");q.currentTime=t,q.progress=t/q.duration*100}function p(e){q[e]&&q[e](q)}function f(){q.remaining&&!0!==q.remaining&&q.remaining--}function t(e){var t=q.duration,n=q.offset,i=n+q.delay,s=q.currentTime,o=q.reversed,a=c(e);if(q.children.length){var r=q.children,l=r.length;if(a>=q.currentTime)for(var u=0;u<l;u++)r[u].seek(a);else for(;l--;)r[l].seek(a)}(i<=a||!t)&&(q.began||(q.began=!0,p("begin")),p("run")),n<a&&a<t?h(a):(a<=n&&0!==s&&(h(0),o&&f()),(t<=a&&s!==t||!t)&&(h(t),o||f())),p("update"),t<=e&&(q.remaining?(g=m,"alternate"===q.direction&&(q.reversed=!q.reversed)):(q.pause(),q.completed||(q.completed=!0,p("complete"),"Promise"in window&&(_(),y=d()))),v=0)}e=void 0===e?{}:e;var m,g,v=0,_=null,y=d(),q=i(e);return q.reset=function(){var e=q.direction,t=q.loop;for(q.currentTime=0,q.progress=0,q.paused=!0,q.began=!1,q.completed=!1,q.reversed="reverse"===e,q.remaining="alternate"===e&&1===t?2:t,h(0),e=q.children.length;e--;)q.children[e].reset()},q.tick=function(e){m=e,g||(g=m),t((v+m-g)*k.speed)},q.seek=function(e){t(c(e))},q.pause=function(){var e=P.indexOf(q);-1<e&&P.splice(e,1),q.paused=!0},q.play=function(){q.paused&&(q.paused=!1,g=0,v=c(q.currentTime),P.push(q),M||N())},q.reverse=function(){q.reversed=!q.reversed,g=0,v=c(q.currentTime)},q.restart=function(){q.pause(),q.reset(),q.play()},q.finished=y,q.reset(),q.autoplay&&q.play(),q}var D,L={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},I={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},F="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),T={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return T.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||T.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return T.hex(e)||T.rgb(e)||T.hsl(e)}},x=function(){function c(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(a,r,l,u){if(0<=a&&a<=1&&0<=l&&l<=1){var d=new Float32Array(11);if(a!==r||l!==u)for(var e=0;e<11;++e)d[e]=c(.1*e,a,l);return function(e){if(a===r&&l===u)return e;if(0===e)return 0;if(1===e)return 1;for(var t=0,n=1;10!==n&&d[n]<=e;++n)t+=.1;var n=t+(e-d[--n])/(d[n+1]-d[n])*.1,i=3*(1-3*l+3*a)*n*n+2*(3*l-6*a)*n+3*a;if(.001<=i){for(t=0;t<4&&0!=(i=3*(1-3*l+3*a)*n*n+2*(3*l-6*a)*n+3*a);++t)var s=c(n,a,l)-e,n=n-s/i;e=n}else if(0===i)e=n;else{for(var n=t,t=t+.1,o=0;0<(i=c(s=n+(t-n)/2,a,l)-e)?t=s:n=s,1e-7<Math.abs(i)&&++o<10;);e=s}return c(e,r,u)}}}}(),A=function(){function n(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var e,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],n],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return 1-n(1-e,t)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return e<.5?n(2*e,t)/2:1-n(-2*e+2,t)/2}]},s={linear:x(.25,.25,.75,.75)},o={};for(e in t)o.type=e,t[o.type].forEach(function(n){return function(e,t){s["ease"+n.type+i[t]]=T.fnc(e)?e:x.apply($jscomp$this,e)}}(o)),o={type:o.type};return s}(),R={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,s){i[s]||(i[s]=[]),i[s].push(t+"("+n+")")}},P=[],M=0,N=function(){function i(){M=requestAnimationFrame(e)}function e(e){var t=P.length;if(t){for(var n=0;n<t;)P[n]&&P[n].tick(e),n++;i()}else cancelAnimationFrame(M),M=0}return i}();return k.version="2.2.0",k.speed=1,k.running=P,k.remove=function(e){e=y(e);for(var t=P.length;t--;)for(var n=P[t],i=n.animations,s=i.length;s--;)a(e,i[s].animatable.target)&&(i.splice(s,1),i.length||n.pause())},k.getValue=f,k.path=function(e,t){var n=T.str(e)?s(e)[0]:e,i=t||100;return function(e){return{el:n,property:e,totalLength:v(n)*(i/100)}}},k.setDashoffset=function(e){var t=v(e);return e.setAttribute("stroke-dasharray",t),t},k.bezier=x,k.easings=A,k.timeline=function(i){var s=k(i);return s.pause(),s.duration=0,s.add=function(e){return s.children.forEach(function(e){e.began=!0,e.completed=!0}),o(e).forEach(function(e){var t=h(e,c(I,i||{}));t.targets=t.targets||i.targets,e=s.duration;var n=t.offset;t.autoplay=!1,t.direction=s.direction,t.offset=T.und(n)?e:m(n,e),s.began=!0,s.completed=!0,s.seek(t.offset),(t=k(t)).began=!0,t.completed=!0,t.duration>e&&(s.duration=t.duration),s.children.push(t)}),s.seek(0),s.reset(),s.autoplay&&s.restart(),s},s},k.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},k}(),function(r,l){"use strict";var t={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},e=function(e){function s(e,t){_classCallCheck(this,s);var n=_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,s,e,t));(n.el.M_Collapsible=n).options=r.extend({},s.defaults,t),n.$headers=n.$el.children("li").children(".collapsible-header"),n.$headers.attr("tabindex",0),n._setupEventHandlers();var i=n.$el.children("li.active").children(".collapsible-body");return n.options.accordion?i.first().css("display","block"):i.css("display","block"),n}return _inherits(s,Component),_createClass(s,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleCollapsibleClickBound)}},{key:"_handleCollapsibleClick",value:function(e){var t=r(e.target).closest(".collapsible-header");if(e.target&&t.length){var n=t.closest(".collapsible");if(n[0]===this.el){var i=t.closest("li"),s=n.children("li"),o=i[0].classList.contains("active"),a=s.index(i);o?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var t=this,n=this.$el.children("li").eq(e);if(n.length){var i=n.children(".collapsible-body");l.remove(i[0]),i.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var s=i.css("padding-top"),o=i.css("padding-bottom"),a=i[0].scrollHeight;i.css({paddingTop:0,paddingBottom:0}),l({targets:i[0],height:a,paddingTop:s,paddingBottom:o,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){i.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,n[0])}})}}},{key:"_animateOut",value:function(e){var t=this,n=this.$el.children("li").eq(e);if(n.length){var i=n.children(".collapsible-body");l.remove(i[0]),i.css("overflow","hidden"),l({targets:i[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){i.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,n[0])}})}}},{key:"open",value:function(e){var n=this,t=this.$el.children("li").eq(e);if(t.length&&!t[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,t[0]),this.options.accordion){var i=this.$el.children("li");this.$el.children("li.active").each(function(e){var t=i.index(r(e));n.close(t)})}t[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return _get(s.__proto__||Object.getPrototypeOf(s),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Collapsible}},{key:"defaults",get:function(){return t}}]),s}();M.Collapsible=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"collapsible","M_Collapsible")}(cash,M.anime),function(u,s){"use strict";var t={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return n.el.M_Dropdown=n,i._dropdowns.push(n),n.id=M.getIdFromTrigger(e),n.dropdownEl=document.getElementById(n.id),n.$dropdownEl=u(n.dropdownEl),n.options=u.extend({},i.defaults,t),n.isOpen=!1,n.isScrollable=!1,n.isTouchMoving=!1,n.focusedIndex=-1,n.filterQuery=[],n.options.container?u(n.options.container).append(n.dropdownEl):n.$el.after(n.dropdownEl),n._makeDropdownFocusable(),n._resetFilterQueryBound=n._resetFilterQuery.bind(n),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),n._handleDocumentTouchmoveBound=n._handleDocumentTouchmove.bind(n),n._handleDropdownKeydownBound=n._handleDropdownKeydown.bind(n),n._handleTriggerKeydownBound=n._handleTriggerKeydown.bind(n),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),i._dropdowns.splice(i._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.options.hover?(this.el.removeEventHandlers("mouseenter",this._handleMouseEnterBound),this.el.removeEventHandlers("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventHandlers("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var t=e.toElement||e.relatedTarget,n=!!u(t).closest(".dropdown-content").length,i=!1,s=u(t).closest(".dropdown-trigger");s.length&&s[0].M_Dropdown&&s[0].M_Dropdown.isOpen&&(i=!0),i||n||this.close()}},{key:"_handleDocumentClick",value:function(e){var t=this,n=u(e.target);this.options.closeOnClick&&n.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){t.close()},0):!n.closest(".dropdown-trigger").length&&n.closest(".dropdown-content").length||setTimeout(function(){t.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){u(e.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var t=this.dropdownEl.children[this.focusedIndex],n=u(t).find("a, button").first();n.length?n[0].click():t.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var i=e.which===M.keys.ARROW_DOWN?1:-1,s=this.focusedIndex,o=!1;do{if(s+=i,this.dropdownEl.children[s]&&-1!==this.dropdownEl.children[s].tabIndex){o=!0;break}}while(s<this.dropdownEl.children.length&&0<=s);o&&(this.focusedIndex=s,this._focusFocusedItem())}var a=String.fromCharCode(e.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(a);var r=this.filterQuery.join(""),l=u(this.dropdownEl).find("li").filter(function(e){return 0===u(e).text().toLowerCase().indexOf(r)})[0];l&&(this.focusedIndex=u(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,u(this.dropdownEl).children().each(function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){0<=this.focusedIndex&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),n=t.height,i=t.width,s=e.left-t.left,o=e.top-t.top,a={left:s,top:o,height:n,width:i},r=this.dropdownEl.offsetParent,l=M.checkPossibleAlignments(this.el,r,a,this.options.coverTrigger?0:e.height),u="top",d=this.options.alignment;if(o+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,l.top||(l.bottom?u="bottom":(this.isScrollable=!0,l.spaceOnTop>l.spaceOnBottom?(u="bottom",n+=l.spaceOnTop,o-=l.spaceOnTop):n+=l.spaceOnBottom)),!l[d]){var c="left"===d?"right":"left";l[c]?d=c:l.spaceOnLeft>l.spaceOnRight?(d="right",i+=l.spaceOnLeft,s-=l.spaceOnLeft):(d="left",i+=l.spaceOnRight)}return"bottom"===u&&(o=o-t.height+(this.options.coverTrigger?e.height:0)),"right"===d&&(s=s-t.width+e.width),{x:s,y:o,verticalAlignment:u,horizontalAlignment:d,height:n,width:i}}},{key:"_animateIn",value:function(){var n=this;s.remove(this.dropdownEl),s({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){if(n.options.autoFocus&&n.dropdownEl.focus(),"function"==typeof n.options.onOpenEnd){var t=e.animatables[0].target;n.options.onOpenEnd.call(t,n.el)}}})}},{key:"_animateOut",value:function(){var t=this;s.remove(this.dropdownEl),s({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd&&(e.animatables[0].target,t.options.onCloseEnd.call(t,t.el))}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Dropdown}},{key:"defaults",get:function(){return t}}]),i}();e._dropdowns=[],window.M.Dropdown=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"dropdown","M_Dropdown")}(cash,M.anime),function(s,n){"use strict";var t={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Modal=n).options=s.extend({},i.defaults,t),n.isOpen=!1,n.id=n.$el.attr("id"),n._openingTrigger=void 0,n.$overlay=s('<div class="modal-overlay"></div>'),n.el.tabIndex=0,i._count++,n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){i._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===i._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===i._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var t=s(e.target).closest(".modal-trigger");if(t.length){var n=M.getIdFromTrigger(t[0]),i=document.getElementById(n).M_Modal;i&&i.open(t),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){s(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this.el.focus()}},{key:"_animateIn",value:function(){var e=this;s.extend(this.el.style,{display:"block",opacity:0}),s.extend(this.$overlay[0].style,{display:"block",opacity:0}),n({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var t={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el,e._openingTrigger)}};this.el.classList.contains("bottom-sheet")?s.extend(t,{bottom:0,opacity:1}):s.extend(t,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),n(t)}},{key:"_animateOut",value:function(){var e=this;n({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var t={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){e.el.style.display="none",e.$overlay.remove(),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};this.el.classList.contains("bottom-sheet")?s.extend(t,{bottom:"-100%",opacity:0}):s.extend(t,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),n(t)}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,i._modalsOpen++,this.$overlay[0].style.zIndex=1e3+2*i._modalsOpen,this.el.style.zIndex=1e3+2*i._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),n.remove(this.el),n.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,i._modalsOpen--,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===i._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound)),n.remove(this.el),n.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}},{key:"defaults",get:function(){return t}}]),i}();e._modalsOpen=0,e._count=0,M.Modal=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"modal","M_Modal")}(cash,M.anime),function(o,a){"use strict";var t={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Materialbox=n).options=o.extend({},i.defaults,t),n.overlayActive=!1,n.doneAnimating=!0,n.placeholder=o("<div></div>").addClass("material-placeholder"),n.originalWidth=0,n.originalHeight=0,n.originInlineStyles=n.$el.attr("style"),n.caption=n.el.getAttribute("data-caption")||"",n.$el.before(n.placeholder),n.placeholder.append(n.$el),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=o();for(var e=this.placeholder[0].parentNode;null!==e&&!o(e).is(document);){var t=o(e);"visible"!==t.css("overflow")&&(t.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=t:this.ancestorsChanged=this.ancestorsChanged.add(t)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,t={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(t.maxWidth=this.newWidth),"none"!==this.maxHeight&&(t.maxHeight=this.newHeight),a(t)}},{key:"_animateImageOut",value:function(){var e=this,t={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};a(t)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var e=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=o('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){e.doneAnimating&&e.close()}),this.$el.before(this.$overlay);var t=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*t.left+"px",top:-1*t.top+"px"}),a.remove(this.el),a.remove(this.$overlay[0]),a({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&a.remove(this.$photoCaption[0]),this.$photoCaption=o('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),o("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),a({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var n=0,i=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,s<i?(n=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*n):(n=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*n,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),a.remove(this.el),a.remove(this.$overlay[0]),""!==this.caption&&a.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),a({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&a({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Materialbox}},{key:"defaults",get:function(){return t}}]),i}();M.Materialbox=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"materialbox","M_Materialbox")}(cash,M.anime),function(s){"use strict";var t={responsiveThreshold:0},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Parallax=n).options=s.extend({},i.defaults,t),n._enabled=window.innerWidth>n.options.responsiveThreshold,n.$img=n.$el.find("img").first(),n.$img.each(function(){this.complete&&s(this).trigger("load")}),n._updateParallax(),n._setupEventHandlers(),n._setupStyles(),i._parallaxes.push(n),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=0<this.$el.height()?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,n=this.$el.offset().top+e,i=this.$el.offset().top,s=M.getDocumentScrollTop(),o=window.innerHeight,a=t*((s+o-i)/(e+o));this._enabled?s<n&&i<s+o&&(this.$img[0].style.transform="translate3D(-50%, "+a+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),i}();e._parallaxes=[],M.Parallax=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"parallax","M_Parallax")}(cash),function(a,s){"use strict";var t={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Tabs=n).options=a.extend({},i.defaults,t),n.$tabLinks=n.$el.children("li.tab").children("a"),n.index=0,n._setTabsAndTabWidth(),n._setupActiveTabLink(),n._createIndicator(),n.options.swipeable?n._setupSwipeableTabs():n._setupNormalTabs(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var t=this,n=a(e.target).closest("li.tab"),i=a(e.target).closest("a");if(i.length&&i.parent().hasClass("tab"))if(n.hasClass("disabled"))e.preventDefault();else if(!i.attr("target")){this._setTabsAndTabWidth(),this.$activeTabLink.removeClass("active");var s=this.$content;this.$activeTabLink=i,this.$content=a(M.escapeHash(i[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var o=this.index;this.index=Math.max(this.$tabLinks.index(i),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),s.length&&!s.is(this.$content)&&(s[0].style.display="none",s.removeClass("active"))),this._animateIndicator(o),e.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout(function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=a(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=a(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var n=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var i=a();this.$tabLinks.each(function(e){var t=a(M.escapeHash(e.hash));t.addClass("carousel-item"),i=i.add(t)});var e=a('<div class="tabs-content carousel carousel-slider"></div>');i.first().before(e),e.append(i),i[0].style.display="";var t=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(e[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(e){var t=n.index;n.index=a(e).index(),n.$activeTabLink.removeClass("active"),n.$activeTabLink=n.$tabLinks.eq(n.index),n.$activeTabLink.addClass("active"),n._animateIndicator(t),"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])}}),this._tabsCarousel.set(t)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(e){if(e.hash){var t=a(M.escapeHash(e.hash));t.length&&(t[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(e){if(e.hash){var t=a(M.escapeHash(e.hash));t.length&&(t[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var t=0,n=0;0<=this.index-e?t=90:n=90;var i={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:t},right:{value:this._calcRightPos(this.$activeTabLink),delay:n},duration:this.options.duration,easing:"easeOutQuad"};s.remove(this._indicator),s(i)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tabs}},{key:"defaults",get:function(){return t}}]),i}();window.M.Tabs=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"tabs","M_Tabs")}(cash,M.anime),function(d,t){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Tooltip=n).options=d.extend({},i.defaults,t),n.isOpen=!1,n.isHovered=!1,n.isFocused=!1,n._appendTooltipEl(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){d(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.options=d.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){e.isHovered||e.isFocused||e._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){(e.isHovered||e.isFocused)&&e._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,t=this.el,n=this.tooltipEl,i=t.offsetHeight,s=t.offsetWidth,o=n.offsetHeight,a=n.offsetWidth,r=this.options.margin,l=void 0,u=void 0;this.xMovement=0,this.yMovement=0,l=t.getBoundingClientRect().top+M.getDocumentScrollTop(),u=t.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-o-r,u+=s/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=i/2-o/2,u+=s+r,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=i/2-o/2,u+=-a-r,this.xMovement=-this.options.transitionMovement):(l+=i+r,u+=s/2-a/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(u,l,a,o),d(n).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,n,i){var s=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),a=e-s,r=t-o,l={left:a,top:r,width:n,height:i},u=this.options.margin+this.options.transitionMovement,d=M.checkWithinContainer(document.body,l,u);return d.left?a=u:d.right&&(a-=a+n-window.innerWidth),d.top?r=u:d.bottom&&(r-=r+i-window.innerHeight),{x:a+s,y:r+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.open()}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.close()}},{key:"_handleFocus",value:function(){this.isFocused=!0,this.open()}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return t&&(e.html=t),n&&(e.position=n),e}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tooltip}},{key:"defaults",get:function(){return n}}]),i}();M.Tooltip=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"tooltip","M_Tooltip")}(cash,M.anime),function(n){"use strict";function g(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}function t(e){var t=function(e){if(!1===l.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}(e);null!==t&&(v.show(e,t),"ontouchstart"in n&&(t.addEventListener("touchend",v.hide,!1),t.addEventListener("touchcancel",v.hide,!1)),t.addEventListener("mouseup",v.hide,!1),t.addEventListener("mouseleave",v.hide,!1),t.addEventListener("dragend",v.hide,!1))}var e=e||{},i=document.querySelectorAll.bind(document),v={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,i=document.createElement("div");i.className="waves-ripple",n.appendChild(i);var s,o,a,r,l,u,d,c=(u={top:0,left:0},d=(s=n)&&s.ownerDocument,o=d.documentElement,void 0!==s.getBoundingClientRect&&(u=s.getBoundingClientRect()),a=null!==(l=r=d)&&l===l.window?r:9===r.nodeType&&r.defaultView,{top:u.top+a.pageYOffset-o.clientTop,left:u.left+a.pageXOffset-o.clientLeft}),h=e.pageY-c.top,p=e.pageX-c.left,f="scale("+n.clientWidth/100*10+")";"touches"in e&&(h=e.touches[0].pageY-c.top,p=e.touches[0].pageX-c.left),i.setAttribute("data-hold",Date.now()),i.setAttribute("data-scale",f),i.setAttribute("data-x",p),i.setAttribute("data-y",h);var m={top:h+"px",left:p+"px"};i.className=i.className+" waves-notransition",i.setAttribute("style",g(m)),i.className=i.className.replace("waves-notransition",""),m["-webkit-transform"]=f,m["-moz-transform"]=f,m["-ms-transform"]=f,m["-o-transform"]=f,m.transform=f,m.opacity="1",m["-webkit-transition-duration"]=v.duration+"ms",m["-moz-transition-duration"]=v.duration+"ms",m["-o-transition-duration"]=v.duration+"ms",m["transition-duration"]=v.duration+"ms",m["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",i.setAttribute("style",g(m))},hide:function(e){l.touchup(e);var t=this,n=(t.clientWidth,null),i=t.getElementsByClassName("waves-ripple");if(!(0<i.length))return!1;var s=(n=i[i.length-1]).getAttribute("data-x"),o=n.getAttribute("data-y"),a=n.getAttribute("data-scale"),r=350-(Date.now()-Number(n.getAttribute("data-hold")));r<0&&(r=0),setTimeout(function(){var e={top:o+"px",left:s+"px",opacity:"0","-webkit-transition-duration":v.duration+"ms","-moz-transition-duration":v.duration+"ms","-o-transition-duration":v.duration+"ms","transition-duration":v.duration+"ms","-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a};n.setAttribute("style",g(e)),setTimeout(function(){try{t.removeChild(n)}catch(e){return!1}},v.duration)},r)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var s=document.createElement("i");s.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),s.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(s,n),s.appendChild(n)}}}},l={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?l.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout(function(){0<l.touches&&(l.touches-=1)},500):"mousedown"===e.type&&0<l.touches&&(t=!1),t},touchup:function(e){l.allowEvent(e)}};e.displayEffect=function(e){"duration"in(e=e||{})&&(v.duration=e.duration),v.wrapInput(i(".waves-effect")),"ontouchstart"in n&&document.body.addEventListener("touchstart",t,!1),document.body.addEventListener("mousedown",t,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(v.wrapInput([e]),e=e.parentNode),"ontouchstart"in n&&e.addEventListener("touchstart",t,!1),e.addEventListener("mousedown",t,!1)},n.Waves=e,document.addEventListener("DOMContentLoaded",function(){e.displayEffect()},!1)}(window),function(n,i){"use strict";var e={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},t=function(){function s(e){_classCallCheck(this,s),this.options=n.extend({},s.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===s._toasts.length&&s._createContainer(),s._toasts.push(this);var t=this._createToast();(t.M_Toast=this).el=t,this._animateIn(),this._setTimer()}return _createClass(s,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&n(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?n(e).append(this.message[0]):e.innerHTML=this.message,s._container.appendChild(e),e}},{key:"_animateIn",value:function(){i({targets:this.el,top:0,opacity:1,duration:300,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()},20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var t=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+t+"px)",this.el.style.opacity=0),i({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof e.options.completeCallback&&e.options.completeCallback(),e.el.parentNode.removeChild(e.el),s._toasts.splice(s._toasts.indexOf(e),1),0===s._toasts.length&&s._removeContainer()}})}}],[{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",s._onDragStart),e.addEventListener("touchmove",s._onDragMove),e.addEventListener("touchend",s._onDragEnd),e.addEventListener("mousedown",s._onDragStart),document.addEventListener("mousemove",s._onDragMove),document.addEventListener("mouseup",s._onDragEnd),document.body.appendChild(e),s._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",s._onDragMove),document.removeEventListener("mouseup",s._onDragEnd),s._container.parentNode.removeChild(s._container),s._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&n(e.target).closest(".toast").length){var t=n(e.target).closest(".toast")[0].M_Toast;t.panning=!0,(s._draggedToast=t).el.classList.add("panning"),t.el.style.transition="",t.startingXPos=s._xPos(e),t.time=Date.now(),t.xPos=s._xPos(e)}}},{key:"_onDragMove",value:function(e){if(s._draggedToast){e.preventDefault();var t=s._draggedToast;t.deltaX=Math.abs(t.xPos-s._xPos(e)),t.xPos=s._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var n=t.xPos-t.startingXPos,i=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+n+"px)",t.el.style.opacity=1-Math.abs(n/i)}}},{key:"_onDragEnd",value:function(){if(s._draggedToast){var e=s._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent;Math.abs(t)>n||1<e.velocityX?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),s._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in s._toasts)s._toasts[e].dismiss()}},{key:"defaults",get:function(){return e}}]),s}();t._toasts=[],t._container=null,t._draggedToast=null,M.Toast=t,M.toast=function(e){return new t(e)}}(cash,M.anime),function(s,o){"use strict";var t={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Sidenav=n).id=n.$el.attr("id"),n.options=s.extend({},i.defaults,t),n.isOpen=!1,n.isFixed=n.el.classList.contains("sidenav-fixed"),n.isDragged=!1,n.lastWindowWidth=window.innerWidth,n.lastWindowHeight=window.innerHeight,n._createOverlay(),n._createDragTarget(),n._setupEventHandlers(),n._setupClasses(),n._setupFixed(),i._sidenavs.push(n),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0;var e=i._sidenavs.indexOf(this);0<=e&&i._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===i._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===i._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var t=s(e.target).closest(".sidenav-trigger");if(e.target&&t.length){var n=M.getIdFromTrigger(t[0]),i=document.getElementById(n).M_Sidenav;i&&i.open(t),e.preventDefault()}}},{key:"_startDrag",value:function(e){var t=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=t,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,o.remove(this.el),o.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=0<t?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===n&&(t=0);var i=t,s="translateX(-100%)";"right"===this.options.edge&&(s="translateX(100%)",i=-i),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=s+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(.5<this.percentOpen?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=0<t?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==n&&(t=0);var i=-t;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(.5<this.percentOpen?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){s(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(992<window.innerWidth?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&992<window.innerWidth}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(o.remove(this.el),o({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,t="left"===this.options.edge?-1:1;this.isDragged&&(t="left"===this.options.edge?t+this.percentOpen:t-this.percentOpen),o.remove(this.el),o({targets:this.el,translateX:[100*t+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var e=0;this.isDragged?e=this.percentOpen:s(this._overlay).css({display:"block"}),o.remove(this._overlay),o({targets:this._overlay,opacity:[e,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,t="left"===this.options.edge?-1:1,n=0;this.isDragged&&(n="left"===this.options.edge?t+this.percentOpen:t-this.percentOpen),o.remove(this.el),o({targets:this.el,translateX:[100*n+"%",105*t+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var e=this;o.remove(this._overlay),o({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){s(e._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}},{key:"defaults",get:function(){return t}}]),i}();e._sidenavs=[],window.M.Sidenav=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"sidenav","M_Sidenav")}(cash,M.anime),function(o,a){"use strict";var t={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},e=function(e){function h(e,t){_classCallCheck(this,h);var n=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,h,e,t));return(n.el.M_ScrollSpy=n).options=o.extend({},h.defaults,t),h._elements.push(n),h._count++,h._increment++,n.tickId=-1,n.id=h._increment,n._setupEventHandlers(),n._handleWindowScroll(),n}return _inherits(h,Component),_createClass(h,[{key:"destroy",value:function(){h._elements.splice(h._elements.indexOf(this),1),h._elementsInView.splice(h._elementsInView.indexOf(this),1),h._visibleElements.splice(h._visibleElements.indexOf(this.$el),1),h._count--,this._removeEventHandlers(),o(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===h._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===h._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(e){for(var t=o(e.target),n=h._elements.length-1;0<=n;n--){var i=h._elements[n];if(t.is('a[href="#'+i.$el.attr("id")+'"]')){e.preventDefault();var s=i.$el.offset().top+1;a({targets:[document.documentElement,document.body],scrollTop:s-i.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){h._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,i=e+window.innerHeight,s=h._findElements(e,n,i,t),o=0;o<s.length;o++){var a=s[o];a.tickId<0&&a._enter(),a.tickId=h._ticks}for(var r=0;r<h._elementsInView.length;r++){var l=h._elementsInView[r],u=l.tickId;0<=u&&u!==h._ticks&&(l._exit(),l.tickId=-1)}h._elementsInView=s}},{key:"_enter",value:function(){(h._visibleElements=h._visibleElements.filter(function(e){return 0!=e.height()}))[0]?(o(this.options.getActiveElement(h._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),h._visibleElements[0][0].M_ScrollSpy&&this.id<h._visibleElements[0][0].M_ScrollSpy.id?h._visibleElements.unshift(this.$el):h._visibleElements.push(this.$el)):h._visibleElements.push(this.$el),o(this.options.getActiveElement(h._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;(h._visibleElements=h._visibleElements.filter(function(e){return 0!=e.height()}))[0]&&(o(this.options.getActiveElement(h._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(h._visibleElements=h._visibleElements.filter(function(e){return e.attr("id")!=t.$el.attr("id")}))[0]&&o(this.options.getActiveElement(h._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return _get(h.__proto__||Object.getPrototypeOf(h),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,i){for(var s=[],o=0;o<h._elements.length;o++){var a=h._elements[o],r=e+a.options.scrollOffset||200;if(0<a.$el.height()){var l=a.$el.offset().top,u=a.$el.offset().left,d=u+a.$el.width(),c=l+a.$el.height();!(t<u||d<i||n<l||c<r)&&s.push(a)}}return s}},{key:"defaults",get:function(){return t}}]),h}();e._elements=[],e._elementsInView=[],e._visibleElements=[],e._count=0,e._increment=0,e._ticks=0,M.ScrollSpy=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(u){"use strict";var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,n){return e.indexOf(n)-t.indexOf(n)}},e=function(e){function s(e,t){_classCallCheck(this,s);var n=_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,s,e,t));return(n.el.M_Autocomplete=n).options=u.extend({},s.defaults,t),n.isOpen=!1,n.count=0,n.activeIndex=-1,n.oldVal,n.$inputField=n.$el.closest(".input-field"),n.$active=u(),n._setupDropdown(),n._setupEventHandlers(),n}return _inherits(s,Component),_createClass(s,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),void 0!==window.ontouchstart&&this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),void 0!==window.ontouchstart&&this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound)}},{key:"_setupDropdown",value:function(){this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),u(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this.dropdown.close(),this._resetAutocomplete()}},{key:"_handleInputKeyupAndFocus",value:function(e){var t=this;"keyup"===e.type&&(s._keydown=!1),this.count=0;var n=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal!==n&&(this._resetAutocomplete(),n.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,n)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():setTimeout(function(){t.dropdown.open()},100)),this.oldVal=n)}},{key:"_handleInputKeydown",value:function(e){s._keydown=!0;var t=e.keyCode,n=void 0,i=u(this.container).children("li").length;13===t&&0<=this.activeIndex?(n=u(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(n),e.preventDefault()):38!==t&&40!==t||(e.preventDefault(),38===t&&0<this.activeIndex&&this.activeIndex--,40===t&&this.activeIndex<i-1&&this.activeIndex++,this.$active.removeClass("active"),0<=this.activeIndex&&(this.$active=u(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){var t=u(e.target).closest("li");this.selectOption(t)}},{key:"_highlight",value:function(e,t){var n=t.find("img"),i=t.text().toLowerCase().indexOf(""+e.toLowerCase()),s=i+e.length-1,o=t.text().slice(0,i),a=t.text().slice(i,s+1),r=t.text().slice(s+1);t.html("<span>"+o+"<span class='highlight'>"+a+"</span>"+r+"</span>"),n.length&&t.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){u(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.dropdown.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(e,n){var i=this;this._resetAutocomplete();var t=[];for(var s in e)if(e.hasOwnProperty(s)&&-1!==s.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var o={data:e[s],key:s};t.push(o),this.count++}t.sort(function(e,t){return i.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),n.toLowerCase())});for(var a=0;a<t.length;a++){var r=t[a],l=u("<li></li>");r.data?l.append('<img src="'+r.data+'" class="right circle"><span>'+r.key+"</span>"):l.append("<span>"+r.key+"</span>"),u(this.container).append(l),this._highlight(n,l)}}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return _get(s.__proto__||Object.getPrototypeOf(s),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),s}();e._keydown=!1,M.Autocomplete=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"autocomplete","M_Autocomplete")}(cash),function(d){M.updateTextFields=function(){d("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(e,t){var n=d(this);0<e.value.length||d(e).is(":focus")||e.autofocus||null!==n.attr("placeholder")?n.siblings("label").addClass("active"):e.validity?n.siblings("label").toggleClass("active",!0===e.validity.badInput):n.siblings("label").removeClass("active")})},M.validate_field=function(e){var t=null!==e.attr("data-length"),n=parseInt(e.attr("data-length")),i=e[0].value.length;0!==i||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&i<=n||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(e){if(e instanceof Element&&(e=d(e)),e.length){var t=d(".hiddendiv").first();t.length||(t=d('<div class="hiddendiv common"></div>'),d("body").append(t));var n=e.css("font-family"),i=e.css("font-size"),s=e.css("line-height"),o=e.css("padding-top"),a=e.css("padding-right"),r=e.css("padding-bottom"),l=e.css("padding-left");i&&t.css("font-size",i),n&&t.css("font-family",n),s&&t.css("line-height",s),o&&t.css("padding-top",o),a&&t.css("padding-right",a),r&&t.css("padding-bottom",r),l&&t.css("padding-left",l),e.data("original-height")||e.data("original-height",e.height()),"off"===e.attr("wrap")&&t.css("overflow-wrap","normal").css("white-space","pre"),t.text(e[0].value+"\n");var u=t.html().replace(/\n/g,"<br>");t.html(u),0<e[0].offsetWidth&&0<e[0].offsetHeight?t.css("width",e.width()+"px"):t.css("width",window.innerWidth/2+"px"),e.data("original-height")<=t.innerHeight()?e.css("height",t.innerHeight()+"px"):e[0].value.length<e.data("previous-length")&&e.css("height",e.data("original-height")+"px"),e.data("previous-length",e[0].value.length)}else console.error("No textarea element found")},d(document).ready(function(){var i="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";d(document).on("change",i,function(){0===this.value.length&&null===d(this).attr("placeholder")||d(this).siblings("label").addClass("active"),M.validate_field(d(this))}),d(document).ready(function(){M.updateTextFields()}),d(document).on("reset",function(e){var t=d(e.target);t.is("form")&&(t.find(i).removeClass("valid").removeClass("invalid"),t.find(i).each(function(e){this.value.length&&d(this).siblings("label").removeClass("active")}),setTimeout(function(){t.find("select").each(function(){if(this.M_FormSelect){var e=d(this).find("option[selected]").text();d(this).siblings("input.select-dropdown")[0].value=e}})},0))}),document.addEventListener("focus",function(e){d(e.target).is(i)&&d(e.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(e){var t=d(e.target);if(t.is(i)){var n=".prefix";0===t[0].value.length&&!0!==t[0].validity.badInput&&null===t.attr("placeholder")&&(n+=", label"),t.siblings(n).removeClass("active"),M.validate_field(t)}},!0),d(document).on("keyup","input[type=radio], input[type=checkbox]",function(e){if(e.which===M.keys.TAB)return d(this).addClass("tabbed"),void d(this).one("blur",function(e){d(this).removeClass("tabbed")})}),d(".materialize-textarea").each(function(){var e=d(this);e.data("original-height",e.height()),e.data("previous-length",this.value.length),M.textareaAutoResize(e)}),d(document).on("keyup",".materialize-textarea",function(){M.textareaAutoResize(d(this))}),d(document).on("keydown",".materialize-textarea",function(){M.textareaAutoResize(d(this))}),d(document).on("change",'.file-field input[type="file"]',function(){for(var e=d(this).closest(".file-field").find("input.file-path"),t=d(this)[0].files,n=[],i=0;i<t.length;i++)n.push(t[i].name);e[0].value=n.join(", "),e.trigger("change")})})}(cash),function(s,o){"use strict";var t={indicators:!0,height:400,duration:500,interval:6e3},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Slider=n).options=s.extend({},i.defaults,t),n.$slider=n.$el.find(".slides"),n.$slides=n.$slider.children("li"),n.activeIndex=n.$slides.filter(function(e){return s(e).hasClass("active")}).first().index(),-1!=n.activeIndex&&(n.$active=n.$slides.eq(n.activeIndex)),n._setSliderHeight(),n.$slides.find(".caption").each(function(e){n._animateCaptionIn(e,0)}),n.$slides.find("img").each(function(e){var t="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";s(e).attr("src")!==t&&(s(e).css("background-image",'url("'+s(e).attr("src")+'")'),s(e).attr("src",t))}),n._setupIndicators(),n.$active?n.$active.css("display","block"):(n.$slides.first().addClass("active"),o({targets:n.$slides.first()[0],opacity:1,duration:n.options.duration,easing:"easeOutQuad"}),n.activeIndex=0,n.$active=n.$slides.eq(n.activeIndex),n.options.indicators&&n.$indicators.eq(n.activeIndex).addClass("active")),n.$active.find("img").each(function(e){o({targets:n.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:n.options.duration,easing:"easeOutQuad"})}),n._setupEventHandlers(),n.start(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(e){e.addEventListener("click",t._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each(function(e){e.removeEventListener("click",t._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(e){var t=s(e.target).index();this.set(t)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(e,t){var n={targets:e,opacity:0,duration:t,easing:"easeOutQuad"};s(e).hasClass("center-align")?n.translateY=-100:s(e).hasClass("right-align")?n.translateX=100:s(e).hasClass("left-align")&&(n.translateX=-100),o(n)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var i=this;this.options.indicators&&(this.$indicators=s('<ul class="indicators"></ul>'),this.$slides.each(function(e,t){var n=s('<li class="indicator-item"></li>');i.$indicators.append(n[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var t=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var n=this.$active.find(".caption");this.$active.removeClass("active"),o({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){t.$slides.not(".active").each(function(e){o({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(n[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),o({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),o({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Slider}},{key:"defaults",get:function(){return t}}]),i}();M.Slider=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"slider","M_Slider")}(cash,M.anime),function(i,s){i(document).on("click",".card",function(e){if(i(this).children(".card-reveal").length){var n=i(e.target).closest(".card");void 0===n.data("initialOverflow")&&n.data("initialOverflow",void 0===n.css("overflow")?"":n.css("overflow"));var t=i(this).find(".card-reveal");i(e.target).is(i(".card-reveal .card-title"))||i(e.target).is(i(".card-reveal .card-title i"))?s({targets:t[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(e){var t=e.animatables[0].target;i(t).css({display:"none"}),n.css("overflow",n.data("initialOverflow"))}}):(i(e.target).is(i(".card .activator"))||i(e.target).is(i(".card .activator i")))&&(n.css("overflow","hidden"),t.css({display:"block"}),s({targets:t[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(u){"use strict";var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},e=function(e){function l(e,t){_classCallCheck(this,l);var n=_possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,t));return(n.el.M_Chips=n).options=u.extend({},l.defaults,t),n.$el.addClass("chips input-field"),n.chipsData=[],n.$chips=u(),n._setupInput(),n.hasAutocomplete=0<Object.keys(n.options.autocompleteOptions).length,n.$input.attr("id")||n.$input.attr("id",M.guid()),n.options.data.length&&(n.chipsData=n.options.data,n._renderChips(n.chipsData)),n.hasAutocomplete&&n._setupAutocomplete(),n._setPlaceholder(),n._setupLabel(),n._setupEventHandlers(),n}return _inherits(l,Component),_createClass(l,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",l._handleChipsKeydown),document.addEventListener("keyup",l._handleChipsKeyup),this.el.addEventListener("blur",l._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",l._handleChipsKeydown),document.removeEventListener("keyup",l._handleChipsKeyup),this.el.removeEventListener("blur",l._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var t=u(e.target).closest(".chip"),n=u(e.target).is(".close");if(t.length){var i=t.index();n?(this.deleteChip(i),this.$input[0].focus()):this.selectChip(i)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(l._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var t=document.createElement("div"),n=document.createElement("i");if(t.classList.add("chip"),t.textContent=e.tag,t.setAttribute("tabindex",0),u(n).addClass("material-icons close"),n.textContent="close",e.image){var i=document.createElement("img");i.setAttribute("src",e.image),t.insertBefore(i,t.firstChild)}return t.appendChild(n),t}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=u("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?u(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&u(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var t=this._renderChip(e);this.$chips.add(t),this.chipsData.push(e),u(this.$input).before(t),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,t)}}},{key:"deleteChip",value:function(e){var t=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter(function(e){return 0<=u(e).index()}),this.chipsData.splice(e,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,t[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);(this._selectedChip=t)[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return _get(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Chips}},{key:"_handleChipsKeydown",value:function(e){l._keydown=!0;var t=u(e.target).closest(".chips"),n=e.target&&t.length;if(!u(e.target).is("input, textarea")&&n){var i=t[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var s=i.chipsData.length;if(i._selectedChip){var o=i._selectedChip.index();i.deleteChip(o),i._selectedChip=null,s=Math.max(o-1,0)}i.chipsData.length&&i.selectChip(s)}else if(37===e.keyCode){if(i._selectedChip){var a=i._selectedChip.index()-1;if(a<0)return;i.selectChip(a)}}else if(39===e.keyCode&&i._selectedChip){var r=i._selectedChip.index()+1;r>=i.chipsData.length?i.$input[0].focus():i.selectChip(r)}}}},{key:"_handleChipsKeyup",value:function(e){l._keydown=!1}},{key:"_handleChipsBlur",value:function(e){l._keydown||(u(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),l}();e._keydown=!1,M.Chips=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"chips","M_Chips"),u(document).ready(function(){u(document.body).on("click",".chip .close",function(){var e=u(this).closest(".chips");e.length&&e[0].M_Chips||u(this).closest(".chip").remove()})})}(cash),function(s){"use strict";var t={top:0,bottom:1/0,offset:0,onPositionChange:null},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Pushpin=n).options=s.extend({},i.defaults,t),n.originalOffset=n.el.offsetTop,i._pushpins.push(n),n._setupEventHandlers(),n._updatePosition(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=i._pushpins.indexOf(this);i._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top","pinned","pin-bottom")}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Pushpin}},{key:"_updateElements",value:function(){for(var e in i._pushpins)i._pushpins[e]._updatePosition()}},{key:"defaults",get:function(){return t}}]),i}();e._pushpins=[],M.Pushpin=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"pushpin","M_Pushpin")}(cash),function(r,s){"use strict";var t={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};r.fn.reverse=[].reverse;var e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_FloatingActionButton=n).options=r.extend({},i.defaults,t),n.isOpen=!1,n.$anchor=n.$el.children("a").first(),n.$menu=n.$el.children("ul").first(),n.$floatingBtns=n.$el.find("ul .btn-floating"),n.$floatingBtnsReverse=n.$el.find("ul .btn-floating").reverse(),n.offsetY=0,n.offsetX=0,"top"===n.options.direction?(n.$el.addClass("direction-top"),n.offsetY=40):"right"===n.options.direction?(n.$el.addClass("direction-right"),n.offsetX=-40):"bottom"===n.options.direction?(n.$el.addClass("direction-bottom"),n.offsetY=-40):(n.$el.addClass("direction-left"),n.offsetX=40),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){r(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each(function(e){s({targets:e,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40})}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each(function(e){s.remove(e),s({targets:e,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var e,t=this,n=window.innerWidth,i=window.innerHeight,s=this.el.getBoundingClientRect(),o=r('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(o),this.offsetX=s.left-n/2+s.width/2,this.offsetY=i-s.bottom,e=n/o[0].clientWidth,this.btnBottom=s.bottom,this.btnLeft=s.left,this.btnWidth=s.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),o.css({"background-color":a}),setTimeout(function(){t.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),t.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){t.$el.css({overflow:"hidden","background-color":a}),o.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),t.$menu.children("li").children("a").css({opacity:1}),t._handleDocumentClickBound=t._handleDocumentClick.bind(t),window.addEventListener("scroll",t._handleCloseBound,!0),document.body.addEventListener("click",t._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),s=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":s}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){i.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout(function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FloatingActionButton}},{key:"defaults",get:function(){return t}}]),i}();M.FloatingActionButton=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(v){"use strict";var t={format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"",nextMonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},e=function(e){function T(e,t){_classCallCheck(this,T);var n=_possibleConstructorReturn(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,T,e,t));(n.el.M_Datepicker=n).options=v.extend({},T.defaults,t),t&&t.hasOwnProperty("i18n")&&"object"==typeof t.i18n&&(n.options.i18n=v.extend({},T.defaults.i18n,t.i18n)),n.options.minDate&&n.options.minDate.setHours(0,0,0,0),n.options.maxDate&&n.options.maxDate.setHours(0,0,0,0),n.id=M.guid(),n._setupVariables(),n._insertHTMLIntoDOM(),n._setupModal(),n._setupEventHandlers(),n.options.defaultDate||(n.options.defaultDate=new Date(Date.parse(n.el.value)),n.options.setDefaultDate=!0);var i=n.options.defaultDate;return T._isDate(i)?n.options.setDefaultDate?n.setDate(i,!0):n.gotoDate(i):n.gotoDate(new Date),n.isOpen=!1,n}return _inherits(T,Component),_createClass(T,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),v(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".pika-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".pika-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(v(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;return e=e||this.options.format,T._isDate(this.date)?e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(e){return t.formats[e]?t.formats[e]():e}).join(""):""}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),T._isDate(e)){var n=this.options.minDate,i=this.options.maxDate;T._isDate(n)&&e<n?e=n:T._isDate(i)&&i<e&&(e=i),this.date=new Date(e.getTime()),this._renderDateDisplay(),T._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=T._isDate(this.date)?this.date:new Date,t=this.options.i18n,n=t.weekdaysShort[e.getDay()],i=t.monthsShort[e.getMonth()],s=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=n+", "+i+" "+s}},{key:"gotoDate",value:function(e){var t=!0;if(T._isDate(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),s=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=s<n.getTime()||i.getTime()<s}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),11<e.month&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,n){var i=this.options,s=new Date,o=T._getDaysInMonth(e,t),a=new Date(e,t,1).getDay(),r=[],l=[];T._setToStartOfDay(s),0<i.firstDay&&(a-=i.firstDay)<0&&(a+=7);for(var u=0===t?11:t-1,d=11===t?0:t+1,c=0===t?e-1:e,h=11===t?e+1:e,p=T._getDaysInMonth(c,u),f=o+a,m=f;7<m;)m-=7;f+=7-m;for(var g=!1,v=0,_=0;v<f;v++){var y=new Date(e,t,v-a+1),q=!!T._isDate(this.date)&&T._compareDates(y,this.date),b=T._compareDates(y,s),C=-1!==i.events.indexOf(y.toDateString()),E=v<a||o+a<=v,w=v-a+1,S=t,k=e,D=i.startRange&&T._compareDates(i.startRange,y),L=i.endRange&&T._compareDates(i.endRange,y),I=i.startRange&&i.endRange&&i.startRange<y&&y<i.endRange;E&&(v<a?(w=p+w,S=u,k=c):(w-=o,S=d,k=h));var F={day:w,month:S,year:k,hasEvent:C,isSelected:q,isToday:b,isDisabled:i.minDate&&y<i.minDate||i.maxDate&&y>i.maxDate||i.disableWeekends&&T._isWeekend(y)||i.disableDayFn&&i.disableDayFn(y),isEmpty:E,isStartRange:D,isEndRange:L,isInRange:I,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};l.push(this.renderDay(F)),7==++_&&(r.push(this.renderRow(l,i.isRTL,g)),l=[],_=0,g=!1)}return this.renderTable(i,r,n)}},{key:"renderDay",value:function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,n){return'<tr class="pika-row'+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,t,n,i,s,o){var a,r,l=void 0,u=void 0,d=void 0,c=this.options,h=n===c.minYear,p=n===c.maxYear,f='<div id="'+o+'" class="datepicker-controls" role="heading" aria-live="assertive">',m=!0,g=!0;for(d=[],l=0;l<12;l++)d.push('<option value="'+(n===s?l-t:12+l-t)+'"'+(l===i?' selected="selected"':"")+(h&&l<c.minMonth||p&&l>c.maxMonth?'disabled="disabled"':"")+">"+c.i18n.months[l]+"</option>");for(a='<select class="pika-select pika-select-month" tabindex="-1">'+d.join("")+"</select>",v.isArray(c.yearRange)?(l=c.yearRange[0],u=c.yearRange[1]+1):(l=n-c.yearRange,u=1+n+c.yearRange),d=[];l<u&&l<=c.maxYear;l++)l>=c.minYear&&d.push('<option value="'+l+'"'+(l===n?' selected="selected"':"")+">"+l+"</option>");return r='<select class="pika-select pika-select-year" tabindex="-1">'+d.join("")+"</select>",f+='<button class="month-prev'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',f+='<div class="selects-container">',c.showMonthAfterYear?f+=r+a:f+=a+r,f+="</div>",h&&(0===i||c.minMonth>=i)&&(m=!1),p&&(11===i||c.maxMonth<=i)&&(g=!1),(f+='<button class="month-next'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t,n=this.options,i=n.minYear,s=n.maxYear,o=n.minMonth,a=n.maxMonth,r="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=s&&(this._y=s,!isNaN(a)&&this._m>a&&(this._m=a)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),r+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,t)+this.render(this.calendars[l].year,this.calendars[l].month,t);this.destroySelects(),this.calendarEl.innerHTML=r;var u=this.calendarEl.querySelector(".pika-select-year"),d=this.calendarEl.querySelector(".pika-select-month");M.FormSelect.init(u,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(d,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),u.addEventListener("change",this._handleYearChange.bind(this)),d.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=v(T._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".pika-single"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var t=v(e.target);t.hasClass("is-disabled")||(!t.hasClass("datepicker-day-button")||t.hasClass("is-empty")||t.parent().hasClass("is-disabled")?t.closest(".month-prev").length?this.prevMonth():t.closest(".month-next").length&&this.nextMonth():this.setDate(new Date(e.target.getAttribute("data-pika-year"),e.target.getAttribute("data-pika-month"),e.target.getAttribute("data-pika-day"))))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),T._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,n){for(t+=e.firstDay;7<=t;)t-=7;return n?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return _get(T.__proto__||Object.getPrototypeOf(T),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){T._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,T._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){T._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Datepicker}},{key:"defaults",get:function(){return t}}]),T}();e._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="pika-single"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"datepicker","M_Datepicker")}(cash),function(u){"use strict";var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0},e=function(e){function m(e,t){_classCallCheck(this,m);var n=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,e,t));return(n.el.M_Timepicker=n).options=u.extend({},m.defaults,t),n.id=M.guid(),n._insertHTMLIntoDOM(),n._setupModal(),n._setupVariables(),n._setupEventHandlers(),n._clockSetup(),n._pickerSetup(),n}return _inherits(m,Component),_createClass(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),u(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),u(this.spanHours).on("click",this.showView.bind(this,"hours")),u(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),n=t.left,i=t.top;this.x0=n+this.options.dialRadius,this.y0=i+this.options.dialRadius,this.moved=!1;var s=m._Pos(e);this.dx=s.x-this.x0,this.dy=s.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=m._Pos(e),n=t.x-this.x0,i=t.y-this.y0;this.moved=!0,this.setHand(n,i,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var t=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var n=m._Pos(e),i=n.x-this.x0,s=n.y-this.y0;this.moved&&i===this.dx&&s===this.dy&&this.setHand(i,s),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(u(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){t.done()},this.options.duration/2)),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=u(m._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=u('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var t=u('<div class="confirmation-btns"></div>');u('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(t).on("click",this.close.bind(this)),u('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(t).on("click",this.done.bind(this)),t.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=u('<div class="am-btn">AM</div>'),this.$pmBtn=u('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,n=2*e,i=m._createSVGEl("svg");i.setAttribute("class","timepicker-svg"),i.setAttribute("width",n),i.setAttribute("height",n);var s=m._createSVGEl("g");s.setAttribute("transform","translate("+e+","+e+")");var o=m._createSVGEl("circle");o.setAttribute("class","timepicker-canvas-bearing"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",4);var a=m._createSVGEl("line");a.setAttribute("x1",0),a.setAttribute("y1",0);var r=m._createSVGEl("circle");r.setAttribute("class","timepicker-canvas-bg"),r.setAttribute("r",t),s.appendChild(a),s.appendChild(r),s.appendChild(o),i.appendChild(s),this._canvas.appendChild(i),this.hand=a,this.bg=r,this.bearing=o,this.g=s}},{key:"_buildHoursView",value:function(){var e=u('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var t=1;t<13;t+=1){var n=e.clone(),i=t/6*Math.PI,s=this.options.outerRadius;n.css({left:this.options.dialRadius+Math.sin(i)*s-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(i)*s-this.options.tickRadius+"px"}),n.html(0===t?"00":t),this.hoursView.appendChild(n[0])}else for(var o=0;o<24;o+=1){var a=e.clone(),r=o/6*Math.PI,l=0<o&&o<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(r)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*l-this.options.tickRadius+"px"}),a.html(0===o?"00":o),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var e=u('<div class="timepicker-tick"></div>'),t=0;t<60;t+=5){var n=e.clone(),i=t/30*Math.PI;n.css({left:this.options.dialRadius+Math.sin(i)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(i)*this.options.outerRadius-this.options.tickRadius+"px"}),n.html(m._addLeadingZero(t)),this.minutesView.appendChild(n[0])}}},{key:"_handleAmPmClick",value:function(e){var t=u(e.target);this.amOrPm=t.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==e[1]&&(0<e[1].toUpperCase().indexOf("AM")?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=12<=e[0]&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=m._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,t){"minutes"===e&&u(this.hoursView).css("visibility");var n="hours"===e,i=n?this.hoursView:this.minutesView,s=n?this.minutesView:this.hoursView;this.currentView=e,u(this.spanHours).toggleClass("text-primary",n),u(this.spanMinutes).toggleClass("text-primary",!n),s.classList.add("timepicker-dial-out"),u(i).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(t),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){u(s).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(e){var t=this.currentView,n=this[t],i="hours"===t,s=n*(Math.PI/(i?6:30)),o=i&&0<n&&n<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(s)*o,r=-Math.cos(s)*o,l=this;e?(u(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){u(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(a,r)},e)):this.setHand(a,r)}},{key:"setHand",value:function(e,t,n){var i=this,s=Math.atan2(e,-t),o="hours"===this.currentView,a=Math.PI/(o||n?6:30),r=Math.sqrt(e*e+t*t),l=o&&r<(this.options.outerRadius+this.options.innerRadius)/2,u=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(u=this.options.outerRadius),s<0&&(s=2*Math.PI+s);var d=Math.round(s/a);s=d*a,this.options.twelveHour?o?0===d&&(d=12):(n&&(d*=5),60===d&&(d=0)):o?(12===d&&(d=0),d=l?0===d?12:d:0===d?0:d+12):(n&&(d*=5),60===d&&(d=0)),this[this.currentView]!==d&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){i.vibrateTimer=null},100))),this[this.currentView]=d,o?this.spanHours.innerHTML=d:this.spanMinutes.innerHTML=m._addLeadingZero(d);var c=Math.sin(s)*(u-this.options.tickRadius),h=-Math.cos(s)*(u-this.options.tickRadius),p=Math.sin(s)*u,f=-Math.cos(s)*u;this.hand.setAttribute("x2",c),this.hand.setAttribute("y2",h),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",f)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var n=this.el.value,i=t?"":m._addLeadingZero(this.hours)+":"+m._addLeadingZero(this.minutes);this.time=i,!t&&this.options.twelveHour&&(i=i+" "+this.amOrPm),(this.el.value=i)!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return _get(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"_Pos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Timepicker}},{key:"defaults",get:function(){return t}}]),m}();e._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"timepicker","M_Timepicker")}(cash),function(s){"use strict";var t={},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_CharacterCounter=n).options=s.extend({},i.defaults,t),n.isInvalid=!1,n.isValidLength=!1,n._setupCounter(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),s(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){s(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),t=this.el.value.length;this.isValidLength=t<=e;var n=t;e&&(n+="/"+e,this._validateInput()),s(this.counterEl).html(n)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),i}();M.CharacterCounter=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"characterCounter","M_CharacterCounter")}(cash),function(b){"use strict";var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},e=function(e){function n(e,t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,t));return(i.el.M_Carousel=i).options=b.extend({},n.defaults,t),i.hasMultipleSlides=1<i.$el.find(".carousel-item").length,i.showIndicators=i.options.indicators&&i.hasMultipleSlides,i.noWrap=i.options.noWrap||!i.hasMultipleSlides,i.pressed=!1,i.dragged=!1,i.offset=i.target=0,i.images=[],i.itemWidth=i.$el.find(".carousel-item").first().innerWidth(),i.itemHeight=i.$el.find(".carousel-item").first().innerHeight(),i.dim=2*i.itemWidth+i.options.padding||1,i._autoScrollBound=i._autoScroll.bind(i),i._trackBound=i._track.bind(i),i.options.fullWidth&&(i.options.dist=0,i._setCarouselHeight(),i.showIndicators&&i.$el.find(".carousel-fixed-item").addClass("with-indicators")),i.$indicators=b('<ul class="indicators"></ul>'),i.$el.find(".carousel-item").each(function(e,t){if(i.images.push(e),i.showIndicators){var n=b('<li class="indicator-item"></li>');0===t&&n[0].classList.add("active"),i.$indicators.append(n)}}),i.showIndicators&&i.$el.append(i.$indicators),i.count=i.images.length,i.options.numVisible=Math.min(i.count,i.options.numVisible),i.xform="transform",["webkit","Moz","O","ms"].every(function(e){var t=e+"Transform";return void 0===document.body.style[t]||(i.xform=t,!1)}),i._setupEventHandlers(),i._scroll(i.offset),i}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var n=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(e,t){e.addEventListener("click",n._handleIndicatorClickBound)}));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var n=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(e,t){e.removeEventListener("click",n._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&b(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,n=void 0,i=void 0;if(this.pressed)if(t=this._xpos(e),n=this._ypos(e),i=this.reference-t,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(2<i||i<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+i));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(10<this.velocity||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var t=b(e.target).closest(".carousel-item").index();0!=this._wrap(this.center)-t&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(t)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var t=b(e.target).closest(".indicator-item");t.length&&this._cycleTo(t.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var n=this,t=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=t.find("img").first();if(i.length)if(i[0].complete){var s=i.height();if(0<s)this.$el.css("height",s+"px");else{var o=i[0].naturalWidth,a=i[0].naturalHeight,r=this.$el.width()/o*a;this.$el.css("height",r+"px")}}else i.one("load",function(e,t){n.$el.css("height",e.offsetHeight+"px")});else if(!e){var l=t.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e,t,n,i;t=(e=Date.now())-this.timestamp,this.timestamp=e,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+t),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,2<(t=this.amplitude*Math.exp(-e/this.options.duration))||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var t=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){t.$el.removeClass("scrolling")},this.options.duration);var n,i,s,o,a=void 0,r=void 0,l=void 0,u=void 0,d=void 0,c=void 0,h=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),o=-(s=(i=this.offset-this.center*this.dim)<0?1:-1)*i*2/this.dim,n=this.count>>1,this.options.fullWidth?(l="translateX(0)",c=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",c=1-p*o),this.showIndicators){var f=this.center%this.count,m=this.$indicators.find(".indicator-item.active");m.index()!==f&&(m.removeClass("active"),this.$indicators.find(".indicator-item").eq(f)[0].classList.add("active"))}if(!this.noWrap||0<=this.center&&this.center<this.count){r=this.images[this._wrap(this.center)],b(r).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),r.classList.add("active"));var g=l+" translateX("+-i/2+"px) translateX("+s*this.options.shift*o*a+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(r,c,0,g)}for(a=1;a<=n;++a){if(this.options.fullWidth?(u=this.options.dist,d=a===n&&i<0?1-o:1):(u=this.options.dist*(2*a+o*s),d=1-p*(2*a+o*s)),!this.noWrap||this.center+a<this.count){r=this.images[this._wrap(this.center+a)];var v=l+" translateX("+(this.options.shift+(this.dim*a-i)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(r,d,-a,v)}if(this.options.fullWidth?(u=this.options.dist,d=a===n&&0<i?1-o:1):(u=this.options.dist*(2*a-o*s),d=1-p*(2*a-o*s)),!this.noWrap||0<=this.center-a){r=this.images[this._wrap(this.center-a)];var _=l+" translateX("+(-this.options.shift+(-this.dim*a-i)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(r,d,-a,_)}}if(!this.noWrap||0<=this.center&&this.center<this.count){r=this.images[this._wrap(this.center)];var y=l+" translateX("+-i/2+"px) translateX("+s*this.options.shift*o+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(r,c,0,y)}var q=this.$el.find(".carousel-item").eq(this._wrap(this.center));h!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,q[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,q[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,n,i){e.style[this.xform]=i,e.style.zIndex=n,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var n=this.center%this.count-e;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):0<n&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):0<n&&(this.target-=this.dim*n),"function"==typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Carousel}},{key:"defaults",get:function(){return t}}]),n}();M.Carousel=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"carousel","M_Carousel")}(cash),function(x){"use strict";var t={onOpen:void 0,onClose:void 0},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_TapTarget=n).options=x.extend({},i.defaults,t),n.isOpen=!1,n.$origin=x("#"+n.$el.attr("data-target")),n._setup(),n._calculatePositioning(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){x(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=x(this.wrapper).find(".tap-target-wave")[0],this.originEl=x(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],x(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(x(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var t=this.$origin.parents(),n=0;n<t.length&&!(e="fixed"==x(t[n]).css("position"));n++);var i=this.$origin.outerWidth(),s=this.$origin.outerHeight(),o=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,r=window.innerWidth,l=window.innerHeight,u=r/2,d=l/2,c=a<=u,h=u<a,p=o<=d,f=d<o,m=.25*r<=a&&a<=.75*r,g=this.$el.outerWidth(),v=this.$el.outerHeight(),_=o+s/2-v/2,y=a+i/2-g/2,q=e?"fixed":"absolute",b=m?g:g/2+i,C=v/2,E=p?v/2:0,w=c&&!m?g/2-i:0,S=i,k=f?"bottom":"top",D=2*i,L=D,I=v/2-L/2,F=g/2-D/2,T={};T.top=p?_+"px":"",T.right=h?r-y-g+"px":"",T.bottom=f?l-_-v+"px":"",T.left=c?y+"px":"",T.position=q,x(this.wrapper).css(T),x(this.contentEl).css({width:b+"px",height:C+"px",top:E+"px",right:"0px",bottom:"0px",left:w+"px",padding:S+"px",verticalAlign:k}),x(this.waveEl).css({top:I+"px",left:F+"px",width:D+"px",height:L+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_TapTarget}},{key:"defaults",get:function(){return t}}]),i}();M.TapTarget=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"tapTarget","M_TapTarget")}(cash),function(d){"use strict";var t={classes:"",dropdownOptions:{}},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return n.$el.hasClass("browser-default")?_possibleConstructorReturn(n):((n.el.M_FormSelect=n).options=d.extend({},i.defaults,t),n.isMultiple=n.$el.prop("multiple"),n.el.tabIndex=-1,n._keysSelected={},n._valueDict={},n._setupDropdown(),n._setupEventHandlers(),n)}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),d(this.dropdownOptions).find("li:not(.optgroup)").each(function(e){e.addEventListener("click",t._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;d(this.dropdownOptions).find("li:not(.optgroup)").each(function(e){e.removeEventListener("click",t._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var t=d(e.target).closest("li")[0],n=t.id;if(!d(t).hasClass("disabled")&&!d(t).hasClass("optgroup")&&n.length){var i=!0;if(this.isMultiple){var s=d(this.dropdownOptions).find("li.disabled.selected");s.length&&(s.removeClass("selected"),s.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(s[0].id));var o=d(t).find('input[type="checkbox"]');o.prop("checked",!o.prop("checked")),i=this._toggleEntryFromArray(n)}else d(this.dropdownOptions).find("li").removeClass("active"),d(t).toggleClass("active"),this.input.value=t.textContent;this._activateOption(d(this.dropdownOptions),t),d(this._valueDict[n].el).prop("selected",i),this.$el.trigger("change")}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var i=this;this.wrapper=document.createElement("div"),d(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(d(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),d(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(e){if(d(e).is("option")){var t;t=i.isMultiple?i._appendOptionWithIcon(i.$el,e,"multiple"):i._appendOptionWithIcon(i.$el,e),i._addOptionToValueDict(e,t)}else if(d(e).is("optgroup")){var n=d(e).children("option");d(i.dropdownOptions).append(d('<li class="optgroup"><span>'+e.getAttribute("label")+"</span></li>")[0]),n.each(function(e){var t=i._appendOptionWithIcon(i.$el,e,"optgroup-option");i._addOptionToValueDict(e,t)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),d(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&d(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var e=d('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(e[0]),!this.el.disabled){var t=d.extend({},this.options.dropdownOptions);t.onOpenEnd=function(e){var t=d(i.dropdownOptions).find(".selected").first();if(i.dropdown.isScrollable&&t.length){var n=t[0].getBoundingClientRect().top-i.dropdownOptions.getBoundingClientRect().top;n-=i.dropdownOptions.clientHeight/2,i.dropdownOptions.scrollTop=n}},this.isMultiple&&(t.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,t)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,s={};t.id=i,s.el=e,s.optionEl=t,this._valueDict[i]=s}},{key:"_removeDropdown",value:function(){d(this.wrapper).find(".caret").remove(),d(this.input).remove(),d(this.dropdownOptions).remove(),d(this.wrapper).before(this.$el),d(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,t,n){var i=t.disabled?"disabled ":"",s="optgroup-option"===n?"optgroup-option ":"",o=this.isMultiple?'<label><input type="checkbox"'+i+'"/><span>'+t.innerHTML+"</span></label>":t.innerHTML,a=d("<li></li>"),r=d("<span></span>");r.html(o),a.addClass(i+" "+s),a.append(r);var l=t.getAttribute("data-icon");if(t.getAttribute("class"),l){var u=d('<img alt="" src="'+l+'">');a.prepend(u)}return d(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(e){var t=!this._keysSelected.hasOwnProperty(e);return t?this._keysSelected[e]=!0:delete this._keysSelected[e],d(this._valueDict[e].optionEl).toggleClass("active"),d(this._valueDict[e].el).prop("selected",t),t}},{key:"_setValueToInput",value:function(){var n="";if(this.$el.find("option").each(function(e){if(d(e).prop("selected")){var t=d(e).text();n+=""===n?t:", "+t}}),""===n){var e=this.$el.find("option:disabled").eq(0);e.length&&(n=e.text())}this.input.value=n}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var t=this._valueDict[e];d(t.el).prop("selected")?(d(t.optionEl).find('input[type="checkbox"]').prop("checked",!0),this._activateOption(d(this.dropdownOptions),d(t.optionEl)),this._keysSelected[e]=!0):(d(t.optionEl).find('input[type="checkbox"]').prop("checked",!1),d(t.optionEl).removeClass("selected"))}}},{key:"_activateOption",value:function(e,t){t&&(this.isMultiple||e.find("li.selected").removeClass("selected"),d(t).addClass("selected"))}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FormSelect}},{key:"defaults",get:function(){return t}}]),i}();M.FormSelect=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"formSelect","M_FormSelect")}(cash),function(s,t){"use strict";var n={},e=function(e){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,t));return(n.el.M_Range=n).options=s.extend({},i.defaults,t),n._mousedown=!1,n._setupThumb(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeFocusBound=this._handleRangeFocus.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("focus",this._handleRangeFocusBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("focus",this._handleRangeFocusBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){s(this.value).html(this.$el.val()),s(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();s(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeFocus",value:function(){M.tabPressed&&this.$el.addClass("focused")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(s(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),s(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var t=this._calcRangeOffset();s(this.thumb).addClass("active").css("left",t+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){s(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();s(this.thumb).addClass("active").css("left",e+"px"),s(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){this.$el.removeClass("focused");var e=7+parseInt(this.$el.css("padding-left"))+"px";s(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:e,duration:100})),s(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),s(this.thumb).addClass("thumb"),s(this.value).addClass("value"),s(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){s(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var e=-7+parseInt(s(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:e,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max")),n=parseFloat(this.$el.attr("min"));return(parseFloat(this.$el.val())-n)/(t-n)*e}}],[{key:"init",value:function(e,t){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return n}}]),i}();M.Range=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"range","M_Range"),e.init(s("input[type=range]"))}(cash,M.anime),NS||(NS={}),NS.fasta=">gi|328696568|ref|XP_003240064.1| PREDICTED: uncharacterized protein LOC100575472 [Acyrthosiphon pisum]\nMTRLHSVIHKLPNWKQLRVVLKLMSIMGDPVASFPEIIELNKLRRWYEVRINENRHMTLKMKQNLMVQSINAWSAPRIKLTSVNVPQNPMPGEGKIGAMKITWNRVNEMKRKIKKTKSEYIDKLKRVAINNARTMYQTMYNDYYNSHLSRNFKQSYYDYFPAKEDDCLFEYVADRKNNK\n>gi|641647015|ref|XP_008180670.1| PREDICTED: 33 kDa inner dynein arm light chain, axonemal-like [Acyrthosiphon pisum]\nMSTVEKVLSSELNLVQFDNPKMIATKSMPTLSTQTKQEKYCMESNVSAMESGDYVDEAKQHNCTYVLNSILPRKEWEMDGKIFSQQISIQPATKRDVKNLVEKFDTYLKEYNTKVVGICPIKQEIYSQCFNEVIRQVTLNCTERGYMLIRIRDELQMTIDGYKEVYESALAHGIRKSLQAIL\n>gi|328711854|ref|XP_003244660.1| PREDICTED: uncharacterized protein LOC100571180 [Acyrthosiphon pisum]\nMVKIGLPWLLLVLMKLTNREIKSDEIISIQEVYDICQAEPNTDICDLLEKSSSLVDLNKLDSPEKRRQKTVFSSWGGKRQSTYPYGGKRPAFSSWGGKRASDKHGRPKQTFSSWGGKRSDYDGYDNGEMDEHQMDKRELNGIKQDKNNYRNKMTKGIHALFTIFSDWSRDPEEKKGIRYAGIKSMRRSSDFFPWGGKRFTGDAK\n>gi|253735804|ref|NP_001156684.1| ecdysis triggering hormone preproprotein [Acyrthosiphon pisum]\nMSGYLAIIVLVCLQILRVMSINEFPEKKVQNIWLADLDDKQIASRIERSDQFETASDVLMKDASVYPKITRRGFAGEEFFLKASKSVPRIGRRNNDIQETPKRSLSKDQVNMVEYWPYLQPNDINDLTRKHDFDLPYNCQQLDAKTIFLVDMYNFVCNDQFYCCAPAKRAIANSPNSNSL\n>gi|328710353|ref|XP_003244236.1| PREDICTED: uncharacterized protein LOC100573178 [Acyrthosiphon pisum]\nMTMSVTITILCILGSTFLLIMPDNTTASDKFFQTGGRFGKRHDEHIPDIRYAAMVKTRSVDNVPPRIERGFYISRYGKRSTNSITDPYYFTLCLPSYGIYCDFTGLPNLLRCKRIQPGACSNLNYVNEKTQMKPDNDIII\n>gi|328721150|ref|XP_003247225.1| PREDICTED: uncharacterized protein LOC100571498 [Acyrthosiphon pisum]\nMSFRKFFLRDNGKHRNMDSGGKNDESTTNKDEAKQGQHDAHKHHDIMGEIVLGQELPDNVKDNHNGVDLVDNQVKEVNPHSESLDTYQIDEYDDYMDEDINIITATLDI\n>gi|193573549|ref|XP_001947462.1| PREDICTED: orcokinin peptides type A-like isoform X2 [Acyrthosiphon pisum]\nMASSSTMIVAVASALCVHTILAYPTSIERVSGDNNYLPLRNSPSRDLDRFIEGENLLRDLEILRDRAEYFARQSRHINSLDGVGFGQSKRFDTLSGVSFGGQKRNFDEIDRSGFDRFVKKNFDEIDRSGFDRFVKKNFDEIDRSAFNSFVKRPNKVPAANLE\n>gi|328711811|ref|XP_003244646.1| PREDICTED: uncharacterized protein LOC100163518 isoform X2 [Acyrthosiphon pisum]\nMAGKFSALFLVGFVAAVVVAPYMMAEARYLPTRGNDDRLTRLKELLTDLLDSGAQPNLEMERPYVDVNGDFSRLRPREYNIPEKSIMELFNPTVPHHQRPRS\n>gi|641677312|ref|XP_008187726.1| PREDICTED: uncharacterized protein LOC100569988 isoform X1 [Acyrthosiphon pisum]\nMNPSILTLVWMSILVSLVQTVFADDVIMQKRYFDNDNPVAEPIRRKKPFCNAFTGCGRKRSDESMATLVDLRSEPAVEEISRQIMSEAKLWEAIQEARLELIRQQRQNKAERMDVKPYPIGLRRKRRSLATSDKC\n>gi|328717573|ref|XP_003246245.1| PREDICTED: uncharacterized protein LOC100568735 [Acyrthosiphon pisum]\nMPHKINVGLVALAALAAAVLADPSVDRRASMGFMGMRGKKDRDQGGGGSGGDETSAAVDLDKRTMVFRRPMFDGGSRPAVFGGGSAEGFKRASMGFMGMRGKKDYYSNNKGSAAGFFGMRGKKVPSADAFYGVRGKKWPDHEDAVDADVQLSPIYILYRIIDELKSELSDRERNLVAAKFDEEREMR\n>gi|328721130|ref|XP_003247218.1| PREDICTED: alpha-tubulin N-acetyltransferase 1-like [Acyrthosiphon pisum]\nMAMQFKFDSNSHVGQVLKINNTLTAEGYENNHELRNNLRLIIDEIGKSSAIAQHLEFPITSAQKLLNSDHVIYMMTEQNTPANFAVIGFLKMGWKKLFIYNKQDTCSETLVYCMLDFYIYESKQRQGYGKRLIEYMLQDMKLHARHLVMDKPTTNLLQFMLKNFQLSKLVNQGNNFAIYEDFFDEFNENHDYTGNRTSGYNRPPTFGRHGAHKHHDSMGEILQNTGPSSSVMHNHNNDFVHNQFHEVKPHTEEALGSLQINKYGDYVERDLKYHHSST\n>gi|752421898|ref|XP_011230170.1| PREDICTED: glucagon [Ailuropoda melanoleuca]\nMKSIYFVAGLFVMLVQGSWQRSLQDTEEKSRSLPAPQTDPLNDPDQMNEDKRHSQGTFTSDYSKYLDSRRAQDFVQWLMSTKRNKNNIAKRHDEFERHAEGTFTSDVSSYLEGQAAKEFIAWLVKGRGRRDFPEEVAIVEELRRRHADGSFSDEMNTVLDDLATRDFINWLLQTKITER\n>gi|641675367|ref|XP_003247220.2| PREDICTED: alpha-tubulin N-acetyltransferase 1-like [Acyrthosiphon pisum]\nMEFNFNIGKVATDEVLKINNTLTVEGHEENDDLKNIMRLIIDEMGKASAVSQEFKVPITSANRLVNSDHVIYMMTEHKKPGHFAVVGFLKMGWKKLFLYDKQASRSEARVYCLLDFYIHESKQRKGYGIRLIQCMLQDIGLEAKHLAIDKPTDKLLQFMWKHFQLSKLVNQENNFVIFEEFFHNSSEKKNNRDNTGNRAVAYKSQPMFGRHGAHKHHDSMAEIIQGEGNAAFVKFKYNQDTDFVDNQFKEKNPNPESKGAFKTNMDGYSVKRDLKFHHNSLW\n>gi|641669265|ref|XP_008184748.1| PREDICTED: eukaryotic translation initiation factor 2-alpha kinase isoform X2 [Acyrthosiphon pisum]\nMNLIIIKYLLKVVFIVFGVQTVFVLCDKPVCPGNHEANKQFIFISTLDGKLTALNTANGGTEAWKLSTEPGALLSSTIGQPELSNNGLWVRMIPSLSGSLYTFDGENLDRLPFTVDSLLKSYFPYYDGLAMSGGKISRTYGVDMSTGQLLYKCDMDQCNNFPSNSFTSIDGNILILQTQTQTVRASDTLTGIERWNFSVGLHDIKVIMDLNNNCHTTNPSIKLDFKINIPNGVVTAVAFDRPQEVVWTHKSESPIVNVWKFEHGKVESIDLFKPDHNLNSIDPVIYLGMHKKQLYIQENDKVFAVNPISYLKSLLLEGNEINKSRIPWKPIPVSSQLISKSPSALQTTDDVSKTTAIAVLYASEYINGNGFYLNGPQKTKRLIDGKKYKSFNSENENETENNHESIIQYEEGLEMPVEIIIVSLWYWWKEVLFISVITAILINIFIPSRLARIITFIHNRSKKNEGVEKIVEPIENNIDCCKDSGIEFSSDNIVQKQLHPIVEFKSRYLQDFEPIHCLGKGGFGIVFEARNKIDDCHYAIKRIPLPSKEESRNRVLREVKALAKLDHQHIVRYFNTWLEEPPSGWQEKHDDDWLQKSGDMDMNSNLTMSEKQVTNVCQNKHHVRAKSLSTWITLPESSEELSDILNNPHALRSYNDKSDSSFIVFESQISDTNTKDCILDISSDNLTKASKRRRYKSECDTTSNAHSERKATRHYLYIQMQLCHKNSLREWLKDNTKNRDMKYILNIFSQIIQAVEYVHLQGLIHRDLKLQK\n>gi|193605856|ref|XP_001945771.1| PREDICTED: replication factor C subunit 2 [Acyrthosiphon pisum]\nMEVDNPEEGASTSAVIDPMEGCSTSTNNVLTTVPPQTKTVKSDLNTPWIEKYRPKSFTDIVGNEETVLRLEKFSSCGNVPNIIIAGPPGVGKTTTILALARILLGGAFKEAVLELNASSDRGIDTVRNKIKMFAQQKVTLPPGRHKIIILDEADSMTDGAQQALRRTMELWSNTTRFALACNNSDKIIEAIQSRCAMLRYGKLSDQEVMTQMLKVCKSEEVSFSADGLEAVVFTAQGDMRQALNNLQSTWNGFRHVDSTNVFKVCDEPHPLLVKEMLLECADQNISKAYKIMAHLWKLGYAPEDIITNIFRVAKHLEIKESLKLKFVQEIGMAHIRIVEGMNSLLQLSGLLAKLCTVSAKTDG\n>gi|193606041|ref|XP_001946815.1| PREDICTED: uncharacterized protein LOC100166012 [Acyrthosiphon pisum]\nMQFNNYHDEAQKTDRDAPPPVEGRMDIGETSECKPRFGRHDAHKRHDTMGEIVQSGTDTMKFKYNHDNDFVDSRFKELIPHPEVVGELQTDKYGNSVKRDLKFHHSTLW\n>gi|641675365|ref|XP_008187013.1| PREDICTED: uncharacterized protein LOC100166012 [Acyrthosiphon pisum]\nMQFNNYHDEAQKTDRDAPPPVEGRMDIGETSECKPRFGRHDAHKRHDTMGEIVQSGTDTMKFKYNHDNDFVDSRFKELIPHPEVVGELQTDKYGNSVKRDLKFHHSTLW\n>gi|193606039|ref|XP_001946532.1| PREDICTED: alpha-tubulin N-acetyltransferase 1-like [Acyrthosiphon pisum]\nMEFKFDIKNVATEEVMKIDNTLTALGHEQNEDLKSIMKLIIDEMGKASAIAQELKMPITSGDKLANSDHILYMMTEHDKPEHFSVVGILKMGWKKLYLYNKEGLRSEAMVYCLLDFYIHESKQRKGYGKRLIECMLQDINLEAKHLAIDKPTKKLLQFMWKHYQLSKLVNQGNNFVIFEEFFDDALDEKNHDNSGHRAVSYMRQPMFGRHGAHKHHDTMGEIVQGEGDAAFVKFKYNQDTDFVDHQFKETNPHPENSNAFKTDKDGNSVKRDLKFHHNSLW\n>gi|641675371|ref|XP_008187015.1| PREDICTED: poly(A) RNA polymerase, mitochondrial-like [Acyrthosiphon pisum]\nMDLFKDWGLLCARILSDLELMNLSLTSTEIQSRVQQLCDSISSFQINTDSKKIHIFGSRIYGLATNTTDIDIYLEIDDTFDGIIANNEEIQVEYVQQFTKYCLLKPEVFQNVKSICNCRVPIVTFYHVPSKFICDVSFKSGLGTYNTKLIKFYLSMDTTVKWLVCVIVKNWALQNGLKDRNLFTSYALIWLVLFYLMTEKVVPSLIKLRQNATKADHKVIEGWDCTFGKCSVYISEDKRPKLLMGFFQYYANKRALKDNVLSTCTGQLIKKHAFYEKFSQLPGLSKIQRTKFKNFKAKVDSSFEKNYGLVLQDPFELSFNLTRNLHNQALTDFCDLCHQSSTLLINMKGYSMFSNT\n>gi|641676236|ref|XP_008187335.1| PREDICTED: allatostatins [Acyrthosiphon pisum]\nMHHSCCMWILVIATAVWTDAITGHEDKVGIKSQQAQQQQQSDIMQTMVDGGGHQSIQMTSPAESYFNDPLGPLGYLAKRAHKQYGFGLGKRLYRQYEFGLGKRSASKQYGFGLGKRAALKQYEFGLGKRASPTFYSFGLGRRASPQYSFGLGKRVSHPSFLNVDDRESDYTYNDLSEEKKRTADDMGHGQRFAFGLGKRGAGAEWDDGDGDGDDAAPIWHPAVRRARLQYGFGLGKRADRDYDATTGTEYTDTLQLADDAADINN\n>gi|641675388|ref|XP_008187022.1| PREDICTED: uncharacterized protein LOC103310453 [Acyrthosiphon pisum]\nMAEIMNIDVSIKLPPLLLQSFSINNYEAKCMKCNISCAPEEEDILFHLSVCNGTLIEENIQTLFKFNCLECNYLTHSIDQWKCHLFKLDHISKSFDFDILRLSYDCKSCNTHFFGFRDSILKHHCKPQFIPSISYLMSSVYKNYNVQDEQTMFHYCTDCSFFTDNLTELHKKEHSEVADPSVCHSCLITFYGSSNEEFLNHKVSFEHILLWCLNGARSVPKMSTTAFQNLPYYITKYFVISPLLKKFCCIVCNTKNILTYECIYDHFYNCISSKEISDVKGCNPLLSINCNLCDYSCFSVDDMYKCWVDHVISFDHLSKTVILSLKI\n>gi|641675373|ref|XP_008187016.1| PREDICTED: poly(A) RNA polymerase, mitochondrial-like [Acyrthosiphon pisum]\nMNLSRTSIETRSRVQQLCDSICSFQINTDSKKIHTFGSRVYGLATNTTNIDIYLEIDDTFDGIIANNEKIQVEYVQQFTKYCLSKPEVFQNVKSICNCRMPIVTFYHVPSKFICDVSFKSGLVTYNTELIKFYLLMNPTVKWLVCVIVKNWAPQNGLIDRQLFTSYALIWLVLFYLMTEKVVPSLIKLRHISTEDDHKVIEGWDCTFGKCFIYISEEKRPKLLLGFFQYYANKRALKDNVLSTCTGQLIKKHEFFERFSQLPGLSQIQRTKFKNFKAEVDSSFEKNYGLVLQDPFELSFNLTRNLHDKALNDFCDLCMQSSRLLLNMKD\n>gi|641659926|ref|XP_008181304.1| PREDICTED: uncharacterized protein LOC100570556 isoform X2 [Acyrthosiphon pisum]\nMHKFFVQIYIFVLIIWAVEKSDCKQGACLNYGHSCWGAHGKRNVPNDLDSLIRYRMAVFKKSGHRDSFINPNADQSQEDIPNYYNIFKHYSKINSVKTNNDDTVDTWSLEPSNNLPSGGSYYEDQVLDPRIEYKIMKI\n>gi|301771746|ref|XP_002921293.1| PREDICTED: thyrotropin releasing hormone [Ailuropoda melanoleuca]\nMPGPWLQLAMALTLTVAGIPGGRAQPEVAQQEAAMAPERAGLDDLLRQAQRLLFLREDLQRLRGNQGDLESEAQILQPDWLSKRQHPGKREGEAEEGVEEEEEEGGAVGPHKRQHPGRQEDVAAWSDVTLQKRQHPGRRAPLLGYAFTKRQHPGRRLVDSKAQRSWEAEEEDGEEEGGEPMPEKRQHPGKRALGSPCGPGAACGQASLLLGLLDDLSRGQGAEEKRQHPGRRAAWAREPLEE\n>gi|193629757|ref|XP_001950852.1| PREDICTED: splicing factor U2AF 50 kDa subunit-like [Acyrthosiphon pisum]\nMGEDKERERDRDRGEREKERGERRRRSRSRDRERHRRHRSRSRDGRKRSRSKSPKNKSRRRKPSLYWDVPPPGFEHIAPLQYKAMQAAGQIPANTMPDTPQTAVPVVGSTITRQARRLYVGNIPFGVTEDEMMEFFNQQMHLSGLAQAAGNPVLACQINLDKNFAFLEFRSIDETTQAMAFDGINFKGQSLKIRRPHDYQPTPGMTESNPVTNYNSGMTLDMMKYDSSSFGLGTVPDSPHKIFIGGLPAYLNDEQVKELLTSFGQLKAFNLVKDAATGLSKGYAFCEYADVVMTDQAIAGLNGMQLGEKKLIVQRASIGAKNPGLGQAPVTIQVPGLTVVGTAGPPTEVLCLLNMVTPDELKDEEEYEDILEDIREECNKYGVVRSLEIPRPIEGIDVPGCGKVFIEFNAIPDCQKAQQALAGRKFNNRVVVTSFMEPDKYHRREF\n",NS.addSeqValidation=function(){$.validator.addMethod("checkInputType",function(e,t){var n=[],i="";if(">"===e.charAt(0)){for(var s=e.split(">"),o=1;o<s.length;o++){var a=s[o].split("\n");if(0!==a.length){var r=jQuery.grep(a,function(e){return e});if(0!==r.length){r.shift();var l=r.join("");if(i=NS.checkType(l,.9),n.push(i),"protein"!==i&&"dna"!==i&&"rna"!==i)return!1}}}for(var u=n[0],d=0;d<n.length;d++)if(n[d]!==u)return!1;return!0}return"protein"===(i=NS.checkType(e,.9))||"dna"===i||"rna"===i},"* The Input must be either DNA or protein sequence(s). Please ensure that your sequences do not contains any non-letter character(s). If there are multiple sequences, ensure that they are all of one type. ")},NS.setUpValidatorDefaults=function(){NS.addSeqValidation(),$.validator.setDefaults({errorClass:"invalid",errorPlacement:function(e,t){e.insertAfter($(t).siblings("label"))}})},NS.initValidation=function(){NS.setUpValidatorDefaults(),$("#input").validate({rules:{seq:{required:function(e){return $("textarea[name=seq]").is(":visible")}},input_file:{required:function(e){return $("textarea[name=input_file]").is(":visible")}}},submitHandler:function(e){if($("#spinnermodel").modal("open"),0!==NS.fineUploader.getInProgress())return $(".validation_text").text("Please wait until all the files have completely uploaded."),!1;$(".validation_text").text("");var t=$("#input").serializeArray();t.push({name:"files",value:JSON.stringify(NS.fineUploader.getUploads())}),$.ajax({type:"POST",url:$("#input").attr("action"),data:t,success:function(e){NS.ajaxSuccessFunction(e)},error:function(e,t){NS.ajaxErrorFunction(e,t)}})}})},NS.ajaxSuccessFunction=function(e){$("#results_box").show(),$("#output").html(e),$(".alignment").css("max-width",$(".card").width()-120+"px"),$(window).on("resize",function(){$(".alignment").css("max-width",$(".card").width()-120+"px")}),$(".np_collapsible").collapsible(),$(".np_inner_collapsible").collapsible(),$("html, body").animate({scrollTop:$("#results").offset().top}),$("#spinnermodel").modal("close")},NS.ajaxErrorFunction=function(e,t){var n;$("#results_box").show(),n=500==e.status||400==e.status?e.responseText:"There seems to be an unidentified Error.",$("#output").html(n),$("#spinnermodel").modal("close")},NS.initFineUploader=function(){NS.fineUploader=new qq.FineUploader({element:$("#fine-uploader-validation")[0],template:"qq-template-validation",request:{endpoint:"/api/upload"},thumbnails:{placeholders:{waitingPath:"/assets/img/fine-uploader/placeholders/waiting-generic.png",notAvailablePath:"/assets/img/fine-uploader/placeholders/not_available-generic.png"}},validation:{allowedExtensions:["fa","fas","fna","faa","fasta"],itemLimit:5,sizeLimit:7865e4},chunking:{enabled:!0,concurrent:{enabled:!0},success:{endpoint:"/api/upload_done"}}}),NS.fineUploader.addExtraDropzone($(".drop_zone_container")[0])},NS.initShowExampleButton=function(){$("#np_example").on("click",NS.examplarSequences),$("#input_type").on("click",function(){})},NS.initMaterialize=function(){$(".sidenav").sidenav(),document.querySelectorAll(".modal"),M.Modal.init(document.getElementById("explanation")),M.Modal.init(document.getElementById("spinnermodel"),{dismissible:!1}),M.Tabs.init(document.getElementById("input_type"),{onShow:function(){0==$(this)[0].index?$(".show_examples_text").show():$(".show_examples_text").hide()}}).select("paste")},NS.initViewMoreInfoToggle=function(){$(".more_info_btn").click(function(){var e=$(this).siblings(".more_info_body");$(e).is(":visible")?$(this).text("View More Information"):$(this).text("View Less Information")})},NS.initSpFilter=function(){$(".sp_filter").change(function(){$(this).prop("checked")?$(".card").has(".no_sp_present").hide():$(".card").has(".no_sp_present").show()})},NS.initAdvParamsToggle=function(){var e=document.getElementById("adv_params_btn");"&nbsp;&nbsp;Show Advanced Parameters"===e.innerHTML?e.innerHTML="&nbsp;&nbsp;Hide Advanced Parameters":e.innerHTML="&nbsp;&nbsp;Show Advanced Parameters"},NS.examplarSequences=function(){$("#seq").focus(),$("#seq_label").addClass("active"),$("#seq").val(NS.fasta),$("#seq").valid(),M.textareaAutoResize($("#seq"))},NS.checkType=function(e,t,n,i){"use strict";void 0===t&&(t=.9),void 0===n&&(n=1e4),void 0===i&&(i=1);var s=e.slice(i-1,n),o=s.replace(/N/gi,""),a=o.length,r=(o.match(/[ACG]/gi)||[]).length/a,l=(o.match(/[T]/gi)||[]).length/a,u=(o.match(/[U]/gi)||[]).length/a,d=s.replace(/X/gi,"").length,c=(s.match(/[ARNDCQEGHILKMFPSTWYV\*]/gi)||[]).length/d;return t<=r+l||t<=r+u?u<=l?"dna":l<=u?"rna":"dna":t<=c?"protein":void 0};